(function(){var m,aa,ba={163840:[40,1,8],184320:[40,1,9],327680:[40,2,8],368640:[40,2,9],737280:[80,2,9],1228800:[80,2,15],1474560:[80,2,18],2949120:[80,2,36],21368320:[615,4,17]};
function ca(a,b){var c;if(a){b||(b=16);if("$"==a.charAt(0))b=16,a=a.substr(1);else if("0x"==a.substr(0,2))b=16,a=a.substr(2);else{var d=a.charAt(a.length-1).toLowerCase();"h"==d?(b=16,d=null):"."==d&&(b=10,d=null);null==d&&(a=a.substr(0,a.length-1))}var e,d=a,f=b;(f&&10!=f?16==f?null!==d.match(/^[0-9a-f]+$/i):2==f&&null!==d.match(/^[01]+$/i):null!==d.match(/^[0-9]+$/))&&!isNaN(e=parseInt(a,b))&&(c=e|0)}return c}
function da(a,b){var c="";void 0===b?b=32:32<b&&(b=32);if(null==a||isNaN(a))for(;0<b--;)c="?"+c;else for(;0<b--;)c=(a&1?"1":"0")+c,a>>=1;return c}function ea(a,b){var c="";if(!b||4<b)b=4;for(var d=0;d<b;d++)c&&(c=","+c),c=da(a&255,8)+"b"+c,a>>=8;return c}function r(a,b){var c="";void 0===b?b=8:8<b&&(b=8);if(null==a||isNaN(a))for(;0<b--;)c="?"+c;else for(;0<b--;){var d=a&15,d=d+(0<=d&&9>=d?48:55),c=String.fromCharCode(d)+c;a>>=4}return c}function t(a){return"0x"+r(a,2)}
function u(a){return"0x"+r(a,4)}function fa(a,b){var c=a,d=a.lastIndexOf("/");0<=d&&(c=a.substr(d+1));d=c.indexOf("&");0<d&&(c=c.substr(0,d));b&&(d=c.lastIndexOf("."),0<d&&(c=c.substring(0,d)));return c}function ha(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase());return b}function ia(a,b){return-1!==a.indexOf(b,a.length-b.length)}var ja={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function ka(a){return a.replace(/[&<>"']/g,function(a){return ja[a]})}
function la(a,b,c){return c?("                                        "+a).slice(-b):(a+"                                        ").slice(0,b)}function na(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function oa(a,b,c){var d=0,e=a.length,f=0;for(void 0===c&&(c=function(a,b){return a>b?1:a<b?-1:0});d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d}var pa=Date.now||function(){return+new Date};
function qa(){function a(a){return(10>a?"0":"")+a}var b=new Date;return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}var ra=[31,28,31,30,31,30,31,31,30,31,30,31];function sa(a,b){var c=0,d=1,e;for(e in a){if(d>=arguments.length)break;var f=a[e],g=arguments[d++],c=c&~f.sh|g<<f.shift&f.sh}return c}function ta(a,b){return(b&a.sh)>>a.shift}
function ua(a,b){var c;if(Array.prototype.indexOf)return a.indexOf(b,c);c=c||0;0>c&&(c+=a.length);0>c&&(c=0);for(var d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1}
function wa(a,b,c,d){var e=0,f=null,g=null;if("object"==typeof resources&&(f=resources[a]))return d&&d(a,f,e),[f,e];var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c&&(h.onreadystatechange=function(){4===h.readyState&&(f=h.responseText,200==h.status||!h.status&&f.length&&"file:"==(window?window.location.protocol:"file:")||(e=h.status||-1),d&&d(a,f,e))});if(b&&"object"==typeof b){var k="",l;for(l in b)b.hasOwnProperty(l)&&(k&&(k+="&"),k+=l+"="+encodeURIComponent(b[l]));
k=k.replace(/%20/g,"+");h.open("POST",a,!!c);h.setRequestHeader("Content-type","application/x-www-form-urlencoded");h.send(k)}else h.open("GET",a,!!c),"bytes"==b&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.send();c||(f=h.responseText,200!=h.status&&(e=h.status||-1),d&&d(a,f,e),g=[f,e]);return g}function xa(){return"http://"+(window?window.location.host:"www.pcjs.org")}function ya(){return window?window.navigator.userAgent:""}function w(a){window&&window.alert(a)}
function za(a){var b=!1;window&&(b=window.confirm(a));return b}var Aa=null;function Ca(){if(null==Aa){var a=!1;if(window)try{window.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==window.localStorage.getItem("PCjs.localStorage"),window.localStorage.removeItem("PCjs.localStorage")}catch(b){a=!1}Aa=a}return Aa}function Ea(a){var b;if(window)try{b=window.localStorage.getItem(a)}catch(c){}return b}
function Fa(a,b){try{return window.localStorage.setItem(a,b),!0}catch(c){}return!1}function Ha(a){if(window){var b=ya();return"iOS"==a&&b.match(/(iPod|iPhone|iPad)/)&&b.match(/AppleWebKit/)||"MSIE"==a&&b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)?!0:!1}return!1}
function Ia(a,b,c,d){var e=null;b="data:application/"+b+(c?";base64":"")+",";Ha("Firefox")?(b+=c?a:encodeURIComponent(a),d&&(e=document.createElement("a"),"string"!=typeof e.download&&(e=null))):b+=c?a:encodeURI(a);e?(e.href=b,e.download=d,document.body.appendChild(e),e.click(),document.body.removeChild(e),a='Check your Downloads folder for "'+d+'"'):(window.open(b),a="Check your browser for a new window/tab containing the requested data");return a}
function Ja(a,b,c){function d(){--a;0<=a&&(b()||(a=0));0<a?setTimeout(d,0):c()}d()}function Ka(a,b){function c(){b(100===d)&&(e=setTimeout(c,d),d=100)}var d=0,e=null,f=!1;a.onmousedown=function(){f||e||(d=500,c())};a.ontouchstart=function(){e||(d=500,c())};a.onmouseup=a.onmouseout=function(){e&&(clearTimeout(e),e=null)};a.ontouchend=a.ontouchcancel=function(){e&&(clearTimeout(e),e=null);f=!0}}var La={init:[],show:[],exit:[]},Ma=!1,Oa=!0;
function Pa(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function Qa(a){La.init.push(a)}function Ra(a){if(Oa)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){w("An unexpected exception occurred:\n\n"+c.message+"\n\nPlease send this information to support@pcjs.org. Thanks.")}}function Sa(a){!Oa&&a?(Oa=!0,Ma&&Ta("init")):Oa=a}function Ta(a){La[a]&&Ra(La[a])}Pa("onload",function(){Ma=!0;Ra(La.init)});Pa("onpageshow",function(){Ra(La.show)});
Pa(Ha("Opera")||Ha("iOS")?"onunload":"onbeforeunload",function(){Ra(La.exit)});function Ua(a,b,c,d){this.type=a;b||(b={id:"",name:""});this.id=b.id;this.name=b.name;this.vk=b.comment;this.wk=b;void 0===this.id&&(this.id="");b=this.id.indexOf(".");0<b?(this.ve=this.id.substr(0,b),this.be=this.id.substr(b+1)):this.be=this.id;this[a]=c;this.la={af:!1,cd:!1,gh:!1,ec:!1,vd:!1};this.rg=null;this.la.vd=!1;this.qa={};this.ha=null;this.wc=d||0;Va.push(this)}var Xa=void 0,Ya={};
if(window){Xa||(Xa=window.location.search.substr(1));for(var Za,ab=/\+/g,bb=/([^&=]+)=?([^&]*)/g;Za=bb.exec(Xa);)Ya[decodeURIComponent(Za[1].replace(ab," "))]=decodeURIComponent(Za[2].replace(ab," "))}function cb(a){function b(){}if(window){if(!a)throw new TypeError;if(Object.create)return Object.create(a);var c=typeof a;if("object"!==c&&"function"!==c)throw new TypeError;}b.prototype=a;return new b}
function db(a,b){b||(b=Ua);a.prototype=cb(b.prototype);a.prototype.constructor=a;a.prototype.parent=b.prototype}var Va=[],eb={};function fb(a,b,c){eb[a]&&b&&(eb[a][b]=c)}function gb(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");for(b=0;b<Va.length;b++){var d=Va[b];a&&d.id.indexOf(a)||c.push(d)}return c}function hb(a,b){if(void 0!==a){var c;b&&0<(c=b.indexOf("."))&&(a=b.substr(0,c+1)+a);for(c=0;c<Va.length;c++)if(Va[c].id===a)return Va[c]}return null}
function ib(a,b){var c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");for(d=0;d<Va.length;d++)if(c)c==Va[d]&&(c=null);else if(!(a!=Va[d].type||b&&Va[d].id.indexOf(b)))return Va[d]}return null}function kb(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(c){w(c.message+" ("+a+")")}return b}function lb(a,b,c){var d;b&&(void 0===d&&(d="Panel"),(d=ib(d,a.id))&&(b=d.qa[b])&&a.Pb(null,c,b))}
function mb(a,b){for(var c=nb(b.parentNode,"pcjs-control"),d=0;d<c.length;d++)for(var e=c[d].childNodes,f=0;f<e.length;f++){var g=e[f];if(1===g.nodeType){var h=g.getAttribute("class");if(h)for(var k=h.split(" "),l=0;l<k.length;l++)switch(h=k[l],h){case "pcjs-binding":(h=kb(g))&&h.binding&&a.Pb(h.type,h.binding,g,h.value),l=k.length}}}}
function nb(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var e=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)e.test(a[b].className)&&c.push(a[b]);return c}
Ua.prototype={constructor:Ua,parent:null,toString:function(){return this.name?this.name:this.id||this.type},Pb:function(a,b,c){switch(b){case "clear":return this.qa[b]||(this.qa[b]=c,c.onclick=function(a){return function(){a.qa.print&&(a.qa.print.value="")}}(this)),!0;case "print":return this.qa[b]||(this.Ff=this.qa[b]=c,c.value="",this.O=function(a){return function(b,c){8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096));a.value+=(void 0!==c?c+": ":"")+(b||"")+"\n";a.scrollTop=a.scrollHeight}}(c),
this.Oa=function(a,b,c){this.O(a,"notice",c)}),!0;default:return!1}},log:function(){},O:function(){},status:function(a){this.O(this.be+": "+a)},Oa:function(a,b){b||w(a)},kc:function(){return this.la.ec=!0},jc:function(a,b){b&&(this.la.ec=!1);return!0}};function x(a,b,c,d,e,f,g){a.ha&&(!0===g?g=0:null==g&&(g=a.wc),pb(a.ha,a,b,c,d,e,f,g))}function y(a,b,c,d){a.ha&&(!0===c||z(a,c|0))&&a.ha.message(b,d)}
function z(a,b){if(a.ha){a===a.ha?b|=0:b=b||a.wc;var c=a.ha.wc&b;return!!b&&c===b||!!(c&a.ha.Ik)}return!1}function qb(a,b){if(a.la.gh)return a.la.cd&&(a.la.cd=!1),a.la.gh=!1;if(a.la.vd)return a.O(a.toString()+" error"),!1;a.la.cd=b;return a.la.cd}function rb(a,b){a.la.cd&&(b?a.la.gh=!0:void 0===b&&a.O(a.toString()+" busy"));return a.la.cd}function sb(a,b){if(!a.la.vd&&(a.la.af=!1!==b,a.la.af)){var c=a.rg;a.rg=null;c&&c()}}function tb(a,b){b&&(a.la.af?b():a.rg=b);return a.la.af}
function ub(a,b){a.la.vd=!0;a.Oa(b)}
var vb="undefined"!==typeof ArrayBuffer,wb={Dg:4,Hc:5,Id:6,fd:7,gd:8,hb:9,gc:11,hc:12,Fe:4,dj:60,ej:83,yc:3,Vb:9,Lc:16,Cg:1,ij:19,kj:28,mj:16,lj:21,jj:37,gj:2,Fh:9,hj:5,fj:33,Hh:10,Gh:8,Sf:3,Rf:15,Aj:51,Bj:1,Cj:2,Dj:4,zj:32,Ih:15,Fj:15,Za:16,$a:4,Hj:11,Gj:18,Ej:24,ic:4,Ij:2,nf:16,Jj:17,Nh:18,Kj:19,Mh:5,Oh:6,Pj:2,Oj:8,Mj:9,Nj:10,Lj:10,Ph:10,Qh:10,oj:80,qj:144,nj:86,pj:154,sj:101,uj:165,rj:107,tj:171,Rj:70,Tj:113,Qj:76,Sj:124,wj:80,yj:128,vj:86,xj:134,Uf:3,Tf:16,Vh:10,Uh:8,Uj:51,zc:8,Vj:17,Wj:36,Rc:11,
Xj:16,Ge:10,nd:2,Ch:18,Dh:7,Eh:15,Jh:12,Kh:7,Lh:11,Rh:18,Sh:7,Th:15,Wh:15,Xh:7,Yh:13,bi:11,ci:7,di:8,Yj:8,ak:12,Zj:18,$j:17,bk:15,$h:8,Zh:20,ai:2,gi:3,Vf:9,fi:5,ei:11,ii:4,hi:17,ck:11},xb={Dg:0,Hc:0,Id:0,fd:0,gd:0,hb:0,gc:1,hc:1,Fe:3,dj:14,ej:16,yc:2,Vb:7,Lc:7,Cg:0,ij:7,kj:13,mj:7,lj:11,jj:16,gj:3,Fh:6,hj:2,fj:13,Hh:5,Gh:5,Sf:2,Rf:7,Aj:23,Bj:0,Cj:1,Dj:3,zj:17,Ih:7,Fj:11,Za:7,$a:3,Hj:7,Gj:11,Ej:15,ic:2,Ij:3,nf:7,Jj:8,Nh:8,Kj:8,Mh:4,Oh:4,Pj:2,Oj:3,Mj:5,Nj:2,Lj:3,Ph:5,Qh:3,oj:14,qj:22,nj:17,pj:25,sj:17,
uj:25,rj:20,tj:28,Rj:13,Tj:21,Qj:16,Sj:24,wj:13,yj:21,vj:16,xj:24,Uf:2,Tf:7,Vh:5,Uh:5,Uj:19,zc:5,Vj:5,Wj:17,Rc:3,Xj:5,Ge:3,nd:0,Ch:8,Dh:5,Eh:9,Jh:5,Kh:5,Lh:4,Rh:5,Sh:5,Th:4,Wh:7,Xh:5,Yh:8,bi:3,ci:4,di:3,Yj:11,ak:11,Zj:15,$j:15,bk:7,$h:5,Zh:8,ai:0,gi:2,Vf:6,fi:3,ei:6,ii:3,hi:5,ck:5},zb={19:{0:"disk reset",1:"get status",2:"read drive @DL (@CH:@DH:@CL,@AL) into @ES:@BX",3:"write drive @DL (@CH:@DH:@CL,@AL) from @ES:@BX",4:"verify drive @DL (@CH:@DH:@CL,@AL)",5:"format drive @DL using @ES:@BX",8:"read drive @DL parameters",
21:"get drive @DL DASD type",22:"get drive @DL change line status",23:"set drive @DL DASD type",24:"set drive @DL media type"},21:{128:"open device",129:"close device",130:"program termination",131:"wait @CX:@DXus for event",132:"joystick support",133:"SYSREQ pressed",134:"wait @CX:@DXus",135:"move block (@CX words)",136:"get extended memory size",137:"processor to virtual mode",144:"device busy loop",145:"interrupt complete flag set"},33:{0:"terminate program",1:"read character (AL) from stdin with echo",
2:"write character #@DL to stdout",3:"read character (AL) from stdaux",4:"write character #@DL to stdaux",5:"write character #@DL to stdprn",6:"direct console output (input if @DL=FF)",7:"direct console input without echo",8:"read character (AL) from stdin without echo",9:"write string $@DS:@DX to stdout",10:"buffered input (DS:DX)",11:"get stdin status",12:"flush buffer and read stdin",13:"disk reset",14:"select default drive @DL",15:"open file using FCB ^@DS:@DX",16:"close file using FCB ^@DS:@DX",
17:"find first matching file using FCB ^@DS:@DX",18:"find next matching file using FCB ^@DS:@DX",19:"delete file using FCB ^@DS:@DX",20:"sequential read from file using FCB ^@DS:@DX",21:"sequential write to file using FCB ^@DS:@DX",22:"create or truncate file using FCB ^@DS:@DX",23:"rename file using FCB ^@DS:@DX",25:"get current default drive (AL)",26:"set disk transfer area (DTA=@DS:@DX)",27:"get allocation information for default drive",28:"get allocation information for specific drive @DL",31:"get drive parameter block for default drive",
33:"read random record from file using FCB ^@DS:@DX",34:"write random record to file using FCB ^@DS:@DX",35:"get file size using FCB ^@DS:@DX",36:"set random record number for FCB ^@DS:@DX",37:"set address @DS:@DX of interrupt vector @AL",38:"create new PSP at segment @DX",39:"random block read from file using FCB ^@DS:@DX",40:"random block write to file using FCB ^@DS:@DX",41:"parse filename $@DS:@SI into FCB @ES:@DI using @AL",42:"get system date (year=CX, mon=DH, day=DL)",43:"set system date (year=@CX, mon=@DH, day=@DL)",
44:"get system time (hour=CH, min=CL, sec=DH, 100ths=DL)",45:"set system time (hour=@CH, min=@CL, sec=@DH, 100ths=@DL)",46:"set verify flag @AL",47:"get disk transfer area (DTA=ES:BX)",48:"get DOS version (AL=major, AH=minor)",49:"terminate and stay resident",50:"get drive parameter block (DPB=DS:BX) for drive @DL",51:"extended break check",52:"get address (ES:BX) of InDOS flag",53:"get address (ES:BX) of interrupt vector @AL",54:"get free disk space of drive @DL",55:"get(0)/set(1) switch character @DL (@AL)",
56:"get country-specific information",57:"create subdirectory $@DS:@DX",58:"remove subdirectory $@DS:@DX",59:"set current directory $@DS:@DX",60:"create or truncate file $@DS:@DX with attributes @CX",61:"open file $@DS:@DX with mode @AL",62:"close file @BX",63:"read @CX bytes from file @BX into buffer @DS:@DX",64:"write @CX bytes to file @BX from buffer @DS:@DX",65:"delete file $@DS:@DX",66:"set position @CX:@DX of file @BX relative to @AL",67:"get(0)/set(1) attributes @CX of file $@DS:@DX (@AL)",
68:"get device information (IOCTL)",69:"duplicate file handle @BX",70:"force file handle @CX to duplicate file handle @BX",71:"get current directory (DS:SI) for drive @DL",72:"allocate memory segment with @BX paragraphs",73:"free memory segment @ES",74:"resize memory segment @ES to @BX paragraphs",75:"load program $@DS:@DX using parameter block @ES:@BX",76:"terminate with return code @AL",77:"get return code (AL)",78:"find first matching file $@DS:@DX with attributes @CX",79:"find next matching file",
80:"set current PSP @BX",81:"get current PSP (bx)",82:"get system variables (ES:BX)",83:"translate BPB @DS:@SI to DPB (ES:BP)",84:"get verify flag (AL)",85:"create child PSP at segment @DX",86:"rename file $@DS:@DX to $@ES:@DI",87:"get(0)/set(1) file @BX date @DX and time @CX (@AL)",88:"get(0)/set(1) memory allocation strategy (@AL)",89:"get extended error information",90:"create temporary file $@DS:@DX with attributes @CX",91:"create file $@DS:@DX with attributes @CX",92:"lock(0)/unlock(1) file @BX region @CX:@DX length @SI:@DI (@AL)",
93:"critical error information (@AL)",96:"get fully-qualified filename from $@DS:@SI",99:"get lead byte table (@AL)",108:"extended open file $@DS:@SI"},65:{79:"check debugger loaded"}};function Ab(a){Ua.call(this,"Panel",a,Ab);this.L=this.V=this.fa=-1}db(Ab);function Bb(a,b,c,d){this.A=[a,b,c,d];this.B=null;void 0===a&&(this.A[0]=256*Math.random()|0,this.A[1]=256*Math.random()|0,this.A[2]=256*Math.random()|0,this.A[3]=255,this.B=null)}
Bb.prototype.toString=function(){this.B||(this.B="#"+r(this.A[0],2)+r(this.A[1],2)+r(this.A[2],2));return this.B};function Cb(a,b,c,d){this.x=a;this.y=b;this.bd=c;this.A=d}Cb.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.bd&&b>=this.y&&b<this.y+this.A};function Db(a,b,c,d){void 0===d&&(d=b>=c>>2);d?(b=new Cb(a.x,a.y,a.bd,a.A*b/c|0),a.y+=b.A,a.A-=b.A):(b=new Cb(a.x,a.y,a.bd*b/c|0,a.A),a.x+=b.bd,a.bd-=b.bd);return b}m=Ab.prototype;
m.Pb=function(a,b,c,d){return this.da&&this.da.Pb(a,b,c,d)||this.F&&this.F.Pb(a,b,c,d)||this.C&&this.C.Pb(a,b,c,d)||this.ha&&this.ha.Pb(a,b,c,d)?!0:this.parent.Pb.call(this,a,b,c,d)};m.Gc=function(a,b,c,d){this.da=a;this.ea=b;this.F=c;this.ha=d;this.C=Eb(a,"Keyboard")};m.kc=function(a,b){b||Fb();return!0};m.jc=function(){return!0};m.ge=function(a,b){a.button||(this.fa=b?0:-1,Gb(this,a,b))};m.Jf=function(a){Gb(this,a)};
function Gb(a,b,c){var d=1280/null.offsetWidth,e=720/null.offsetHeight,f=null.getBoundingClientRect(),d=(b.clientX-f.left)*d|0;b=(b.clientY-f.top)*e|0;null==c&&(a.fa||(a.fa=Math.abs(a.L-d)>Math.abs(a.V-b)?1:2),1==a.fa?b=a.V:2==a.fa&&(d=a.L));a.L=d;a.V=b;if(0<=d&&1280>d&&0<=b&&720>b){a:{c=d;if(960>c&&a.A&&a.A.Pe)for(f=0;f<a.A.Pe.length;f++)if(e=a.A.Pe[f],e.contains(c,b)){c-=e.x;b-=e.y;var d=a.A.Cf[f],g=ta(Hb.dk,a.A.Vg[d.Sk]),f=g*a.ea.Jb,d=(g+d.Qd)*a.ea.Jb-1;0<b&&(f+=e.bd*(b-1)*a.za);f+=c*a.za;f|=0;
f>d&&(f=d);c=f;break a}c=-1}if(-1!==c&&(c&=-16,c!=a.Ca)){b=c;if(a.context&&a.ja&&a.ka){e=a.ja.width;a.ka.fillStyle="black";a.ka.fillRect(0,360,e,360);Ib(a,378,a.ja,a.ka);a.pa=a.Fa.width/24|0;if(null==b)Jb(a,"Mouse over memory to dump");else for(Jb(a,"0x"+r(b),null,0,1),f=1;16>=f;f++){d="";for(g=1;8>=g;g++){var h;h=a.ea;var k=b++;h=h.ra[(k&h.Gb)>>>h.La].pe(k&h.A,k);Jb(a,r(h,2),null,1);d+=32<=h&&128>h?String.fromCharCode(h):"."}Jb(a,d,null,0,1)}a.context.drawImage(a.ja,0,360,e,360,a.Xb,a.sb,a.Ra,a.bb)}a.Ca=
c}}}m.pd=function(){};function Kb(a,b,c,d){a.A.Cf[a.A.Ei++]={Sk:b,Qd:c,type:d};return sa(Hb,b,c,0,d)}function Ib(a,b,c,d){var e,f=null.style.color,g=a.Ma=10;a.B=g;a.U=b;a.W=a.wa=18;e||(e=a.ua||a.wa+"px Monaco, Lucida Console, Courier New");a.ga=a.ua=e;c&&(a.Fa=c);d&&(a.N=d,a.Ga=f||"white")}
function Jb(a,b,c,d,e){a.N.font=a.ga;a.N.fillStyle=a.Ga;a.N.fillText(b,a.B,a.U);a.B+=a.pa;null!=c&&(16!=a.jb?b=c.toString():(b=8>a.Ka?"0x":"",b+=r(c,a.Ka)),a.N.fillText(b,a.B,a.U),a.B+=a.pa);d&&(a.B+=a.pa*d);e&&(a.B=a.Ma,a.U+=(a.W+2)*(e||1))}function Fb(){for(var a=!1,b=nb(document,"pcjs","panel"),c=0;c<b.length;c++){var d=b[c],e=kb(d),f=hb(e.id);f||(a=!0,f=new Ab(e));mb(f,d);a&&sb(f)}}Qa(Fb);
function Lb(a,b,c){Ua.call(this,"Bus",a,Lb);this.F=b;this.ha=c;this.N=a.buswidth||20;this.W=Math.pow(2,this.N);this.wg=this.Gb=this.W-1|0;this.La=32==this.N||20>=this.N?12:24>=this.N?14:15;this.Jb=1<<this.La;this.ga=this.Jb>>2;this.A=this.Jb-1;this.U=this.W/this.Jb|0;this.ea=this.U-1;this.B=[];this.C=[];this.da=this.V=!1;this.Y=[];this.fa=[];a=new B;Mb(a,this.ha);this.ra=Array(this.U);for(b=0;b<this.U;b++)this.ra[b]=a;a=this.F;b=this.ra;c=this.La;a.kd=a.ra=b;a.La=c;a.Jb=1<<a.La;a.Ga=a.Jb-1;a.ie=b.length;
a.qd=a.ie-1;a.Kb=Array(16);a=this.F;a.Gb=a.sb=this.Gb;sb(this)}db(Lb);var Hb,Nb={dk:20,count:8,ko:1,type:3},Ob=0,Qb;for(Qb in Nb){var Rb=Nb[Qb];Nb[Qb]={sh:(1<<Rb)-1<<Ob,shift:Ob};Ob+=Rb}Hb=Nb;m=Lb.prototype;m.reset=function(){Sb(this,!0)};m.kc=function(a,b){b||this.reset();return!0};
function Tb(a,b,c,d,e){for(var f=b>>>a.La;0<c&&f<a.ra.length;){var g=a.ra[f],h=f*a.Jb,k=c>a.Jb?a.Jb:c;if(g&&g.size){if(g.type==d&&g.controller==e){if(b+c<=g.Ea)return g.Ne+=g.Ea-b,g.Ea=b,!0;if(b>=g.Ea+g.Ne){k=g.size-(b-h);k>c&&(k=c);g.Ne=b-g.Ea+k;c-=k;b=h+a.Jb;continue}}return Ub(a,1,b,c)}g=a.ra[f];b=new B(b,k,a.Jb,d,e);Mb(b,a.ha,g);a.ra[f++]=b;b=h+a.Jb;c-=k}return 0>=c?(Vb(a.F),!0):Ub(a,2,b,c)}
function Sb(a,b){if(32==a.N)b?a.L&&(Wb(a,1048576,1048576,a.L),a.L=null):a.L||(a.L=Xb(a,1048576,1048576),Wb(a,1048576,1048576,Xb(a,0,1048576)));else if(20<a.N){var c=a.Gb&-1048577|(b?1048576:0);if(c!=a.Gb&&(a.Gb=c,a.F)){var d=a.F;d.Gb=d.sb=c}}}m.Ng=function(a,b,c,d){if(!(a&this.A||!b||b&this.A)){for(var e=a>>>this.La;0<b;){var f=this.ra[e];if(!f.controller)return Ub(this,3,a,b,d);Yb(f,c,!0);b-=this.Jb;e++}return!0}return Ub(this,4,a,b)};
function Zb(a,b,c){if(!(b&a.A||!c||c&a.A)){for(var d=b>>>a.La;0<c;){var e=a.ra[d];b=new B(b);Mb(b,a.ha,e);a.ra[d++]=b;b=d*a.Jb;c-=a.Jb}Vb(a.F);return!0}return Ub(a,5,b,c)}function Xb(a,b,c){var d=[];for(b>>>=a.La;0<c&&b<a.ra.length;)d.push(a.ra[b++]),c-=a.Jb;return d}
function Wb(a,b,c,d,e){for(var f=0,g=b>>>a.La;0<c&&g<a.ra.length;){var h=d[f++];if(!h)break;if(void 0!==e){var k=new B(b),l=k,n=e,q=a.ha;l.id=h.id|1;l.Ne=h.Ne;l.size=h.size;n&&(l.type=n,l.N=n==$b);vb?(l.L=h.L,l.qa=h.qa,l.Xa=h.Xa,l.ce=h.ce,l.ca=h.ca,Yb(l,ac?bc:cc)):(l.ca=h.ca,Yb(l,dc));Mb(l,q,h);h=k}a.ra[g++]=h;c-=a.Jb}}m.Ya=function(a){return this.ra[(a&this.Gb)>>>this.La].lc(a&this.A,a)};
m.oa=function(a){var b=a&this.A,c=(a&this.Gb)>>>this.La;return b!=this.A?this.ra[c].rf(b,a):this.ra[c++].lc(b,a)|this.ra[c&this.ea].lc(0,a+1)<<8};function ec(a,b){var c=b&a.A,d=(b&a.Gb)>>>a.La;return c!=a.A?a.ra[d].cg(c,b):a.ra[d++].pe(c,b)|a.ra[d&a.ea].pe(0,b+1)<<8}m.na=function(a){var b=a&this.A,c=(a&this.Gb)>>>this.La;if(b<this.A-2)return this.ra[c].Kd(b,a);for(var d=0,e=4,f=0,g=4-(b&3);e--;)d|=this.ra[c].lc(b++,a++)<<f,--g||(c=c+1&this.ea,b=0),f+=8;return d};
m.sc=function(a,b){this.ra[(a&this.Gb)>>>this.La].uc(a&this.A,b&255,a)};m.ib=function(a,b){var c=a&this.A,d=(a&this.Gb)>>>this.La;c!=this.A?this.ra[d].yf(c,b&65535,a):(this.ra[d++].uc(c,b&255,a),this.ra[d&this.ea].uc(0,b>>8&255,a+1))};function fc(a,b,c){var d=b&a.A,e=(b&a.Gb)>>>a.La;d!=a.A?a.ra[e].vi(d,c&65535,b):(a.ra[e++].wf(d,c&255,b),a.ra[e&a.ea].wf(0,c>>8&255,b+1))}
m.nb=function(a,b){var c=a&this.A,d=(a&this.Gb)>>>this.La;if(c<this.A-2)this.ra[d].xf(c,b);else for(var e=4,f=4-(c&3);e--;)this.ra[d].uc(c++,b&255,a++),--f||(d=d+1&this.ea,c=0),b>>>=8};m.Wi=function(){return null};function gc(a,b){if(void 0===b)return a.da=!a.da,a.da;void 0===a.B[b]&&(a.B[b]=[null,!1]);a.B[b][1]=!a.B[b][1];return a.B[b][1]}
function hc(a,b,c,d){void 0===d&&(d=0);for(var e in c){var f=a,g=+e+d,h=c[e].bind(b);if(void 0!==h)for(var k=+e+d;k<=g;k++)void 0!==f.B[k]?w("Input port "+u(k)+" already registered"):f.B[k]=[h,!1]}}function ic(a,b,c,d){for(var e=0,f=0;0<c;){var g=a.B[b],h=a.Y[b]||1,k=1==h?255:2==h?65535:-1,l=k;void 0!==g?(g[0]&&(l=g[0](b,d),void 0===l?l=k:l&=k),a.ha&&a.da!=g[1]&&jc(a.ha,b,l)):a.ha&&(pb(a.ha,a,b,null,d),a.da&&jc(a.ha,b,l));e|=l<<f;f+=h<<3;b+=h;c-=h}return e}
function kc(a,b){if(void 0===b)return a.V=!a.V,a.V;void 0===a.C[b]&&(a.C[b]=[null,!1]);a.C[b][1]=!a.C[b][1];return a.C[b][1]}function lc(a,b,c,d){void 0===d&&(d=0);for(var e in c){var f=a,g=+e+d,h=c[e].bind(b);if(void 0!==h)for(var k=+e+d;k<=g;k++)void 0!==f.C[k]?w("Output port "+u(k)+" already registered"):f.C[k]=[h,!1]}}
function mc(a,b,c,d,e){for(var f=0;0<c;){var g=a.C[b],h=a.fa[b]||1,k=1==h?255:2==h?65535:-1,k=(d>>>=f)&k;if(void 0!==g){if(g[0])g[0](b,k,e);a.ha&&a.V!=g[1]&&nc(a.ha,b,k)}else a.ha&&(pb(a.ha,a,b,k,e),a.V&&nc(a.ha,b,k));f+=h<<3;b+=h;c-=h}}function Ub(a,b,c,d,e){b="Memory block error ("+b+": "+r(c)+","+r(d)+")";e?a.log(b):w(b);return!1}var oc;if(vb){var pc=new ArrayBuffer(2);(new DataView(pc)).setUint16(0,256,!0);oc=256===(new Uint16Array(pc))[0]}else oc=!1;var ac=oc;
function B(a,b,c,d,e,f){this.id=qc+=2;this.ca=null;this.C=0;this.Ea=a;this.Ne=b;this.size=c||0;this.type=d||rc;this.N=d==$b;this.controller=null;this.F=f;Mb(this);this.Ua=this.Qi=!1;if(c)if(e)this.controller=e,a=e.Vi(a),this.ca=a[0],this.C=a[1],Yb(this,e.lh());else if(vb)this.L=new ArrayBuffer(c),this.qa=new DataView(this.L,0,c),this.Xa=new Uint8Array(this.L,0,c),this.ce=new Uint16Array(this.L,0,c>>1),this.ca=new Int32Array(this.L,0,c>>2),Yb(this,ac?bc:cc);else{this.ca=Array(c>>2);for(e=0;e<this.ca.length;e++)this.ca[e]=
0;Yb(this,dc)}else Yb(this)}var rc=0,$b=2,wc="NONE RAM ROM VIDEO H/W UNPAGED PAGED".split(" "),xc=["black","blue","green","cyan"],qc=0;function yc(a){vb&&!ac&&(a=a<<24|a<<8&16711680|a>>8&65280|a>>>24);return a}
B.prototype={constructor:B,parent:null,nh:function(a){this.Ea=a},save:function(){var a,b;if(this.controller)a=null;else if(vb)for(a=Array(this.size>>2),b=0;b<a.length;b++)a[b]=this.qa.getInt32(b<<2,!0);else a=this.ca;return a},restore:function(a){if(this.controller)return null==a;if(a&&this.size==a.length<<2){var b;if(vb)for(b=0;b<a.length;b++)this.qa.setInt32(b<<2,a[b],!0);else this.ca=a;return this.Ua=!0}return!1},Od:function(a,b,c){b?0===this.Ue++&&(c&&(this.F=c),Bc(this,Ac,!1)):0===this.Te++&&
(c&&(this.F=c),zc(this,Ac,!1))},ja:function(){this.ha&&z(this.ha,129)&&this.ha.message("attempt to read invalid block %"+r(this.Ea),!0);return 255},da:function(a,b){this.ha&&z(this.ha,129)&&this.ha.message("attempt to write "+u(b)+" to invalid block %"+r(this.Ea),!0)},ka:function(a,b){return this.lc(a++,b++)|this.lc(a,b)<<8},fa:function(a,b){return this.lc(a++,b++)|this.lc(a++,b++)<<8|this.lc(a++,b++)<<16|this.lc(a,b)<<24},W:function(a,b,c){this.uc(a++,b&255,c++);this.uc(a,b>>8,c)},U:function(a,b,
c){this.uc(a++,b&255,c++);this.uc(a++,b>>8&255,c++);this.uc(a++,b>>16&255,c++);this.uc(a,b>>>24,c)},Ga:function(a){return this.ca[a>>2]>>>((a&3)<<3)&255},rb:function(a){var b=a>>2;a=(a&3)<<3;var c=this.ca[b]>>a;return 24>a?c&65535:c&255|(this.ca[b+1]&255)<<8},Wa:function(a){var b=a>>2;a=(a&3)<<3;var c=this.ca[b];a&&(c=c>>>a|this.ca[b+1]<<32-a);return c},dc:function(a,b){var c=a>>2,d=(a&3)<<3;this.ca[c]=this.ca[c]&~(255<<d)|b<<d;this.Ua=!0},td:function(a,b){var c=a>>2,d=(a&3)<<3;24>d?this.ca[c]=this.ca[c]&
~(65535<<d)|b<<d:(this.ca[c]=this.ca[c]&16777215|b<<24,c++,this.ca[c]=this.ca[c]&-256|b>>8);this.Ua=!0},Xc:function(a,b){var c=a>>2,d=(a&3)<<3;if(d){var e=-1<<d;this.ca[c]=this.ca[c]&~e|b<<d;c++;this.ca[c]=this.ca[c]&e|b>>>32-d}else this.ca[c]=b;this.Ua=!0},Fa:function(a,b){this.ha&&null!=this.Ea&&Cc(this.ha,this.Ea+a)||this.F&&Dc(this.F,b,1,!1);return this.pe(a,b)},Xb:function(a,b){this.ha&&null!=this.Ea&&Cc(this.ha,this.Ea+a,2)||this.F&&Dc(this.F,b,2,!1);return this.cg(a,b)},Ra:function(a,b){this.ha&&
null!=this.Ea&&Cc(this.ha,this.Ea+a,4)||this.F&&Dc(this.F,b,4,!1);return this.Ig(a,b)},cc:function(a,b,c){this.ha&&null!=this.Ea&&Ec(this.ha,this.Ea+a)||this.F&&Dc(this.F,c,1,!0);this.N?this.da(a,b,c):this.wf(a,b,c)},ve:function(a,b,c){this.ha&&null!=this.Ea&&Ec(this.ha,this.Ea+a,2)||this.F&&Dc(this.F,c,2,!0);this.N?this.da(a,b,c):this.vi(a,b,c)},Wc:function(a,b,c){this.ha&&null!=this.Ea&&Ec(this.ha,this.Ea+a,4)||this.F&&Dc(this.F,c,4,!0);this.N?this.da(a,b,c):this.ua(a,b,c)},Ja:function(a,b){this.yb.ca[this.A]|=
this.ea;this.zb.ca[this.B]|=this.ea;return this.Dd.lc(a,b)},Kb:function(a,b){this.yb.ca[this.A]|=this.ea;this.zb.ca[this.B]|=this.ea;return this.Dd.rf(a,b)},cb:function(a,b){this.yb.ca[this.A]|=this.ea;this.zb.ca[this.B]|=this.ea;return this.Dd.Kd(a,b)},Uc:function(a,b,c){this.yb.ca[this.A]|=this.ea;this.zb.ca[this.B]|=this.V;this.Dd.uc(a,b,c)},xd:function(a,b,c){this.yb.ca[this.A]|=this.ea;this.zb.ca[this.B]|=this.V;this.Dd.yf(a,b,c)},jd:function(a,b,c){this.yb.ca[this.A]|=this.ea;this.zb.ca[this.B]|=
this.V;this.Dd.xf(a,b,c)},Ka:function(a,b){return Fc(this.F,b,!1).lc(a,b)},Qb:function(a,b){return Fc(this.F,b,!1).rf(a,b)},fb:function(a,b){return Fc(this.F,b,!1).Kd(a,b)},be:function(a,b,c){Fc(this.F,c,!0).uc(a,b,c)},Gd:function(a,b,c){Fc(this.F,c,!0).yf(a,b,c)},rd:function(a,b,c){Fc(this.F,c,!0).xf(a,b,c)},Ca:function(a){return this.Xa[a]},Y:function(a){return this.Xa[a]},Ha:function(a){this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=32;this.lc=this.Y;return this.Xa[a]},jb:function(a){return this.qa.getUint16(a,
!0)},pa:function(a){return a&1?this.Xa[a]|this.Xa[a+1]<<8:this.ce[a>>1]},sb:function(a){this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=32;this.rf=this.pa;return a&1?this.Xa[a]|this.Xa[a+1]<<8:this.ce[a>>1]},Ma:function(a){return this.qa.getInt32(a,!0)},ga:function(a){return a&3?this.Xa[a]|this.Xa[a+1]<<8|this.Xa[a+2]<<16|this.Xa[a+3]<<24:this.ca[a>>2]},bb:function(a){this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=32;this.Kd=this.ga;return a&3?this.Xa[a]|this.Xa[a+1]<<8|this.Xa[a+2]<<16|this.Xa[a+3]<<24:this.ca[a>>
2]},Rb:function(a,b){this.Xa[a]=b;this.Ua=!0},sa:function(a,b){this.Xa[a]=b;this.Ua=!0},Jc:function(a,b){this.Xa[a]=b;this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=96;this.uc=this.sa;this.Dd.Ua=!0},qd:function(a,b){this.qa.setUint16(a,b,!0);this.Ua=!0},za:function(a,b){a&1?(this.Xa[a]=b,this.Xa[a+1]=b>>8):this.ce[a>>1]=b;this.Ua=!0},ud:function(a,b){a&1?(this.Xa[a]=b,this.Xa[a+1]=b>>8):this.ce[a>>1]=b;this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=96;this.yf=this.za;this.Dd.Ua=!0},Vc:function(a,b){this.qa.setInt32(a,
b,!0);this.Ua=!0},wa:function(a,b){a&3?(this.Xa[a]=b,this.Xa[a+1]=b>>8,this.Xa[a+2]=b>>16,this.Xa[a+3]=b>>24):this.ca[a>>2]=b;this.Ua=!0},Yc:function(a,b){a&3?(this.Xa[a]=b,this.Xa[a+1]=b>>8,this.Xa[a+2]=b>>16,this.Xa[a+3]=b>>24):this.ca[a>>2]=b;this.yb.ca[this.A]|=32;this.zb.ca[this.B]|=96;this.xf=this.wa;this.Dd.Ua=!0}};function Mb(a,b,c){a.ha=b;a.Te=a.Ue=0;c&&(c.F&&(a.F=c.F),(a.Te=c.Te)&&zc(a,Ac,!1),(a.Ue=c.Ue)&&Bc(a,Ac,!1))}
function Gc(a,b){b?0===--a.Ue&&(a.uc=a.N?a.da:a.wf,a.yf=a.N?a.W:a.vi,a.xf=a.N?a.U:a.ua):0===--a.Te&&(a.lc=a.pe,a.rf=a.cg,a.Kd=a.Ig)}function Bc(a,b,c){c&&a.Ue||(a.uc=!a.N&&b[3]||a.da,a.yf=!a.N&&b[4]||a.W,a.xf=!a.N&&b[5]||a.U);if(c||void 0===c)a.wf=b[3]||a.da,a.vi=b[4]||a.W,a.ua=b[5]||a.U}function zc(a,b,c){c&&a.Te||(a.lc=b[0]||a.ja,a.rf=b[1]||a.ka,a.Kd=b[2]||a.fa);if(c||void 0===c)a.pe=b[0]||a.ja,a.cg=b[1]||a.ka,a.Ig=b[2]||a.fa}
function Yb(a,b,c){b||(b=5==a.type?Hc:6==a.type?Ic:Jc);zc(a,b,c);Bc(a,b,c)}var Jc=[],dc=[B.prototype.Ga,B.prototype.rb,B.prototype.Wa,B.prototype.dc,B.prototype.td,B.prototype.Xc],Ac=[B.prototype.Fa,B.prototype.Xb,B.prototype.Ra,B.prototype.cc,B.prototype.ve,B.prototype.Wc],Ic=[B.prototype.Ja,B.prototype.Kb,B.prototype.cb,B.prototype.Uc,B.prototype.xd,B.prototype.jd],Hc=[B.prototype.Ka,B.prototype.Qb,B.prototype.fb,B.prototype.be,B.prototype.Gd,B.prototype.rd];
if(vb)var cc=[B.prototype.Ca,B.prototype.jb,B.prototype.Ma,B.prototype.Rb,B.prototype.qd,B.prototype.Vc],bc=[B.prototype.Y,B.prototype.pa,B.prototype.ga,B.prototype.sa,B.prototype.za,B.prototype.wa],Kc=[B.prototype.Ha,B.prototype.sb,B.prototype.bb,B.prototype.Jc,B.prototype.ud,B.prototype.Yc];
function Lc(a,b){Ua.call(this,"CPU",a,Lc,1);var c=a.cycles||b,d=a.multiplier||1;this.X={};this.X.Hd=c;this.X.Ud=d;this.X.tg=Math.round(this.X.Hd/1E4)/100;this.X.De=this.X.tg*this.X.Ud;this.la.Ib=!1;this.la.jh=!1;this.la.fh=a.autoStart;this.la.Ri=!1;c=Ya.autostart||Ya.autoStart;void 0!==c&&(this.la.fh="true"==c?!0:"false"==c?!1:null);this.la.Ye=!1;this.X.Kf=this.X.jf=0;this.X.Lf=a.csStart;this.X.hf=a.csInterval;this.X.kf=a.csStop;this.rd=[];this.Tg=this.Ke.bind(this);sb(this)}db(Lc);
var Mc=["power","reset"];m=Lc.prototype;m.Gc=function(a,b,c,d){this.da=a;this.ea=b;this.ha=d;for(b=0;b<Mc.length;b++)(c=this.qa[Mc[b]])&&this.da.Pb(null,Mc[b],c);this.Xb=Eb(a,"FPU");for(b=null;b=Eb(a,"Video",b);)this.rd.push(b);this.N=Eb(a,"ChipSet");sb(this)};m.reset=function(){};m.save=function(){return null};m.restore=function(){return!1};
m.kc=function(a,b){if(!b){if(a&&this.restore){Nc(this);if(!this.restore(a))return!1;Oc(this)}else this.reset();this.ha?this.ha.nh():this.O("No debugger detected")}Pc(this);return!0};m.jc=function(a){return a?this.save():!0};function Rc(a){(!0===a.la.fh||null===a.la.fh&&!a.ha&&void 0===a.qa.run)&&a.Ke(!0)}m.Ti=function(){return 0};function Oc(a){void 0===a.X.Lf&&(a.X.Lf=0);void 0===a.X.hf&&(a.X.hf=-1);void 0===a.X.kf&&(a.X.kf=-1);a.la.Ye=0<=a.X.Lf&&0<a.X.hf;a.la.Ye&&(a.X.Kf=0,a.X.jf=a.X.Lf-a.dc)}
function Uc(a,b){if(a.la.Ye){var c=!1;a.X.Kf=a.X.Kf+a.Ti()|0;a.X.jf-=b;0>=a.X.jf&&(a.X.jf+=a.X.hf,c=!0);0<=a.X.kf&&a.X.kf<=Vc(a)&&(a.X.hf=a.X.kf=-1,Oc(a),a.Wb(),c=!0);c&&a.O(Vc(a)+" cycles: checksum="+r(a.X.Kf))}}m.pd=function(){this.da&&this.da.Xd&&this.da.Xd.pd()};
function Wc(a,b){for(var c=0;c<a.rd.length;c++)Xc(a.rd[c],b);if(a.da&&a.da.Xd&&(c=a.da.Xd,c.Ja)){Ib(c,18,c.Y,c.Ha);if(c.fb){var d=c.ea,e=c.A,f,g;null==f&&(f=0);null==g&&(g=d.W-f|0);null==e&&(e={eh:0,Qd:0,Vg:[]});var h=f>>>d.La;f=f+g-1>>>d.La;e.eh=0;for(e.Qd=0;h<=f;)g=d.ra[h],e.eh+=g.size,g.size&&(e.Vg.push(sa(Hb,h,0,0,g.type)),e.Qd++),h++;c.A=e;c.za=c.A.Qd*c.ea.Jb/691200;d=0;c.A.Ei=0;c.A.Cf||(c.A.Cf=[]);var e=-1,h=0,k=-1;for(f=0;f<c.A.Qd;f++){var l=c.A.Vg[f];g=ta(Hb.type,l);l=ta(Hb.dk,l);if(g!=e||
l!=k+1)(k=f-h)&&(d+=Kb(c,h,k,e)),e=g,h=f;k=l}d+=Kb(c,h,f-h,e);e=c.A.Mk!=d;c.A.Mk=d;if(e){e=new Cb(0,0,c.Y.width,c.Y.height);c.A.Pe=[];h=c.A.Qd;for(d=0;d<c.A.Ei;d++)f=c.A.Cf[d].Qd,c.A.Pe.push(Db(e,f,h,!d)),h-=f;for(d=0;d<c.A.Pe.length;d++)e=c.A.Cf[d],h=f=c.A.Pe[d],g=c.Ha,(k=xc[e.type])||(k=new Bb),g.strokeStyle="black",g.strokeRect(h.x,h.y,h.bd,h.A),g.fillStyle="string"==typeof k?k:k.toString(),g.fillRect(h.x,h.y,h.bd,h.A),h=c,g=f,h.ga=h.ua,h.W=h.wa,f=g.x+(g.bd>>1),k=g.y+(g.A>>1),l=g.A,g.bd<g.A&&(l=
g.bd,h.sa=!0,h.N.save(),h.N.translate(f,k),h.N.rotate(-Math.PI/2),f=k=0),l<h.W&&(h.W=l,h.ga=h.W+"px Monaco, Lucida Console, Courier New"),g=k,h.B=f,h.U=g,h=c,e=wc[e.type]+" ("+(e.Qd*c.ea.Jb/1024|0)+"Kb)",h.N.font=h.ga,h.B-=h.N.measureText(e).width>>1,h.U+=(h.W>>1)-2,Jb(h,e),h.sa&&(h.N.restore(),h.sa=!1)}}else Jb(c,"This space intentionally left blank");c.context.drawImage(c.Y,0,0,c.Y.width,c.Y.height,c.rb,c.Kb,c.Wa,c.cb);c.Ja=!1}}
m.Tc=function(){if(this.rd.length){var a=0,b=0;window&&(a=window.scrollX,b=window.scrollY);this.rd[0].Tc();window&&window.scrollTo(a,b)}};
m.Pb=function(a,b,c){var d=this;a=!1;switch(b){case "power":case "reset":this.qa[b]=c;a=!0;break;case "run":this.qa[b]=c;c.onclick=function(){var a;if(a=d.da)if(a=d.da,a.la.ec)a=!0;else{var b=null,c,h=gb(a.id);for(c=0;c<h.length&&(b=h[c],b===a||b.la.af);c++);if(c==h.length)for(c=0;c<h.length&&(b=h[c],b===a||b.la.ec);c++);c==h.length&&(b=a);w("The "+b.type+" component ("+b.id+") is not "+(b.la.af?"powered yet":"ready yet"+(b.rg?" (waiting for notification)":""))+".");a=!1}a&&(d.la.Ib?d.Wb(!0):d.Ke(!0))};
a=!0;break;case "speed":this.qa[b]=c;a=!0;break;case "setSpeed":this.qa[b]=c,c.onclick=function(){Yc(d,d.X.Ud<<1,!0)},c.textContent=this.X.De.toFixed(2)+"Mhz",a=!0}return a};function Zc(a,b){if(a.la.Ib){var c=a.A-b;a.A-=c;a.fb-=c}}function $c(a,b,c){a.dc+=b;c&&(a.fb=a.A=0)}
function ad(a,b){var c=30;60>c&&(c=60);2>c&&(c=2);var d=1;b&&1<a.X.Ud&&a.X.me&&(d=a.X.me/a.X.tg);a.X.aj=Math.round(1E3/30);a.X.jm=Math.floor(a.X.Hd/c*d);a.X.xh=Math.floor(a.X.Hd/30*d);a.X.cj=Math.floor(a.X.Hd/60*d);a.X.bj=Math.floor(a.X.Hd/2*d);b||(a.X.lf=a.X.xh,a.X.Nf=a.X.cj,a.X.Mf=a.X.bj);a.X.yh=0}function Vc(a,b){var c=a.dc+a.Rb+a.fb-a.A;b&&1<a.X.Ud&&a.X.me>a.X.tg&&(c=Math.round(c/a.X.Ud));return c}function Nc(a){a.X.me=0;a.dc=a.Rb=a.fb=a.A=0;Oc(a);Yc(a,1)}
function Yc(a,b,c){var d=!1;if(void 0!==b){.8>a.X.me/a.X.De?b=1:d=!0;a.X.Ud=b;b=a.X.tg*a.X.Ud;if(a.X.De!=b){a.X.De=b;b=a.X.De.toFixed(2)+"Mhz";var e=a.qa.setSpeed;e&&(e.textContent=b);a.O("target speed: "+b)}c&&a.Tc()}$c(a,a.Rb);a.Rb=0;a.X.gf=pa();a.X.Ee=0;ad(a);return d}
m.Ke=function(a){if(qb(this,!0)){if(!this.la.Ib){Yc(this);this.da&&this.da.start(this.X.gf,Vc(this));this.la.Ib=!0;this.la.jh=!0;this.N&&bd(this.N);var b=this.qa.run;b&&(b.textContent="Halt");this.pd(!0);a&&this.Tc()}this.X.yh>=this.X.Hd&&ad(this,!0);this.X.Of=0;this.X.ug=pa();this.X.Ee&&(a=this.X.ug-this.X.Ee,a>this.X.aj&&(this.X.gf+=a,this.X.gf>this.X.ug&&(this.X.gf=this.X.ug)));try{do{var c=this.la.Ye?1:this.X.jm;if(this.N){cd(this.N);var d=this.N;a=c;var e=d.L[0];if(e.ye){var f=(Vc(d.F,d.pa)-
e.zd)/d.jb|0,g=dd(d,0)-f;6==e.mode&&(g-=f);var h=g*d.jb|0;6==e.mode&&(h>>=1);a>h&&(a=h)}var c=a,k=this.N;a=c;if(k.A&&k.A[11]&64){var l=k.Ca-Vc(k.F,k.pa);0<l&&a>l&&(a=l)}c=a}try{this.vf(c)}catch(q){if("number"!=typeof q)throw q;}var n=this.fb-this.A;this.Rb+=n;this.X.Of+=n;$c(this,0,!0);Uc(this,n);this.X.Nf-=n;0>=this.X.Nf&&(this.X.Nf+=this.X.cj,Wc(this));this.X.Mf-=n;0>=this.X.Mf&&(this.X.Mf+=this.X.bj,this.pd());this.X.lf-=n;if(0>=this.X.lf){this.X.lf+=this.X.xh;break}}while(this.la.Ib)}catch(q){this.Wb();
Pc(this);this.da&&this.da.stop(pa(),Vc(this));qb(this,!1);ub(this,q.stack||q.message);return}c=setTimeout;d=this.Tg;this.X.Ee=pa();e=this.X.aj;this.X.Of&&(e=Math.round(e*this.X.Of/this.X.xh));e-=this.X.Ee-this.X.ug;if(f=this.X.Ee-this.X.gf)this.X.me=Math.round(this.Rb/(10*f))/100,864E5<=f&&(this.dc=0,this.N&&cd(this.N,!0),Yc(this));if(0>e||this.X.me<this.X.De)e=0;this.X.yh+=this.X.Of;this.X.Ee+=e;c(d,e)}else Pc(this),this.da&&this.da.stop(pa(),Vc(this))};m.vf=function(){return 0};
m.Wb=function(a){rb(this,!0);this.fb-=this.A;this.A=0;$c(this,this.Rb);this.Rb=0;if(this.la.Ib){this.la.Ib=!1;this.N&&bd(this.N);var b=this.qa.run;b&&(b.textContent="Run")}this.la.Sd=a};function Pc(a,b){Wc(a,b);a.pd()}
function ed(a,b,c,d){this.F=a;this.ha=a.ha;this.id=b;this.nc=c||"";this.ba=0;this.Sa=65535;this.$b=this.Sa+1;this.Ub=this.Kc=this.ext=this.wb=this.type=this.Aa=0;this.Yb=-1;this.Z=this.Mc=2;this.R=this.Ba=65535;this.L=this.rh;this.ea=this.Hi;this.qa=this.Ji;this.A={ba:-1,Aa:0,Sa:0,wb:0,type:0,ext:0,Yb:-1};1==this.id&&(this.Yf=0,this.C=null,this.cf=!1,this.N=Array(32),this.B=[]);fd(this,!0,d)}function gd(a,b){a.B.push(b);return[a.B.length,1]}m=ed.prototype;
m.rh=function(a){this.ba=a&65535;return this.Aa=this.ba<<4};m.sg=function(a,b){var c,d,e=this.F;a&=65535;a&4?(c=e.Bc.Aa,d=c+e.Bc.Sa|0):(c=e.Dc,d=e.Bd);if(c){c=c+(a&65528)|0;if(d-c|0)return e.A-=15,hd(this,c,a,b);6>this.id&&C.call(e,b&&3==this.id?10:13,a&65532)}return-1};m.fm=function(a){var b=this.F;a=b.Nc+(a<<2);var c=b.oa(a);b.aa&=-769;return this.load(b.oa(a+2))+c|0};
m.em=function(a){var b=this.F;a<<=3;var c=b.Nc+a|0;if(7<=(b.Pd-c|0))return this.C=!0,a=hd(this,c,a),-1!==a&&(a+=this.Yf),a;C.call(b,13,a|2);return-1};m.Hi=function(a){return this.Aa+a|0};m.Ji=function(a){return this.Aa+a|0};m.Gi=function(a,b){return(a>>>0)+b<=this.$b?this.Aa+a|0:this.ng()};m.Kk=function(a,b){return(a>>>0)+b>this.$b?this.Aa+a|0:this.ng()};m.ng=function(){C.call(this.F,13,0);return-1};m.Ii=function(a,b){return(a>>>0)+b<=this.$b?this.Aa+a|0:this.og()};
m.Lk=function(a,b){return(a>>>0)+b>this.$b?this.Aa+a|0:this.og()};m.og=function(){C.call(this.F,13,0);return-1};function id(a,b,c,d,e){a.ba=b;a.Aa=d;a.Sa=e;a.$b=(e>>>0)+1;a.wb=c;a.type=c&7936;a.ext=c>>16&192;a.Yb=(b&4?a.F.Bc.Aa:a.F.Dc)+(b&65528)|0;4>a.id&&fd(a,!0)}function jd(a,b,c){var d=a.F,e=d.oa(b+2),f=d.oa(b)|(e&255)<<16,d=d.oa(b+4);a.ba=c;a.Aa=f;a.Sa=d;a.$b=(d>>>0)+1;a.wb=e;a.type=e&7936;a.ext=0;a.Yb=b;4>a.id&&fd(a,!0)}
function hd(a,b,c,d){var e=a.F;if(!d&&c===a.A.ba)return a.ba=c,a.Aa=a.A.Aa,a.Sa=a.A.Sa,a.$b=(a.A.Sa>>>0)+1,a.wb=a.A.wb,a.type=a.A.type,a.ext=a.A.ext,a.Yb=a.A.Yb,a.A.ba=-1,fd(a,!0,!0,!1),a.Aa;a.A.ba=-1;var f=e.oa(b+0),g=e.oa(b+4),h=g&7936,k=e.oa(b+2)|(g&255)<<16,l=e.oa(b+6),n=c&65528;if(80386<=e.ia){var q=f,k=k|(l&65280)<<16,f=f|(l&15)<<16;l&128&&(f=f<<12|4095)}switch(a.id){case 1:var p=a.C;a.cf=!1;if(p&&1==c&&a.B.length){var A=a.B[a.Yf-1];if(A&&!A())return-1}var F=c&3,v=(g&24576)>>13,A=-1,D,H;n||
b>=e.Dc&&b<e.Bd&&(h=0);if(6144<=h){if(A=0,F>a.Ub&&(A=-1,!1===p||v==a.Ub||h&1024&&v<=a.Ub))A=E(e),kd(e,E(e),!0),G(e,A),a.cf=!0,A=0}else{if(256==h||2304==h)return ld(a,c,p)?a.Aa:-1;if(1024==h)A=2,H=0,F<a.Ub&&(F=a.Ub);else if(3072==h)A=4,H=0,F<a.Ub&&(F=a.Ub);else if(1536==h)A=2,H=148224;else if(3584==h)A=4,H=148224;else if(1792==h)A=2,H=147712;else if(3840==h)A=4,H=147712;else if(1280==h)return ld(a,k&65535,p)?a.Aa:-1}0<A&&!(g&32768)&&(A=0);if(0<A&&(n=a.Ub,D=b==e.Nc+c,F<=v&&(!D||0<=e.rb||n<=v))){b=k&
65535;h&2048&&(f=q|l<<16);l=h=0;c=b&3;if(c<n){if(-1===a.sg(b,!0))return-1;l=e.Qa.Aa;e.Qa.type&2048?(c=(c<<3)+4,d=4):(c=(c<<2)+2,d=2);h=e.oa(l+c+d);if(!h)return C.call(e,10,h),-1;if(-1===e.ta.sg(h,!0))return-1;l=2==d?e.oa(l+c):e.na(l+c)}c=e.aa;e.aa&=~H;c&131072&&md(e,!0,!1);if(-1===a.sg(b))return-1;sd(e,A);a.Yf=f;if(a.Ub<n){if(!0!==p)return-1;A=I(e);f=0;for(g&=31;g--;)a.N[f++]=td(e,e.ta,A),A+=2;p=e.ta.ba;g=I(e);kd(e,h,!0);G(e,l);c&131072&&(sd(e,4),ud(e,e.Ob.ba,4,2),e.Ob.load(0),ud(e,e.Nb.ba,4,2),e.Nb.load(0),
ud(e,e.vb.ba,4,2),vd(e,0),ud(e,e.Va.ba,4,2),wd(e,0));ud(e,p,e.Z,2);for(J(e,g);f;)J(e,a.N[--f]);a.cf=!0}return a.Aa}if(0!=A)return C.call(e,13,c&65532|(D?2:0)),-1;if(!(g&32768))return C.call(e,11,c&65532|(D?2:0)),-1;break;case 2:if(n){if(4096>h||2048==(h&2560))return C.call(e,13,c&65532),-1;if(!(g&32768))return C.call(e,11,c&65532),-1}break;case 3:if(!n||4096>h||512!=(h&2560))return C.call(e,13,c&65532),-1;if(!(g&32768))return C.call(e,12,c&65532),-1;break;case 4:p=h&-513;if(!n||256!=p&&2304!=p)return C.call(e,
13,c&65532),-1;2304==p&&(a.yi=k+e.oa(k+100+2)|0,a.Gk=k+a.Sa|0);break;case 6:if(!(h&4096)&&768<h&&2304!=h&&2816!=h)return-1}d?(a.A.ba=c,a.A.Aa=k,a.A.Sa=f,a.A.wb=g,a.A.type=h,a.A.ext=l,a.A.Yb=b):(a.ba=c,a.Aa=k,a.Sa=f,a.$b=(f>>>0)+1,a.wb=g,a.type=h,a.ext=l,a.Yb=b,fd(a,!0,!0,!1));return k}
function ld(a,b,c){var d=a.F,e=a.Ub,f=d.Qa.ba,g=d.Qa.Aa;if(!c){if(!(d.Qa.type&512))return C.call(d,13,b&65532),!1;d.ib(d.Qa.Yb+4,d.Qa.wb&=-513)}if(-1===d.Qa.load(b))return!1;var h=d.Qa.Aa;if(!1!==c){if(d.Qa.type&512)return C.call(d,13,b&65532),!1;d.ib(d.Qa.Yb+4,d.Qa.wb|=512)}d.Qa.type=d.Qa.type&-513|d.Qa.wb&512;256==d.Qa.type||768==d.Qa.type?(d.ib(g+14,K(d)),d.ib(g+16,xd(d)),d.ib(g+18,d.G),d.ib(g+20,d.I),d.ib(g+22,d.M),d.ib(g+24,d.H),d.ib(g+26,I(d)),d.ib(g+28,d.P),d.ib(g+30,d.K),d.ib(g+32,d.J),d.ib(g+
34,d.Va.ba),d.ib(g+36,d.va.ba),d.ib(g+38,d.ta.ba),d.ib(g+40,d.vb.ba),d.Bc.load(d.oa(h+42)),yd(d,d.oa(h+16)|(c?16384:0)),d.G=d.oa(h+18),d.I=d.oa(h+20),d.M=d.oa(h+22),d.H=d.oa(h+24),d.P=d.oa(h+28),d.K=d.oa(h+30),d.J=d.oa(h+32),d.Va.load(d.oa(h+34)),d.vb.load(d.oa(h+40)),zd(d,d.oa(h+14),d.oa(h+36)),b=38,g=26,a.Ub<e&&(g=(a.Ub<<2)+2,b=g+2),kd(d,d.oa(h+b),!0),G(d,d.oa(h+g))):(d.nb(g+28,d.Md),d.nb(g+32,K(d)),d.nb(g+36,xd(d)),d.nb(g+40,d.G),d.nb(g+44,d.I),d.nb(g+48,d.M),d.nb(g+52,d.H),d.nb(g+56,I(d)),d.nb(g+
60,d.P),d.nb(g+64,d.K),d.nb(g+68,d.J),d.nb(g+72,d.Va.ba),d.nb(g+76,d.va.ba),d.nb(g+80,d.ta.ba),d.nb(g+84,d.vb.ba),d.nb(g+88,d.Nb.ba),d.nb(g+92,d.Ob.ba),Ad.call(d,d.na(h+28)),d.Bc.load(d.oa(h+96)),yd(d,d.na(h+36)|(c?16384:0)),d.G=d.na(h+40),d.I=d.na(h+44),d.M=d.na(h+48),d.H=d.na(h+52),d.P=d.na(h+60),d.K=d.na(h+64),d.J=d.na(h+68),d.Va.load(d.oa(h+72)),d.vb.load(d.oa(h+84)),d.Nb.load(d.oa(h+88)),d.Ob.load(d.oa(h+92)),zd(d,d.na(h+32),d.oa(h+76)),b=80,g=56,a.Ub<e&&(g=(a.Ub<<3)+4,b=g+4),kd(d,d.oa(h+b),
!0),G(d,d.na(h+g)));c&&d.ib(h+0,f);d.ab|=8;return!0}m.save=function(){return[this.ba,this.Aa,this.Sa,this.wb,this.id,this.nc,this.Ub,this.Kc,this.Yb,this.Mc,this.Ba,this.Z,this.R,this.type,this.$b]};
m.restore=function(a){"number"==typeof a?this.load(a):(this.ba=a[0],this.Aa=a[1],this.Sa=a[2],this.wb=a[3],this.id=a[4],this.nc=a[5],this.Ub=a[6],this.Kc=a[7],this.Yb=a[8],this.Mc=a[9]||2,this.Ba=a[10]||65535,this.Z=a[11]||2,this.R=a[12]||65535,this.type=a[13]||this.wb&7936,this.$b=a[14]||(this.Sa>>>0)+1)};
function fd(a,b,c,d){void 0===c&&(c=!!(a.F.ab&1));a.dd=!1;if(c)if(a.load=a.sg,a.$i=a.em,a.pc=a.Gi,a.qc=a.Ii,void 0===d&&(d=!!(a.F.aa&131072)),d)a.load=a.L,a.pc=a.ea,a.qc=a.qa,a.Ub=a.Kc=3,a.Z=a.Mc=2,a.R=a.Ba=65535,a.Sa=65535,a.$b=a.Sa+1,a.Mc=a.Z,a.Yb=-1,a.cf=!1;else{if(!(a.ba&-4))a.pc=a.ng,a.qc=a.og;else if(a.type&4096){6144==(a.type&6656)&&(a.pc=a.ng);if(a.type&2048||!(a.type&512))a.qc=a.og;1024==(a.type&3072)&&(a.pc==a.Gi&&(a.pc=a.Kk),a.qc==a.Ii&&(a.qc=a.Lk),a.dd=!0);b&&6>a.id&&a.ba&-4&&-1!==a.Yb&&
(c=a.Yb+5,d=a.F.Ya(c),d&1||a.F.sc(c,d|1))}b&&(a.Ub=a.ba&3,a.Kc=(a.wb&24576)>>13,80386>a.F.ia||!(a.ext&64)?(a.Z=2,a.R=65535):(a.Z=4,a.R=-1),a.Mc=a.Z,a.Ba=a.R)}else a.load=a.rh,a.$i=a.fm,a.pc=a.Hi,a.qc=a.Ji,a.Ub=a.Kc=0,a.Yb=-1,a.cf=!1}
function Bd(a){this.ia=a.model||8088;var b=a.stepping;this.Uc=this.ia+(b?ca(b,16):0);b=0;switch(this.ia){default:b=4772727;break;case 80286:b=6E6;break;case 80386:b=16E6}Lc.call(this,a,b);this.gg=61442;this.Jc=1792;this.bg=28672;this.Gd=4;this.sa=255;this.B=80286<=this.ia?xb:wb;this.U=Cd;this.Og=Dd;this.Pg=Ed;this.Qg=Fd;if(80186<=this.ia&&(this.U=Cd.slice(),this.Og=Dd.slice(),this.Pg=Ed.slice(),this.sa=31,this.U[15]=Gd,this.U[96]=Hd,this.U[97]=Id,this.U[98]=Jd,this.U[99]=Gd,this.U[100]=Gd,this.U[101]=
Gd,this.U[102]=Gd,this.U[103]=Gd,this.U[104]=Kd,this.U[105]=Ld,this.U[106]=Md,this.U[107]=Nd,this.U[108]=Od,this.U[109]=Pd,this.U[110]=Qd,this.U[111]=Ud,this.U[192]=Vd,this.U[193]=Wd,this.U[200]=Xd,this.U[201]=Yd,this.U[241]=de,this.Og[7]=ee,this.Pg[7]=ee,80286<=this.ia)){this.gg=2;this.Jc|=28672;this.Gd=0;this.U[15]=fe;this.cc=ge.slice();for(a=0;a<this.cc.length;a++)this.cc[a]||(this.cc[a]=he);this.U[84]=ie;this.U[99]=je;if(80386<=this.ia){var c;this.bg=0;this.Jc|=196608;this.U[100]=ke;this.U[101]=
le;this.U[102]=me;this.U[103]=ne;for(c in M)this.cc[+c]=M[c];80546<=this.Uc&&80562>=this.Uc&&(this.cc[166]=oe,this.cc[167]=pe)}}this.ke=[];this.le=[];this.Ce=0;Nc(this);this.la.Sd=this.la.Pi=!1;this.Sg=0;this.kd=this.ra=[];this.Ha=this.La=this.Jb=this.Ga=this.ie=this.qd=this.Gb=this.sb=0;this.Kb=null;qe(this)}db(Bd,Lc);function re(a,b,c,d){Gc((d?a.kd:a.ra)[b>>>a.La],c);d&&Vb(a)}
function se(a){var b;if(a.ra===a.kd){a.ra=Array(a.ie);a.ze=new B(null,0,0,5,null,a);Mb(a.ze,a.ha);for(b=0;b<a.ie;b++)a.ra[b]=a.ze;a.Vc=new B;a.hg=Array(512);a.He=0}else for(var c=0;c<a.je.length;c++){b=a.je[c];var d=a.ra[b];512>a.He&&(a.hg[a.He++]=d);a.ra[b]=a.ze}a.je=[]}function Vb(a){a.ab&-2147483648&&se(a)}
function Fc(a,b,c,d){var e=(b&-4194304)>>>20,f=a.kd[(a.Md+e&a.Gb)>>>a.La],g=f.Kd(e);if(!(g&1))return d||te.call(a,b,!1,c),a.Vc;if(!(g&4)&&3==a.pa)return d||te.call(a,b,!0,c),a.Vc;var h=(b&4190208)>>>10,g=a.kd[((g&-4096)+h&a.Gb)>>>a.La],k=g.Kd(h);if(!(k&1))return d||te.call(a,b,!1,c),a.Vc;if(!(k&4)&&3==a.pa)return d||te.call(a,b,!0,c),a.Vc;c=a.kd[((k&-4096)+(b&4095)&a.Gb)>>>a.La];if(d)return c;d=b>>>a.La;k=a.ra[d];b=b&-4096;var l;0<a.He?(l=a.hg[--a.He],l.nh(b)):l=new B(b,0,0,6);b=l;b.Dd=c;b.yb=f;b.A=
e>>2;b.zb=g;b.B=h>>2;vb&&ac&&c.ca&&!c.controller&&!c.Te&&!c.Ue?(b.Xa=c.Xa,b.ce=c.ce,b.ca=c.ca,Yb(b,Kc)):(b.ea=c?yc(32):0,b.V=c?yc(96):0,Yb(b,Ic));Mb(b,a.ha,k);a.ra[d]=b;a.je.push(d);return b}function ue(a){a.ra!==a.kd&&(a.ra=a.kd,a.ze=null,a.je=null,a.Vc=null)}m=Bd.prototype;m.reset=function(){this.la.Ib&&this.Wb();qe(this);Nc(this);this.la.vd=!1};
function ve(a,b){var c;switch(b){case 0:c=a.G;break;case 1:c=a.I;break;case 2:c=a.M;break;case 3:c=a.H;break;case 4:c=I(a);break;case 5:c=a.P;break;case 6:c=a.K;break;case 7:c=a.J}return c}function we(a,b,c){switch(b){case 0:a.G=c;break;case 1:a.I=c;break;case 2:a.M=c;break;case 3:a.H=c;break;case 4:G(a,c);break;case 5:a.P=c;break;case 6:a.K=c;break;case 7:a.J=c}}
function qe(a){a.G=0;a.H=0;a.I=0;a.M=0;a.jb=0;a.P=0;a.K=0;a.J=0;a.cb=!1;a.ja=a.wa=0;a.Y=0;a.Rg=0;a.L=0;a.ab=65520;a.Nc=0;a.Pd=1023;a.aa=a.Wa=0;a.Yc=a.xd=a.Xc=a.jd=0;a.rb=-1;a.Wc=a.td=-1;a.oe=a.W=-1;a.va=new ed(a,1,"CS");a.vb=new ed(a,2,"DS");a.Va=new ed(a,2,"ES");a.ta=new ed(a,3,"SS");G(a,0);kd(a,0);if(80386<=a.ia){switch(a.Uc){case 80562:case 80563:a.M=771;break;case 80578:a.M=772;break;case 80594:a.M=773;break;case 80595:case 80596:a.M=776}a.ab=16;a.oi=0;a.qe=0;a.Md=0;a.Ka=[0,0,0,0,null,null,0,
0];a.Ie=[null,null,null,null,null,null,0,0];a.Nb=new ed(a,2,"FS");a.Ob=new ed(a,2,"GS");ue(a)}a.qf=new ed(a,0,"NULL");a.ka=a.vb;a.Ma=a.ta;a.S=a.Ia=0;a.D=a.C=-1;a.ac=a.qf;a.ua=0;if(80286>a.ia)zd(a,0,65535);else{a.Dc=0;a.Bd=65535;a.Bc=new ed(a,5,"LDT",!0);a.Qa=new ed(a,4,"TSS",!0);a.Fa=new ed(a,6,"VER",!0);zd(a,65520,61440);var b,c=K(a);b=a.va;var d=-65536;80386>b.F.ia&&(d&=16777215);b=b.Aa=d;a.Da=b+c|0;a.pf=(b>>>0)+(a.va.Sa>>>0)+1}yd(a,0);md(a)}
function xe(a,b){b.ba&65528&&b.Kc<a.pa&&7168!=(b.wb&7168)&&b.load(0)}function ye(a){2==a.Mc?(a.fc=a.mh,a.Ra=ze,a.bb=Ae,a.Qb=Be,2==a.Z?(a.V=Ce,a.fa=De,a.za=Ee):(a.V=Fe,a.fa=Ge,a.za=He)):(a.fc=a.Ui,a.Ra=Ke,a.bb=Le,a.Qb=Me,2==a.Z?(a.V=Ne,a.fa=Oe,a.za=Pe):(a.V=Qe,a.fa=Re,a.za=Se))}function sd(a,b){a.Z!=b&&(a.Ia|=1024,a.Z=b,a.R=2==b?65535:-1,Te(a))}
function Te(a){2==a.Z?(a.Ja=32768,a.Bb=a.oa,a.tc=a.ib,2==a.Mc?(a.V=Ce,a.fa=De,a.za=Ee):(a.V=Ne,a.fa=Oe,a.za=Pe)):(a.Ja=-2147483648,a.Bb=a.na,a.tc=a.nb,2==a.Mc?(a.V=Fe,a.fa=Ge,a.za=He):(a.V=Qe,a.fa=Re,a.za=Se))}function bf(a){a.Mc=a.va.Mc;a.Ba=a.va.Ba;ye(a);a.Z=a.va.Z;a.R=a.va.R;Te(a);a.Ia&=-3073}m.Ti=function(){var a=this.G+this.H+this.I+this.M+I(this)+this.P+this.K+this.J|0;return a=a+K(this)+this.va.ba+this.vb.ba+this.ta.ba+this.Va.ba+xd(this)|0};
function cf(a,b,c){void 0===a.ke[b]&&(a.ke[b]=[]);a.ke[b].push(c)}function df(a,b,c){void 0!==c&&(null==a.le[b]&&a.Ce++,a.le[b]=c)}function ef(a,b){var c=a.le[b];null!=c&&(c(--a.Ce),delete a.le[b])}function ff(a,b){for(var c=a.Ka[7],d=c>>16,e=0;4>e;e++){if(c&3){var f=!!(d&1),g=a.Ka[e],g=g&~(d>>2&3);b?a.ra[g>>>a.La].Od(g&a.Ga,f,a):Gc(a.ra[g>>>a.La],f)}c>>=2;d>>=4}}
function Dc(a,b,c,d){if(!(a.S&8192)&&a.Ka[7]&255){c--;var e=a.Ka[7],f=e>>16;d=d?1:0==d?3:0;for(var g=0;4>g;g++){if(e&3&&(f&3)==d){var h=f>>2;if(b+c>=a.Ka[g]&&b<=a.Ka[g]+h){a.Ka[6]|=1<<g;a.ua|=2;break}}e>>=2;f>>=4}}}function md(a,b,c){void 0===b&&(b=!!(a.ab&1));void 0===c&&(c=!!(a.aa&131072));a.Qg=b&&!c?gf:Fd;fd(a.va,!1,b,c);fd(a.vb,!1,b,c);fd(a.ta,!1,b,c);fd(a.Va,!1,b,c);80386<=a.ia&&(fd(a.Nb,!1,b,c),fd(a.Ob,!1,b,c));bf(a)}
m.save=function(){var a=new hf(this);N(a,0,[this.G,this.H,this.I,this.M,I(this),this.P,this.K,this.J]);var b=K(this),c=this.va.save(),d=this.vb.save(),e=this.ta.save(),f=this.Va.save(),g;null!=this.Dc?(g=[this.ab,this.Dc,this.Bd,this.Nc,this.Pd,this.Bc.save(),this.Qa.save(),this.Wa],80386<=this.ia&&(g.push(this.oi),g.push(this.qe),g.push(this.Md),g.push(this.Ka),g.push(this.Ie))):g=null;b=[b,c,d,e,f,g,xd(this)];80386<=this.ia&&(b.push(this.Nb.save()),b.push(this.Ob.save()));N(a,1,b);N(a,2,[this.ka.nc,
this.Ma.nc,this.S,this.Ia,this.ua,this.D,this.C]);N(a,3,[0,this.dc,this.X.Ud]);b=this.ea;c=!!(this.ab&-2147483648);d=0;e=[];(f=!b.L&&b.wg==b.Gb)||Sb(b,!0);for(g=0;g<b.U;g++){var h=b.ra[g];if(c&&h.type!=$b||h.Ua||h.Qi){e[d++]=g;var k=d++;a:if(h=h.save()){for(var l=0,n=0,q=[];l<h.length;){for(var p=h[l],A=l+1;A<h.length&&h[A]===p;)A++;q[n++]=A-l;q[n++]=p;l=A}if(q.length<h.length){h=q;break a}}e[k]=h}}f||Sb(b,!1);e[d]=f;N(a,4,e);return a.data()};
m.restore=function(a){var b=a[0];this.G=b[0];this.H=b[1];this.I=b[2];this.M=b[3];var c=b[4];this.P=b[5];this.K=b[6];this.J=b[7];b=a[1];this.va.restore(b[1]);this.vb.restore(b[2]);this.ta.restore(b[3]);this.Va.restore(b[4]);var d=b[5];d&&d.length&&(this.ab=d[0],this.Dc=d[1],this.Bd=d[2],this.Nc=d[3],this.Pd=d[4],this.Bc.restore(d[5]),this.Qa.restore(d[6]),this.Wa=d[7],80386<=this.ia&&(this.oi=d[8],this.qe=d[9],this.Md=d[10],this.Ka=d[11],this.Ie=d[12]),md(this));yd(this,b[6]);var d=!1,e;a:{e=this.ea;
var f=a[4],g;for(g=0;g<f.length-1;g+=2){var h=f[g],k=f[g+1];if(k&&k.length<e.ga){for(var l=0,n=Array(e.ga),q=0;q<k.length-1;)for(var p=k[q++],A=k[q++];p--;)n[l++]=A;k=n}l=e.ra[h];if(!l||!l.restore(k)){w("Unable to restore memory block "+h);e=!1;break a}}void 0!==f[g]&&Sb(e,f[g]);e=!0}e&&(zd(this,b[0],this.va.ba),G(this,c),kd(this,this.ta.ba),80386<=this.ia&&(this.Nb.restore(b[7]),this.Ob.restore(b[8])),d=!0);b=a[2];this.ka=null!=b[0]&&jf(this,b[0])||this.vb;this.Ma=null!=b[1]&&jf(this,b[1])||this.ta;
this.S=b[2];this.Ia=b[3];this.ua=b[4];this.D=b[5];this.C=b[6];b=a[3];this.dc=b[1];Yc(this,b[2]);return d};function jf(a,b){switch(b){case "CS":return a.va;case "DS":return a.vb;case "SS":return a.ta;case "ES":return a.Va;case "NULL":return a.qf;default:return[0,b,0,0,""]}}function kf(a,b){null!=zd(a,K(a),b)&&(a.S|=a.Gd)}function vd(a,b){-1!==a.vb.load(b)&&(a.S|=a.Gd)}
function kd(a,b,c){var d=I(a);-1!==a.ta.load(b)&&(G(a,d),a.ta.dd?(a.Lg=a.ta.Aa+a.ta.Ba|0,a.ud=a.ta.Aa+a.ta.Sa|0):(a.Lg=a.ta.Aa+a.ta.Sa|0,a.ud=a.ta.Aa),c||(a.S|=4))}function wd(a,b){-1!==a.Va.load(b)&&(a.S|=a.Gd)}function K(a){return a.Da-a.va.Aa|0}function O(a,b){a.Da=a.va.Aa+(b&a.R)|0;lf(a)}function mf(a,b){a.Da=b;a.pf=(a.va.Aa>>>0)+(a.va.Sa>>>0)+1;a.pa=a.va.Ub;bf(a);a.Kb&&lf(a)}function zd(a,b,c,d){var e=a.va;e.Yf=b;e.C=d;b=e.load(c);return-1!==b?(mf(a,b+(a.va.Yf&a.va.R)),a.va.cf):null}
function nf(a,b){var c=(a.Da>>>0)+b;c>a.pf&&(8088>=a.ia||a.va.Sa==a.va.Ba?c=a.va.Aa+(c-a.pf&a.R):C.call(a,13,0));return c|0}function of(a){a.Ha+=a.Da-a.oe;a.Da=a.oe;16<a.Ha&&lf(a)}function I(a){return a.jb&~a.ta.Ba|a.ga-a.ta.Aa}function G(a,b){a.jb=b;a.ga=a.ta.Aa+(b&a.ta.Ba)|0}
function pf(a,b,c,d,e,f){if(63!=(e&63)&&e!=a.resultType){var g=(e^a.resultType)&a.resultType;g&&(g&1&&qf(a),g&2&&rf(a),g&4&&sf(a),g&8&&tf(a),g&16&&uf(a),g&32&&vf(a))}f?(a.Yc=d,a.Xc=b):(a.Yc=b,a.Xc=d);a.xd=c;a.jd=d;a.resultType=e}function wf(a,b,c,d,e){a.resultType=c|26;a.jd=b;d?xf(a):yf(a);e?zf(a):Af(a);return b}function Bf(a,b,c,d){c&d?xf(a):yf(a);(b^c)&d?zf(a):Af(a)}function Cf(a){return qf(a)?1:0}
function qf(a){a.resultType&1&&(a.aa&=-2,(a.Yc^(a.Yc^a.xd)&(a.xd^a.Xc))&a.resultType&-2147450752&&(a.aa|=1),a.resultType&=-2);return a.aa&1}function rf(a){a.resultType&2&&(a.aa&=-5,38505>>((a.jd^a.jd>>4)&15)&1&&(a.aa|=4),a.resultType&=-3);return a.aa&4}function sf(a){a.resultType&4&&(a.aa&=-17,(a.Xc^a.Yc^a.xd)&16&&(a.aa|=16),a.resultType&=-5);return a.aa&16}
function tf(a){a.resultType&8&&(a.aa&=-65,a.jd&((a.resultType&-2147450752)-1|a.resultType&-2147450752)||(a.aa|=64),a.resultType&=-9);return a.aa&64}function uf(a){a.resultType&16&&(a.aa&=-129,a.jd&a.resultType&-2147450752&&(a.aa|=128),a.resultType&=-17);return a.aa&128}function vf(a){a.resultType&32&&(a.aa&=-2049,(a.Yc^a.Xc)&(a.xd^a.Xc)&a.resultType&-2147450752&&(a.aa|=2048),a.resultType&=-33);return a.aa&2048}function yf(a){a.resultType&=-2;a.aa&=-2}function Df(a){a.resultType&=-5;a.aa&=-17}
function Ef(a){a.resultType&=-9;a.aa&=-65}function Af(a){a.resultType&=-33;a.aa&=-2049}function xf(a){a.resultType&=-2;a.aa|=1}function Ff(a){a.resultType&=-5;a.aa|=16}function Gf(a){a.resultType&=-9;a.aa|=64}function zf(a){a.resultType&=-33;a.aa|=2048}function xd(a){return a.aa&-2262|qf(a)|rf(a)|sf(a)|tf(a)|uf(a)|vf(a)}function Hf(a,b){b=b|a.ab&1|65520;a.ab=a.ab&-65536|b&65535;a.ab&1&&md(a,!0)}
function yd(a,b,c){a.ab&1||(b&=~a.bg);void 0===c&&(c=a.pa);c?b=b&-12289|a.aa&12288:a.Wa=(b&12288)>>12;c>a.Wa&&(b=b&-513|a.aa&512);a.resultType=128;a.aa=a.aa&~(a.Jc|2261)|b&(a.Jc|2261)|a.gg;a.aa&256&&(a.ua|=2,a.S|=4)}function If(a,b,c,d){var e=0;if(a.ab&1&&(a.pa>a.Wa||a.aa&131072)&&a.Qa.yi)for(var f=a.Qa.yi+(b>>>3),e=(1<<c)-1<<(b&7);e&&f<=a.Qa.Gk&&!(a.Ya(f)&e);)e>>>=8,f++;return e?(z(a,256)&&y(a,"checkIOPM("+u(b)+","+c+","+(d?"input":"output")+"): trapped",!0,!0),C.call(a,13,0),!1):!0}
m.Pb=function(a,b,c){var d=!1;switch(b){case "EAX":case "EBX":case "ECX":case "EDX":case "ESP":case "EBP":case "ESI":case "EDI":case "EIP":case "AX":case "BX":case "CX":case "DX":case "SP":case "BP":case "SI":case "DI":case "IP":case "PC":case "CS":case "DS":case "SS":case "ES":case "FS":case "GS":case "CR0":case "CR2":case "CR3":case "PS":case "C":case "P":case "A":case "Z":case "S":case "T":case "I":case "D":case "V":this.qa[b]=c;this.Sg++;d=!0;break;default:d=this.parent.Pb.call(this,a,b,c)}return d};
function Jf(a,b,c,d){var e=(d?a.kd:a.ra)[(b&a.sb)>>>a.La];e&&5==e.type&&(e=Fc(a,b,!1,!0));if(e){var f=b&a.Ga;if(!c||1==c)return e.pe(f,b);if(2==c)return f<a.Ga?e.cg(f,b):e.pe(f,b)|Jf(a,b+1,1,d)<<8;if(4==c)return f<a.Ga-2?e.Ig(f,b):f==a.Ga-1?e.cg(f,b)|Jf(a,b+2,2,d)<<16:e.pe(f,b)|Jf(a,b+1,1,d)<<8|Jf(a,b+2,1,d)<<16|Jf(a,b+3,1,d)<<24}return null}m.Ya=function(a){return this.ra[(a&this.sb)>>>this.La].lc(a&this.Ga,a)};
m.oa=function(a){var b=a&this.Ga,c=(a&this.sb)>>>this.La;this.A-=this.B.Dg;if(b<this.Ga)return this.ra[c].rf(b,a);b=this.ra[c].lc(b,a);this.S&4096||(b|=this.ra[c+1&this.qd].lc(0,a+1)<<8);return b};m.na=function(a){var b=a&this.Ga,c=(a&this.sb)>>>this.La;if(b<this.Ga-2)return this.ra[c].Kd(b,a);for(var d=0,e=4,f=0,g=4-(b&3);e--;){d|=this.ra[c].lc(b++,a++)<<f;if(this.S&4096)break;--g||(c=c+1&this.qd,b=0);f+=8}return d};m.sc=function(a,b){this.ra[(a&this.sb)>>>this.La].uc(a&this.Ga,b&255,a)};
m.ib=function(a,b){var c=a&this.Ga,d=(a&this.sb)>>>this.La;this.A-=this.B.Dg;c<this.Ga?this.ra[d].yf(c,b&65535,a):(this.ra[d++].uc(c,b&255,a),this.S&4096||this.ra[d&this.qd].uc(0,b>>8&255,a+1))};m.nb=function(a,b){var c=a&this.Ga,d=(a&this.sb)>>>this.La;this.A-=this.B.Dg;if(c<this.Ga-2)this.ra[d].xf(c,b,a);else for(var e=4,f=4-(c&3);e--;){this.ra[d].uc(c++,b&255,a++);if(this.S&4096)break;--f||(d=d+1&this.qd,c=0);b>>>=8}};
function Kf(a,b,c){a.ac=b;a.Ca=c&a.Ba;a.D=b.pc(a.Ca,1);return a.S&1?0:a.Ya(a.D)}function P(a,b){return Kf(a,a.ka,b)}function Lf(a,b){return Kf(a,a.Ma,b)}function Mf(a,b,c){a.ac=b;a.Ca=c&a.Ba;a.D=b.pc(a.Ca,a.Z);return a.S&1?0:a.Bb(a.D)}function R(a,b){a.ac=a.ka;a.Ca=b&a.Ba;a.D=a.ac.pc(a.Ca,2);return a.S&1?0:a.oa(a.D)}function Nf(a,b){a.ac=a.Ma;a.Ca=b&a.Ba;a.D=a.ac.pc(a.Ca,2);return a.S&1?0:a.oa(a.D)}function S(a,b){a.ac=a.ka;a.Ca=b&a.Ba;a.D=a.ac.pc(a.Ca,4);return a.S&1?0:a.na(a.D)}
function Of(a,b){a.ac=a.Ma;a.Ca=b&a.Ba;a.D=a.ac.pc(a.Ca,4);return a.S&1?0:a.na(a.D)}function Pf(a,b){a.S&2||a.sc(a.ac.qc(a.Ca,1),b)}function Qf(a,b){a.S&2||a.ib(a.ac.qc(a.Ca,2),b)}function Rf(a,b){a.S&2||a.nb(a.ac.qc(a.Ca,4),b)}function td(a,b,c){return a.Bb(b.pc(c,a.Z))}function Sf(a){if(!a.Ha&&(lf(a),!a.Ha))return a.Ya(a.Da);var b=a.Kb[a.Da&12]>>((a.Da&3)<<3)&255;a.Ha--;return b}
m.mh=function(){if(2>this.Ha&&(lf(this),2>this.Ha))return this.Ha=0,this.oa(this.Da);var a=(this.Da&3)<<3,b=this.Kb[this.Da&12]>>>a&65535;16<a&&(b|=(this.Kb[this.Da+4&12]&255)<<8);this.Ha-=2;return b};m.Ui=function(){if(4>this.Ha&&(lf(this),4>this.Ha))return this.Ha=0,this.na(this.Da);var a=(this.Da&3)<<3,b=this.Kb[this.Da&12]>>>a|0;a&&(b|=this.Kb[this.Da+4&12]<<32-a);this.Ha-=4;return b};
function lf(a){var b=a.Da&-4,c=a.ra[(b&a.sb)>>>a.La];c&&5==c.type&&(c=Fc(a,b,!1,!0),c===a.Vc&&(c=null));if(c){var d=b&a.Ga,e=a.Jb-d;16<e&&(e=16);for(var f=0;f<e;f+=4)a.Kb[b&12]=c.Ig(d,b),d+=4,b+=4;a.Ha=f-(a.Da&3)}else a.Ha=0}m.xa=function(){var a=nf(this,1),b=Sf(this);this.Da=a;return b};function Tf(a){var b=nf(a,2),c=a.mh();a.Da=b;return c}function T(a){var b=nf(a,a.Mc),c=a.fc();a.Da=b;return c}m.Na=function(){var a=nf(this,this.Z),b=4==this.Z?this.Ui():this.mh();this.Da=a;return b};
m.T=function(){var a=nf(this,1),b=Sf(this)<<24>>24;this.Da=a;return b};function E(a){var b=a.Bb(a.ga);a.ga=a.ga+a.Z|0;var c=a.Lg-a.ga|0;0>c&&0<=(a.Lg^a.ga)&&(8088>=a.ia||!a.ta.dd&&a.ta.Sa==a.ta.Ba||a.ta.dd&&!a.ta.Sa?G(a,a.ga-a.ta.Aa&a.ta.Ba):-1>c&&C.call(a,12,0));return b}
function ud(a,b,c,d){c=a.ga-c|0;0>(c-a.ud|0)&&0<=(a.ud^c)&&(8088>=a.ia||!a.ta.dd&&a.ta.Sa==a.ta.Ba||a.ta.dd&&!a.ta.Sa?(G(a,c-a.ta.Aa&a.ta.Ba),c=a.ga):C.call(a,12,0));switch(d){case 1:a.sc(c,b);break;case 2:a.ib(c,b);break;case 4:a.nb(c,b)}a.ga=c}function J(a,b){var c=a.ga-a.Z|0;0>(c-a.ud|0)&&0<=(a.ud^c)&&(8088>=a.ia||!a.ta.dd&&a.ta.Sa==a.ta.Ba||a.ta.dd&&!a.ta.Sa?(G(a,c-a.ta.Aa&a.ta.Ba),c=a.ga):C.call(a,12,0));a.tc(c,b);a.ga=c}
function Uf(a,b,c){var d=4;1==b.length&&(d=1,c=c?1:0);if(80386>a.ia)2<b.length&&(b=b.substr(1,2));else if("PS"==b||2<b.length)d=8;a.qa[b]&&(void 0===c&&(ub(a,"Value for "+b+" is invalid"),a.Wb()),d=!a.la.Ib||a.la.Ri?r(c,d):"--------".substr(0,d),a.qa[b].textContent!=d&&(a.qa[b].textContent=d))}
m.pd=function(a){if(this.Sg&&(a||!this.la.Ib||this.la.Ri)){Uf(this,"EAX",this.G);Uf(this,"EBX",this.H);Uf(this,"ECX",this.I);Uf(this,"EDX",this.M);Uf(this,"ESP",I(this));Uf(this,"EBP",this.P);Uf(this,"ESI",this.K);Uf(this,"EDI",this.J);Uf(this,"CS",this.va.ba);Uf(this,"DS",this.vb.ba);Uf(this,"SS",this.ta.ba);Uf(this,"ES",this.Va.ba);Uf(this,"EIP",K(this));var b=xd(this);Uf(this,"PS",b);Uf(this,"V",b&2048);Uf(this,"D",b&1024);Uf(this,"I",b&512);Uf(this,"T",b&256);Uf(this,"S",b&128);Uf(this,"Z",b&
64);Uf(this,"A",b&16);Uf(this,"P",b&4);Uf(this,"C",b&1);80386==this.ia&&(Uf(this,"FS",this.Nb.ba),Uf(this,"GS",this.Ob.ba),Uf(this,"CR0",this.ab),Uf(this,"CR2",this.qe),Uf(this,"CR3",this.Md))}if(b=this.qa.speed)b.textContent=this.la.Ib&&this.X.me?this.X.me.toFixed(2)+"Mhz":"Stopped";this.parent.pd.call(this,a)};
m.vf=function(a){this.la.Sd=!0;var b=this.la.Pi=this.ha&&Vf(this.ha),c=a?this.la.jh?0:1:-1;this.la.jh=!1;this.fb=this.A=a;this.N&&!a&&cd(this.N);a||z(this,1024)||(this.S|=4);do{var d=this.S&3312;if(d)this.Ia|=d;else if(this.oe=this.Da,this.ka=this.vb,this.Ma=this.ta,this.D=this.C=-1,this.Ia&3072&&bf(this),this.Ia=this.S&256,this.ua){a:{if(!(this.S&4))for(var d=80286>this.ia?0:1,e=0;2>e;e++){switch(d){case 0:if(this.ua&1&&this.aa&512){var f=Wf(this.N);if(-1<=f&&(this.ua&=-2,0<=f)){this.ua&=-5;Xf.call(this,
f);d=!0;break a}}break;case 1:if(this.ua&2){this.ua&=-3;80386<=this.ia&&(this.Ka[6]|=16384);Xf.call(this,1);d=!0;break a}}d=1-d}d=!1}if(d&&!a){this.O("interrupt dispatched");this.S=0;break}if(this.ua&4){this.S=this.A=0;break}}if(b){if(Yf(this.ha,this.Da,c)){this.Wb();break}c=1}this.S=0;this.U[this.xa()].call(this)}while(0<this.A);return this.la.Sd?this.fb-this.A:void 0===this.la.Sd?0:-1};Qa(function(){for(var a=nb(document,"pcjs","cpu"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Bd(d);mb(d,c)}});
function Zf(a){Ua.call(this,"FPU",a,Zf);this.ia=a.model||8087;(a=a.stepping)&&ca(a,16);this.L=new Float64Array(8);this.Y=new Int32Array(this.L.buffer);this.pa=new Float32Array(1);this.ua=new Int32Array(this.pa.buffer);this.W=new Float64Array(1);this.da=new Int32Array(this.W.buffer);this.ea=Array(3);this.fa=this.ga=-1;this.V=this.U=this.ja=this.A=0;this.ka=new Float64Array(1);this.sa=new Int32Array(this.ka.buffer);this.sa[0]=0;this.sa[1]=268402688;$f(this)}db(Zf);m=Zf.prototype;
m.Gc=function(a,b,c){this.F=c;this.N=Eb(a,"ChipSet");sb(this)};m.kc=function(a,b){if(!b)if(!a||!this.restore)$f(this);else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};m.save=function(){var a=new hf(this),b=[],c=0;b[c++]=this.mc;b[c++]=ag(this);b[c++]=bg(this);for(var d=0;d<this.L.length;d++)b[c++]=this.L[d];N(a,0,b);return a.data()};
m.restore=function(a){a=a[0];var b=0;this.mc=a[b++]&-57409;var c=a[b++];this.ma=c&-14337;this.B=(c&14336)>>11;cg(this);dg(this,a[b++]);for(c=0;c<this.L.length;c++)this.L[c]=a[b++];return!0};function $f(a){a.C=0;a.mc=959;a.ma=0;a.B=0;a.N&&(a=a.N,a.ia>=eg&&fg(a,13))}function cg(a){a.ma&=-129;a.ma&~a.mc&63&&(a.ma|=128);if(a.ma&128&&!(a.mc&128))return a=a.N,a.ia>=eg?gg(a,13):a.Fa&0||Xf.call(a.F,2),!0;a=a.N;a.ia>=eg&&fg(a,13);return!1}function hg(a,b){80387<=a.ia||(b&=-65);a.ma|=b;return cg(a)}
function ag(a){return a.ma|a.B<<11}function ig(a,b){return isFinite(b)?!0:!hg(a,Infinity===b?8:16)}function jg(a,b,c){var d=null;null!=b&&null!=c&&(d=b+c,ig(a,d)||(d=null));return d}function kg(a,b,c){var d=null;null!=b&&null!=c&&(d=b-c,ig(a,d)||(d=null));return d}function lg(a,b,c){var d=null;null!=b&&null!=c&&(d=b*c,ig(a,d)||(d=null));return d}function mg(a,b,c){var d=null;null==b||null==c||!c&&hg(a,2)||(d=b/c,ig(a,d)||(d=null));return d}
function ng(a,b,c){if(null!=b&&null!=c){var d=0;isNaN(b)||isNaN(c)?d=17664:(b-=c,0>b?d=256:0===b&&(d=16384));a.ma=a.ma&-18177|d;return!0}return!1}function og(a,b,c){if(null==b)return null;var d=a.mc&3072;0==d?(d=Math.round(b),.5===d-b&&d%2&&d--):d=1024==d||3072==d&&0<b?Math.floor(b):Math.ceil(b);if(c){if(d>=c){if(hg(a,1))return null;d=-c}else if(d<-c){if(hg(a,1))return null;d=-c}a.da[0]=d|0;2147483648<c&&(a.da[1]=d/4294967296|0,!a.da[1]&&0>d&&(a.da[1]=-1))}return d}
function yg(a,b){var c=3;if(a.C&1<<b){var d=a.L[b],c=0;0===d?c=1:isFinite(d)||(c=2)}return c}function bg(a){for(var b=0,c=a.L.length-1;0<=c;c--)b<<=2,b|=yg(a,c);return b}function dg(a,b){a.C=0;for(var c=1;128>=c;c<<=1)3!=(b&3)&&(a.C|=c),b>>=2}function zg(a){var b=a.B+0&7;return a.C&1<<b?(a.pa[0]=a.L[b],!0):hg(a,1)?!1:(a.pa[0]=a.ka[0],!0)}function Ag(a){var b=a.B+0&7;return a.C&1<<b?(a.W[0]=a.L[b],!0):hg(a,1)?!1:(a.W[0]=a.ka[0],!0)}
function U(a,b){var c=null,d=a.B+b&7;a.C&1<<d?c=a.L[d]:hg(a,1)||(c=a.ka[0]);return c}function W(a,b,c){return null!=c&&(isNaN(c)?!hg(a,1):1)?(b=a.B+b&7,a.L[b]=c,a.C|=1<<b,!0):!1}function Bg(a,b,c){var d=null;b=a.B+b&7;if(c||a.C&1<<b||!hg(a,1))c=b<<1,d=Cg(a,a.Y[c],a.Y[c+1]);return d}function Dg(a){return a.F.oa(a.F.D)<<16>>16}function Eg(a){return a.F.na(a.F.D)}function Fg(a){a.ua[0]=a.F.na(a.F.D);return a.pa[0]}function Gg(a){a.da[0]=a.F.na(a.F.D);a.da[1]=a.F.na(a.F.D+4);return a.W[0]}
function Hg(a){a.ea[0]=a.F.na(a.F.D);a.ea[1]=a.F.na(a.F.D+4);a.ea[2]=a.F.oa(a.F.D+8);return a.ea}m.ui=function(){this.F.nb(this.F.D,this.da[0])};m.qk=function(){this.F.nb(this.F.D,this.da[0]);this.F.nb(this.F.D+4,this.da[1])};m.sk=Zf.prototype.ui;m.rk=Zf.prototype.qk;function Ig(a){a.F.nb(a.F.D,a.ea[0]);a.F.nb(a.F.D+4,a.ea[1]);a.F.ib(a.F.D+8,a.ea[2])}
function Jg(a,b){var c=b[1],d=(b[2]&32768)>>4,e=b[2]&32767,f=b[0]>>>11|c<<21,c=c>>11&1048575;32767==e?e=2047:e&&(e+=-15360,0>=e&&(e=2047,f=c=0));a.da[0]=f;a.da[1]=c|(d|e)<<20;return a.W[0]}function Cg(a,b,c){var d=c>>20&2047,e=2147483648|(c&1048575)<<11|b>>>21;2047==d?d=32767:d?d+=15360:e&=2147483647;a.ea[0]=b<<11;a.ea[1]=e;a.ea[2]=c>>16&32768|d;return a.ea}function Kg(a,b){for(var c=0,d=1;b--;)c+=(a&15)*d,d*=10,a>>=4;return c}function Lg(a,b){for(var c=0,d=0;b--;)c|=a%10<<d,a/=10,d+=4;return c}
function Mg(a){var b=null,c=1<<a.B;if(!(a.C&c)&&(a.ma&=-513,hg(a,65)))return b;a.C&=~c;b=a.L[a.B];a.B=a.B+1&7;return b}function Ng(a,b){if(null!=b){var c=a.B-1&7,d=1<<c;if(a.C&d&&(a.ma|=512,hg(a,65)))return;if(isNaN(b)&&hg(a,1)){if(hg(a,1))return;b=NaN}a.L[a.B=c]=b;a.C|=d}}
function Og(a,b){var c,d=a.F;c=d.Bb(b);a.mc=c&-57409;c=d.Bb(b+=d.Z);a.ma=c&-14337;a.B=(c&14336)>>11;cg(a);dg(a,d.Bb(b+=d.Z));!(d.ab&1)||d.aa&131072?(a.V=d.Bb(b+=d.Z),c=d.Bb(b+=d.Z),a.ja=c&2047,a.V|=(c&-4096)<<4,a.fa=-1,a.U=d.Bb(b+=d.Z),a.U|=(d.Bb(b+=d.Z)&-4096)<<4,a.ga=-1):(a.V=d.Bb(b+=d.Z),c=d.Bb(b+=d.Z),a.fa=c&65535,a.ja=c>>16&2047,a.U=d.Bb(b+=d.Z),a.ga=d.Bb(b+=d.Z)&65535);return b+d.Z}
function Pg(a,b){var c=a.F;c.tc(b,a.mc);c.tc(b+=c.Z,ag(a));c.tc(b+=c.Z,bg(a));if(!(c.ab&1)||c.aa&131072){var d=(a.fa<<4)+a.V;c.tc(b+=c.Z,d);c.tc(b+=c.Z,d>>4&-4096|a.ja);d=(a.ga<<4)+a.U;c.tc(b+=c.Z,d);c.tc(b+=c.Z,d>>4&-4096)}else c.tc(b+=c.Z,a.V),c.tc(b+=c.Z,a.fa|a.ja<<16),c.tc(b+=c.Z,a.U),c.tc(b+=c.Z,a.ga);return b+c.Z}var Qg=Math.log(10)/Math.LN2,Rg=Math.LOG2E,Sg=Math.PI,Tg=Math.log(2)/Math.LN10,Ug=Math.LN2,Vg=Math.pow(2,63);function Wg(){this.ma&=-32896;cg(this)}
function Xg(){ng(this,U(this,0),U(this,this.A))}function Yg(){ng(this,U(this,0),U(this,this.A))&&Mg(this)}function Zg(){Yg.call(this)}function $g(){W(this,0,mg(this,U(this,0),Fg(this)))}function ah(){this.C&=~(1<<this.B)}function bh(){$f(this)}function ch(){this.mc=this.F.oa(this.F.D)&-57409}function dh(){Og(this,this.F.D)}function eh(){for(var a=this.F,b=Og(this,a.D),c=this.ea,d=0;d<this.L.length;d++)c[0]=a.na(b),c[1]=a.na(b+=4),c[2]=a.oa(b+=4),c&&W(this,d,Jg(this,c)),b+=2}
function fh(){for(var a=this.F,b=Pg(this,a.D),c=0;c<this.L.length;c++){var d=Bg(this,c,!0);a.nb(b,d[0]);a.nb(b+=4,d[1]);a.ib(b+=4,d[2]);b+=2}$f(this)}function gh(){Pg(this,this.F.D);this.mc|=63}function hh(){W(this,this.A,U(this,0))&&Mg(this)}function ih(){hh.call(this)}function jh(){this.F.ib(this.F.D,this.mc)}function kh(){this.F.ib(this.F.D,ag(this))}function lh(){80287<=this.ia&&(this.F.G=this.F.G&-65536|ag(this))}function mh(){var a=U(this,0);W(this,0,U(this,this.A));W(this,this.A,a)}
function nh(){mh.call(this)}
var oh={216:{0:function(){W(this,0,jg(this,U(this,0),Fg(this)))},1:function(){W(this,0,lg(this,U(this,0),Fg(this)))},2:function(){ng(this,U(this,0),Fg(this))},3:function(){ng(this,U(this,0),Fg(this))&&Mg(this)},4:function(){W(this,0,kg(this,U(this,0),Fg(this)))},5:function(){W(this,0,kg(this,Fg(this),U(this,0)))},6:$g,7:$g,48:function(){W(this,0,jg(this,U(this,0),U(this,this.A)))},49:function(){W(this,0,lg(this,U(this,0),U(this,this.A)))},50:Xg,51:Yg,52:function(){W(this,0,kg(this,U(this,0),U(this,
this.A)))},53:function(){W(this,0,kg(this,U(this,this.A),U(this,0)))},54:function(){W(this,0,mg(this,U(this,0),U(this,this.A)))},55:function(){W(this,0,mg(this,U(this,this.A),U(this,0)))}},217:{0:function(){Ng(this,Fg(this))},2:function(){zg(this)&&this.sk()},3:function(){zg(this)&&(this.sk(),Mg(this))},4:dh,5:ch,6:gh,7:jh,48:function(){Ng(this,U(this,this.A))},49:mh,50:function(){},51:ih,64:function(){W(this,0,-U(this,0))},65:function(){W(this,0,Math.abs(U(this,0)))},68:function(){ng(this,U(this,
0),0)},69:function(){this.ma&=-18177;this.Y[((this.B+0&7)<<1)+1]&-2147483648&&(this.ma|=512);if(3==yg(this,this.B))this.ma|=16640;else{var a=U(this,0);this.ma=isNaN(a)?this.ma|256:0===a?this.ma|16384:Infinity===a||-Infinity===a?this.ma|1280:this.ma|1024}},80:function(){Ng(this,1)},81:function(){Ng(this,Qg)},82:function(){Ng(this,Rg)},83:function(){Ng(this,Sg)},84:function(){Ng(this,Tg)},85:function(){Ng(this,Ug)},86:function(){Ng(this,0)},96:function(){W(this,0,Math.pow(2,U(this,0))-1)},97:function(){W(this,
1,U(this,1)*Math.log(U(this,0))/Math.LN2)&&Mg(this)},98:function(){W(this,0,Math.tan(U(this,0)))&&Ng(this,1)},99:function(){W(this,1,Math.atan2(U(this,1),U(this,0)))&&Mg(this)},100:function(){var a=U(this,0);null!=a&&(this.W[0]=a,W(this,0,(this.da[1]>>20&2047)-1023),this.da[1]=(this.da[1]|1072693248)&-1073741825,Ng(this,this.W[0]))},102:function(){this.B=this.B-1&7;this.ma&=-513},103:function(){this.B=this.B+1&7;this.ma&=-513},112:function(){W(this,0,U(this,0)%U(this,1))},113:function(){W(this,1,
U(this,1)*Math.log(U(this,0)+1)/Math.LN2)&&Mg(this)},114:function(){var a=U(this,0),b=null;if(0<=a||!hg(this,1))b=Math.sqrt(a),ig(this,b)||(b=null);W(this,0,b)},116:function(){W(this,0,og(this,U(this,0),Vg))},117:function(){var a=U(this,0),b=U(this,1);null!=a&&null!=b&&W(this,0,a*Math.pow(2,0<b?Math.floor(b):Math.ceil(b)))}},218:{0:function(){W(this,0,jg(this,U(this,0),Eg(this)))},1:function(){W(this,0,lg(this,U(this,0),Eg(this)))},2:function(){ng(this,U(this,0),Eg(this))},3:function(){ng(this,U(this,
0),Eg(this))&&Mg(this)},4:function(){W(this,0,kg(this,U(this,0),Eg(this)))},5:function(){W(this,0,kg(this,Eg(this),U(this,0)))},6:function(){W(this,0,mg(this,U(this,0),Eg(this)))},7:function(){W(this,0,mg(this,Eg(this),U(this,0)))}},219:{0:function(){Ng(this,Eg(this))},2:function(){null!=og(this,U(this,0),2147483648)&&this.ui()},3:function(){null!=og(this,U(this,0),2147483648)&&(this.ui(),Mg(this))},5:function(){Ng(this,Jg(this,Hg(this)))},7:function(){Bg(this,0)&&(Ig(this),Mg(this))},64:function(){8087==
this.ia&&(this.mc&=-129)},65:function(){8087==this.ia&&(this.mc|=128)},66:Wg,67:bh,68:function(){},115:function(){}},220:{0:function(){W(this,0,jg(this,U(this,0),Gg(this)))},1:function(){W(this,0,lg(this,U(this,0),Gg(this)))},2:function(){ng(this,U(this,0),Gg(this))},3:function(){ng(this,U(this,0),Gg(this))&&Mg(this)},4:function(){W(this,0,kg(this,U(this,0),Gg(this)))},5:function(){W(this,0,kg(this,Gg(this),U(this,0)))},6:function(){W(this,0,mg(this,U(this,0),Gg(this)))},7:function(){W(this,0,mg(this,
Gg(this),U(this,0)))},48:function(){W(this,this.A,jg(this,U(this,this.A),U(this,0)))},49:function(){W(this,this.A,lg(this,U(this,this.A),U(this,0)))},50:function(){Xg.call(this)},51:Zg,52:function(){W(this,this.A,kg(this,U(this,0),U(this,this.A)))},53:function(){W(this,this.A,kg(this,U(this,this.A),U(this,0)))},54:function(){W(this,this.A,mg(this,U(this,0),U(this,this.A)))},55:function(){W(this,this.A,mg(this,U(this,this.A),U(this,0)))}},221:{0:function(){Ng(this,Gg(this))},2:function(){Ag(this)&&
this.rk()},3:function(){Ag(this)&&(this.rk(),Mg(this))},4:eh,6:fh,7:kh,48:ah,49:nh,50:function(){W(this,this.A,U(this,0))},51:hh},222:{0:function(){W(this,0,jg(this,U(this,0),Dg(this)))},1:function(){W(this,0,lg(this,U(this,0),Dg(this)))},2:function(){ng(this,U(this,0),Dg(this))},3:function(){ng(this,U(this,0),Dg(this))&&Mg(this)},4:function(){W(this,0,kg(this,U(this,0),Dg(this)))},5:function(){W(this,0,kg(this,Dg(this),U(this,0)))},6:function(){W(this,0,mg(this,U(this,0),Dg(this)))},7:function(){W(this,
0,mg(this,Dg(this),U(this,0)))},48:function(){W(this,this.A,jg(this,U(this,this.A),U(this,0)))&&Mg(this)},49:function(){W(this,this.A,lg(this,U(this,this.A),U(this,0)))&&Mg(this)},50:Zg,51:function(){ng(this,U(this,0),U(this,1))&&null!=Mg(this)&&Mg(this)},52:function(){W(this,this.A,kg(this,U(this,0),U(this,this.A)))&&Mg(this)},53:function(){W(this,this.A,kg(this,U(this,this.A),U(this,0)))&&Mg(this)},54:function(){W(this,this.A,mg(this,U(this,0),U(this,this.A)))&&Mg(this)},55:function(){W(this,this.A,
mg(this,U(this,this.A),U(this,0)))&&Mg(this)}},223:{0:function(){Ng(this,Dg(this))},2:function(){null!=og(this,U(this,0),32768)&&this.F.ib(this.F.D,this.da[0])},3:function(){null!=og(this,U(this,0),32768)&&(this.F.ib(this.F.D,this.da[0]),Mg(this))},4:function(){var a=Hg(this),b=Kg(a[0],8)+1E8*Kg(a[1],8)+1E16*Kg(a[2],2);a[2]&32768&&(b=-b);Ng(this,b)},5:function(){var a;a=this.F.na(this.F.D);a=4294967296*this.F.na(this.F.D+4)+(a>>>0);Ng(this,a)},6:function(){var a=og(this,Mg(this));null!=a&&(this.ea[0]=
Lg(a,8),this.ea[1]=Lg(a/1E8,8),this.ea[2]=Lg(a/1E16,2),0>a&&(this.ea[2]|=32768),Ig(this))},7:function(){null!=og(this,U(this,0),Vg)&&(this.qk(),Mg(this))},48:function(){ah.call(this);Mg(this)},49:nh,50:ih,51:ih,52:lh}},ph=[Wg,bh,ch,dh,eh,fh,jh,gh,kh,lh];Qa(function(){for(var a=nb(document,"pcjs","fpu"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Zf(d);mb(d,c)}});function qh(a,b){var c=a+b+Cf(this)|0;pf(this,a,b,c,191);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&255}
function rh(a,b){var c=a+b+Cf(this)|0;pf(this,a,b,c,this.Ja|63);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&this.R}function sh(a,b){var c=a+b|0;pf(this,a,b,c,191);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&255}function th(a,b){var c=a+b|0;pf(this,a,b,c,this.Ja|63);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&this.R}
function uh(a,b){var c=a&b;wf(this,c,128);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c}function vh(a,b){this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return wf(this,a&b,this.Ja)&this.R}function wh(a,b){this.A-=10+(-1===this.D?0:1);if((a&3)<(b&3))return a=a&-4|b&3,Gf(this),a;Ef(this);return a}
function xh(a){if(-1===this.D)return C.call(this,6),a;var b=a,c=this.Bb(this.D),d=this.Bb(this.D+this.Z);2==this.Z&&(b=a<<16>>16,c=c<<16>>16,d=d<<16>>16);this.A-=this.B.fj;(b<c||b>d)&&C.call(this,5);this.S|=2;return a}function yh(a,b){var c=0;if(b){Ef(this);for(var d=1;d&this.R;){if(b&d){a=c;break}d<<=1;c++}}else Gf(this);this.A-=11+3*c;return a}function zh(a,b){var c=0;if(b){Ef(this);for(var d=2==this.Z?15:31,e=1<<d;e;){if(b&e){a=d;break}e>>>=1;c++;d--}}else Gf(this);this.A-=11+3*c;return a}
function Ah(a,b){a&1<<(b&(2==this.Z?15:31))?xf(this):yf(this);this.A-=-1===this.D?3:6;this.S|=2;return a}function Bh(a,b){var c=1<<(b&(2==this.Z?15:31));a&c?xf(this):yf(this);this.A-=-1===this.D?6:8;return a^c}function Ch(a,b){var c=1<<(b&(2==this.Z?15:31));a&c?xf(this):yf(this);this.A-=-1===this.D?6:8;return a&~c}function Dh(a,b){var c=1<<(b&(2==this.Z?15:31));a&c?xf(this):yf(this);this.A-=-1===this.D?6:8;return a|c}
function Eh(a,b){if(-1===this.D)return Ah.call(this,a,b);var c=this.Z<<3;if(b>=c||b<-c)a=Mf(this,this.ac,this.Ca+(b>>(2==this.Z?4:5))*this.Z);b=1<<(b&(2==this.Z?15:31));a&b?xf(this):yf(this);this.A-=6;this.S|=2;return a}function Fh(a,b){if(-1===this.D)return Bh.call(this,a,b);var c=this.Z<<3;if(b>=c||b<-c)a=Mf(this,this.ac,this.Ca+(b>>(2==this.Z?4:5))*this.Z);b=1<<(b&(2==this.Z?15:31));a&b?xf(this):yf(this);this.A-=8;return a^b}
function Gh(a,b){if(-1===this.D)return Ch.call(this,a,b);var c=this.Z<<3;if(b>=c||b<-c)a=Mf(this,this.ac,this.Ca+(b>>(2==this.Z?4:5))*this.Z);b=1<<(b&(2==this.Z?15:31));a&b?xf(this):yf(this);this.A-=8;return a&~b}function Hh(a,b){if(-1===this.D)return Dh.call(this,a,b);var c=this.Z<<3;if(b>=c||b<-c)a=Mf(this,this.ac,this.Ca+(b>>(2==this.Z?4:5))*this.Z);b=1<<(b&(2==this.Z?15:31));a&b?xf(this):yf(this);this.A-=8;return a|b}
function Ih(a,b){pf(this,a,b,a-b|0,191,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Fh:this.B.Vb;this.S|=2;return a}function Jh(a,b){pf(this,a,b,a-b|0,this.Ja|63,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Fh:this.B.Vb;this.S|=2;return a}
function Kh(a){if(this.Xb){var b=this.Xb,c=this.Rg,d=this.L,e=d>>3&7;b.A=d&7;var f=(3>(d>>6&3)?0:48)+e;(217==c||219==c)&&52<=f&&(f=e<<4|b.A);if(e=oh[c][f]){if(0>ph.indexOf(e)){var f=b.F,g=f.oe;8087==b.ia&&(f.Ia&16&&g++,f.Ia&32&&g++);b.fa=f.va.ba;b.V=g-f.va.Aa;-1!==f.D&&(b.ga=f.ac.ba,b.U=f.D-f.ac.Aa);b.ja=(c&7)<<8|d}e.call(b)}}this.A-=-1===this.D?2:8;return a}function Lh(a){if(80186>this.ia)return Mh.call(this,a);C.call(this,13,0);return a}function ee(a){C.call(this,6);return a}
function Mh(a){he.call(this);return a}function Nh(a,b){var c=Oh.call(this,this.T(),b);80386>this.ia&&(this.A-=12);return c}function Ph(a,b){var c;a=this.Na();c=2==this.Z?Oh.call(this,a,b):Qh.call(this,a,b);80386>this.ia&&(this.A-=12);return c}function Rh(a,b){var c=!1;0>b&&(b=-b|0,c=!c);0>a&&(a=-a|0,c=!c);Sh.call(this,a,b);c&&(this.ja=~this.ja+1|0,this.wa=~this.wa+(this.ja?0:1)|0)}
function Oh(a,b){var c=(a<<16>>16)*(b<<16>>16)|0;32767<c||-32768>c?(xf(this),zf(this)):(yf(this),Af(this));this.A-=-1===this.D?9:12;return c&65535}function Qh(a,b){Rh.call(this,a,b);this.wa!=this.ja>>31?(xf(this),zf(this)):(yf(this),Af(this));this.A-=-1===this.D?9:12;return this.ja}function Th(a,b){this.A-=14+(-1===this.D?0:2);Ef(this);-1!==this.Fa.load(b)&&this.Fa.Kc>=this.pa&&this.Fa.Kc>=(b&3)&&(Gf(this),a=this.Fa.wb&-256,2<this.Z&&(a|=(this.Fa.ext&-65281)<<16));return a}
function Uh(a,b){if(-1===this.D)return he.call(this),a;vd(this,this.oa(this.D+this.Z));this.A-=this.B.nf;return b}function Vh(){this.A-=this.B.Ij;return this.D}function Wh(a,b){if(-1===this.D)return he.call(this),a;wd(this,this.oa(this.D+this.Z));this.A-=this.B.nf;return b}function Xh(a,b){if(-1===this.D)return he.call(this),a;var c=this.oa(this.D+this.Z);this.Nb.load(c);this.A-=this.B.nf;return b}
function Yh(a,b){if(-1===this.D)return he.call(this),a;var c=this.oa(this.D+this.Z);this.Ob.load(c);this.A-=this.B.nf;return b}function Zh(a,b){this.A-=14+(-1===this.D?0:2);if(b&65528&&-1!==this.Fa.load(b)&&(7168==(this.Fa.wb&7168)||this.Fa.Kc>=this.pa)&&this.Fa.Kc>=(b&3))return Gf(this),this.Fa.Sa;Ef(this);return a}function $h(a,b){if(-1===this.D)return he.call(this),a;kd(this,this.oa(this.D+this.Z));this.A-=this.B.nf;return b}
function ai(a,b){this.A-=-1===this.C?-1===this.D?this.B.Pj:this.B.Oj:this.B.Mj;return b}function bi(a,b){switch(this.L>>3&7){case 4:this.Y=this.G;break;case 5:this.Y=this.I;break;case 6:this.Y=this.M;break;case 7:this.Y=this.H}return b}function ci(a,b){return b}
function di(a,b){var c=this.L>>3&7;switch(c){case 0:this.Y=this.G;break;case 2:this.Y=this.M;break;case 3:this.Y=this.H;break;default:if(80286==this.ia||80386==this.ia&&4!=c&&5!=c){C.call(this,6);break}switch(c){case 1:this.Y=this.I;break;case 4:this.Y=I(this);break;case 5:this.Y=this.P;break;case 6:this.Y=this.K;break;case 7:this.Y=this.J}}return ai.call(this,0,b)}
function ei(a,b){switch(this.L>>3&7){case 0:b=this.Va.ba;break;case 1:b=this.va.ba;break;case 2:b=this.ta.ba;break;case 3:b=this.vb.ba;break;case 4:if(80386<=this.ia){b=this.Nb.ba;break}C.call(this,6);b=a;break;case 5:if(80386<=this.ia){b=this.Ob.ba;break}default:C.call(this,6),b=a}-1!==this.C&&sd(this,2);return ai.call(this,0,b)}
function Sh(a,b){if(a&-65536||b&-65536){var c=b&65535,d=b>>>16,e=a&65535,f=a>>>16,g=c*e,e=(g>>>16)+d*e,h=e>>>16,e=(e&65535)+c*f;this.ja=e<<16|g&65535;this.wa=h+((e>>>16)+d*f)|0}else this.ja=a*b|0,this.wa=0}function fi(a,b){this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return wf(this,a|b,128)}function xi(a,b){this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return wf(this,a|b,this.Ja)&this.R}
function yi(a,b){var c=a-b-Cf(this)|0;pf(this,a,b,c,191,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&255}function zi(a,b){var c=a-b-Cf(this)|0;pf(this,a,b,c,this.Ja|63,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&this.R}function Ai(){return vf(this)?1:0}function Bi(){return qf(this)?1:0}function Ci(){return qf(this)?0:1}function Di(){return tf(this)?1:0}function Ei(){return tf(this)?0:1}function Fi(){return qf(this)||tf(this)?1:0}
function Gi(){return qf(this)||tf(this)?0:1}function Hi(){return uf(this)?1:0}function Ii(){return uf(this)?0:1}function Ji(){return rf(this)?1:0}function Ki(){return rf(this)?0:1}function Li(){return!uf(this)!=!vf(this)?1:0}function Mi(){return!uf(this)!=!vf(this)?0:1}function Ni(){return tf(this)||!uf(this)!=!vf(this)?1:0}function Oi(){return tf(this)||!uf(this)!=!vf(this)?0:1}function Pi(a,b){return Qi.call(this,a,b,this.xa())}function Ri(a,b){return Si.call(this,a,b,this.xa())}
function Ti(a,b){return Qi.call(this,a,b,this.I&31)}function Ui(a,b){return Si.call(this,a,b,this.I&31)}function Vi(a,b){return Wi.call(this,a,b,this.xa())}function Xi(a,b){return Yi.call(this,a,b,this.xa())}function Zi(a,b){return Wi.call(this,a,b,this.I&31)}function $i(a,b){return Yi.call(this,a,b,this.I&31)}function aj(a,b){var c=a-b|0;pf(this,a,b,c,191,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&255}
function bj(a,b){var c=a-b|0;pf(this,a,b,c,this.Ja|63,!0);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c&this.R}function cj(a,b){wf(this,a&b,128);this.A-=-1===this.C?-1===this.D?this.B.gi:this.B.Vf:this.B.Vf;this.S|=2;return a}function dj(a,b){wf(this,a&b,this.Ja);this.A-=-1===this.C?-1===this.D?this.B.gi:this.B.Vf:this.B.Vf;this.S|=2;return a}function ej(a,b){var c=this.G&this.R,d=(1<<(this.I&31))-1;return a&~(d<<c)|(b&d)<<c}
function fj(a,b){return b>>(this.G&this.R)&(1<<(this.I&31))-1&this.R}function gj(a,b){if(-1===this.D){switch(this.L&7){case 0:this.G=this.G&-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.G=this.G&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}this.A-=this.B.ii}else this.C=this.D,Pf(this,a),this.A-=this.B.hi;return b}
function hj(a,b){if(-1===this.D){switch(this.L&7){case 0:this.G=this.G&~this.R|a;break;case 1:this.I=this.I&~this.R|a;break;case 2:this.M=this.M&~this.R|a;break;case 3:this.H=this.H&~this.R|a;break;case 4:G(this,I(this)&~this.R|a);break;case 5:this.P=this.H&~this.R|a;break;case 6:this.K=this.K&~this.R|a;break;case 7:this.J=this.J&~this.R|a}this.A-=this.B.ii}else this.C=this.D,this.S&2||this.tc(this.ac.qc(this.Ca,this.Z),a),this.A-=this.B.hi;return b}
function ij(a,b){var c=a^b;wf(this,c,128);this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return c}function jj(a,b){this.A-=-1===this.C?-1===this.D?this.B.yc:this.B.Vb:this.B.Lc;return wf(this,a^b,this.Ja)&this.R}function kj(a,b){var c=a[1]-b[1];c||(c=a[0]-b[0]);return c}function lj(a){var b=a-1|0;pf(this,a,1,b,this.Ja|62,!0);this.A-=2;return a&~this.R|b&this.R}
function mj(a,b,c){c>>>=0;if(!c||c<=b>>>0)return!1;var d=0,e=1;c=[c>>>0,0];for(a=[a>>>0,b>>>0];0<kj(a,c);){var f=b=c;b[0]+=f[0];b[1]+=f[1];4294967295<b[0]&&(b[0]>>>=0,b[1]++);e+=e}do 0<=kj(a,c)&&(b=a,f=c,b[0]-=f[0],b[1]-=f[1],0>b[0]&&(b[0]>>>=0,b[1]--),d+=e),b=c,b[0]>>>=1,b[1]&1&&(b[0]=(b[0]|2147483648)>>>0),b[1]>>>=1,e/=2;while(1<=e);this.ja=d;this.wa=a[0];return!0}function nj(a){var b=a+1|0;pf(this,a,1,b,this.Ja|62);this.A-=2;return a&~this.R|b&this.R}
function oj(a){this.ab=a;md(this);this.ab&-2147483648?se(this):ue(this)}function Ad(a){this.Md=a;Vb(this)}function pj(a){this.S|=1;this.bb.call(this,a);this.A-=-1===this.D?4:5}function Qi(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a<<c-1;a=(d<<1|b>>>16-c)&65535;wf(this,a,32768,d&32768)}return a}function Si(a,b,c){if(c){var d=a<<c-1;a=d<<1|b>>>32-c;wf(this,a,-2147483648,d&-2147483648)}return a}
function Wi(a,b,c){if(c){16<c&&(a=b,c-=16);var d=a>>>c-1;a=(d>>>1|b<<16-c)&65535;wf(this,a,32768,d&1)}return a}function Yi(a,b,c){if(c){var d=a>>>c-1;a=d>>>1|b<<32-c;wf(this,a,-2147483648,d&1)}return a}function qj(){this.A-=-1===this.D?2:this.B.bk;return 1}function rj(){var a=this.I&255;this.A-=(-1===this.D?this.B.$h:this.B.Zh)+(a<<this.B.ai);return a}function sj(){var a=this.xa();this.A-=(-1===this.D?this.B.$h:this.B.Zh)+(a<<this.B.ai);return a}function tj(){return null}
function uj(){return this.Y}function vj(a,b){this.Wc=this.va.ba;this.td=this.ta.ba;this.W=this.ga;var c=K(this),d=this.Z;null!=zd(this,a,b,!0)&&(ud(this,this.Wc,d,2),ud(this,c,d,d));this.Wc=this.td=this.W=-1}function wj(a,b,c){this.A-=this.B.Aj+(c||0);c=xd(this);var d=this.va.ba,e=K(this);a=this.va.$i(a);-1!==a&&(J(this,c),J(this,d),J(this,e),null!=b&&J(this,b),this.rb=-1,mf(this,a))}
function xj(a){this.W=this.ga;var b=E(this),c=E(this);a&&G(this,I(this)+a);zd(this,b,c,!1)&&(a&&G(this,I(this)+a),xe(this,this.vb),xe(this,this.Va),80386<=this.ia&&(xe(this,this.Nb),xe(this,this.Ob)));2==a&&this.Ce&&ef(this,this.Da);this.W=-1}function yj(){8086==this.ia?(this.rb=-1,wj.call(this,0,null,2)):C.call(this,0,null,2)}function Xf(a,b){this.rb=a;void 0===b&&(b=11);wj.call(this,a,null,b)}
function C(a,b,c,d){var e=!1;this.la.Sd?80186<=this.ia&&(e=!0,0>this.rb?(-1!=this.Wc&&(this.va.Ub=3,kf(this,this.Wc),this.Wc=-1),mf(this,this.oe),-1!=this.td&&(kd(this,this.td),this.td=-1),-1!==this.W&&(G(this,this.jb&~this.ta.Ba|this.W-this.ta.Aa),this.W=-1)):8!=this.rb?(b=0,a=8):(b=0,a=-1,qe(this),e=d=!1)):mf(this,this.oe);var f=a,g=b,h=32,k=Jf(this,this.Da);204!=k||this.Pd||(d=!1);this.aa&131072&&(6==f&&99==k||13==f&&205==k)&&(d=!1);!1===d&&(h|=1);983040<=this.Da&&1048575>=this.Da&&(d=!1);z(this,
h|-2147483648)&&(d=!0);if(z(this,h)||d){var l=this.la.Ib,f="Fault "+t(f)+(null!=g?" ("+u(g)+")":"")+" on opcode "+t(k);d&&l&&(f+=" (blocked by PCjs Debugger)");this.ha?(y(this,f,d||h,!0),d&&(d=l,this.ha.Wb())):(this.Oa(f),this.Wb())}if(d&&e)throw-1;if(e)throw this.rb=a,wj.call(this,a,b,c),this.oe=this.Da,this.S=1==a?this.S|8192:this.S|4096,a;}function te(a,b,c){this.qe=a;a=0;b&&(a|=1);c&&(a|=2);3==this.pa&&(a|=4);C.call(this,14,a)}
function ze(a){var b,c;switch((this.L=this.xa())&199){case 0:c=P(this,this.H+this.K);this.A-=this.B.fd;break;case 1:c=P(this,this.H+this.J);this.A-=this.B.gd;break;case 2:c=Lf(this,this.P+this.K);this.A-=this.B.gd;break;case 3:c=Lf(this,this.P+this.J);this.A-=this.B.fd;break;case 4:c=P(this,this.K);this.A-=this.B.Hc;break;case 5:c=P(this,this.J);this.A-=this.B.Hc;break;case 6:c=P(this,T(this));this.A-=this.B.Id;break;case 7:c=P(this,this.H);this.A-=this.B.Hc;break;case 64:c=P(this,this.H+this.K+this.T());
this.A-=this.B.gc;break;case 65:c=P(this,this.H+this.J+this.T());this.A-=this.B.hc;break;case 66:c=Lf(this,this.P+this.K+this.T());this.A-=this.B.hc;break;case 67:c=Lf(this,this.P+this.J+this.T());this.A-=this.B.gc;break;case 68:c=P(this,this.K+this.T());this.A-=this.B.hb;break;case 69:c=P(this,this.J+this.T());this.A-=this.B.hb;break;case 70:c=Lf(this,this.P+this.T());this.A-=this.B.hb;break;case 71:c=P(this,this.H+this.T());this.A-=this.B.hb;break;case 128:c=P(this,this.H+this.K+T(this));this.A-=
this.B.gc;break;case 129:c=P(this,this.H+this.J+T(this));this.A-=this.B.hc;break;case 130:c=Lf(this,this.P+this.K+T(this));this.A-=this.B.hc;break;case 131:c=Lf(this,this.P+this.J+T(this));this.A-=this.B.gc;break;case 132:c=P(this,this.K+T(this));this.A-=this.B.hb;break;case 133:c=P(this,this.J+T(this));this.A-=this.B.hb;break;case 134:c=Lf(this,this.P+T(this));this.A-=this.B.hb;break;case 135:c=P(this,this.H+T(this));this.A-=this.B.hb;break;case 192:c=this.G&255;break;case 193:c=this.I&255;break;
case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.G>>8&255;break;case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=this.H>>8&255;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G&255;break;case 1:b=this.I&255;break;case 2:b=this.M&255;break;case 3:b=this.H&255;break;case 4:b=this.G>>8&255;break;case 5:b=this.I>>8&255;break;case 6:b=this.M>>8&255;break;case 7:b=this.H>>8&255;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=this.G&
-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.G=this.G&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}}
function Ae(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=P(this,this.H+this.K);this.C=this.D;break;case 1:b=P(this,this.H+this.J);this.C=this.D;break;case 2:b=Lf(this,this.P+this.K);this.C=this.D;break;case 3:b=Lf(this,this.P+this.J);this.C=this.D;break;case 4:b=P(this,this.K);this.C=this.D;break;case 5:b=P(this,this.J);this.C=this.D;break;case 6:b=P(this,T(this));this.C=this.D;break;case 7:b=P(this,this.H);this.C=this.D;break;case 64:b=P(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:b=P(this,this.H+this.J+this.T());this.C=this.D;break;case 66:b=Lf(this,this.P+this.K+this.T());this.C=this.D;break;case 67:b=Lf(this,this.P+this.J+this.T());this.C=this.D;break;case 68:b=P(this,this.K+this.T());this.C=this.D;break;case 69:b=P(this,this.J+this.T());this.C=this.D;break;case 70:b=Lf(this,this.P+this.T());this.C=this.D;break;case 71:b=P(this,this.H+this.T());this.C=this.D;break;case 128:b=P(this,this.H+this.K+T(this));this.C=this.D;break;case 129:b=P(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:b=Lf(this,this.P+this.K+T(this));this.C=this.D;break;case 131:b=Lf(this,this.P+this.J+T(this));this.C=this.D;break;case 132:b=P(this,this.K+T(this));this.C=this.D;break;case 133:b=P(this,this.J+T(this));this.C=this.D;break;case 134:b=Lf(this,this.P+T(this));this.C=this.D;break;case 135:b=P(this,this.H+T(this));this.C=this.D;break;case 192:b=this.G&255;break;case 193:b=this.I&255;break;case 194:b=this.M&255;break;case 195:b=this.H&255;break;case 196:b=this.G>>8&255;break;
case 197:b=this.I>>8&255;break;case 198:b=this.M>>8&255;break;case 199:b=this.H>>8&255;break;default:b=0}switch(this.L>>3&7){case 0:c=this.G&255;break;case 1:c=this.I&255;break;case 2:c=this.M&255;break;case 3:c=this.H&255;break;case 4:c=this.G>>8&255;break;case 5:c=this.I>>8&255;break;case 6:c=this.M>>8&255;break;case 7:c=this.H>>8&255;break;default:c=0}a=a.call(this,b,c);switch(d){case 0:case 3:Pf(this,a);this.A-=this.B.fd;break;case 1:case 2:Pf(this,a);this.A-=this.B.gd;break;case 4:case 5:case 7:Pf(this,
a);this.A-=this.B.Hc;break;case 6:Pf(this,a);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Pf(this,a);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Pf(this,a);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Pf(this,a);this.A-=this.B.hb;break;case 192:this.G=this.G&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.G=this.G&-65281|a<<8;break;case 197:this.I=
this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8}}
function Be(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=P(this,this.H+this.K);this.C=this.D;break;case 1:c=P(this,this.H+this.J);this.C=this.D;break;case 2:c=Lf(this,this.P+this.K);this.C=this.D;break;case 3:c=Lf(this,this.P+this.J);this.C=this.D;break;case 4:c=P(this,this.K);this.C=this.D;break;case 5:c=P(this,this.J);this.C=this.D;break;case 6:c=P(this,T(this));this.C=this.D;break;case 7:c=P(this,this.H);this.C=this.D;break;case 64:c=P(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:c=P(this,this.H+this.J+this.T());this.C=this.D;break;case 66:c=Lf(this,this.P+this.K+this.T());this.C=this.D;break;case 67:c=Lf(this,this.P+this.J+this.T());this.C=this.D;break;case 68:c=P(this,this.K+this.T());this.C=this.D;break;case 69:c=P(this,this.J+this.T());this.C=this.D;break;case 70:c=Lf(this,this.P+this.T());this.C=this.D;break;case 71:c=P(this,this.H+this.T());this.C=this.D;break;case 128:c=P(this,this.H+this.K+T(this));this.C=this.D;break;case 129:c=P(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:c=Lf(this,this.P+this.K+T(this));this.C=this.D;break;case 131:c=Lf(this,this.P+this.J+T(this));this.C=this.D;break;case 132:c=P(this,this.K+T(this));this.C=this.D;break;case 133:c=P(this,this.J+T(this));this.C=this.D;break;case 134:c=Lf(this,this.P+T(this));this.C=this.D;break;case 135:c=P(this,this.H+T(this));this.C=this.D;break;case 192:c=this.G&255;break;case 193:c=this.I&255;break;case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.G>>8&255;break;
case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=this.H>>8&255;break;default:c=0}c=a[this.L>>3&7].call(this,c,b.call(this));switch(d){case 0:case 3:Pf(this,c);this.A-=this.B.fd;break;case 1:case 2:Pf(this,c);this.A-=this.B.gd;break;case 4:case 5:case 7:Pf(this,c);this.A-=this.B.Hc;break;case 6:Pf(this,c);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Pf(this,c);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Pf(this,c);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Pf(this,
c);this.A-=this.B.hb;break;case 192:this.G=this.G&-256|c;break;case 193:this.I=this.I&-256|c;break;case 194:this.M=this.M&-256|c;break;case 195:this.H=this.H&-256|c;break;case 196:this.G=this.G&-65281|c<<8;break;case 197:this.I=this.I&-65281|c<<8;break;case 198:this.M=this.M&-65281|c<<8;break;case 199:this.H=this.H&-65281|c<<8}}
function Ce(a){var b,c;switch((this.L=this.xa())&199){case 0:c=R(this,this.H+this.K);this.A-=this.B.fd;break;case 1:c=R(this,this.H+this.J);this.A-=this.B.gd;break;case 2:c=Nf(this,this.P+this.K);this.A-=this.B.gd;break;case 3:c=Nf(this,this.P+this.J);this.A-=this.B.fd;break;case 4:c=R(this,this.K);this.A-=this.B.Hc;break;case 5:c=R(this,this.J);this.A-=this.B.Hc;break;case 6:c=R(this,T(this));this.A-=this.B.Id;break;case 7:c=R(this,this.H);this.A-=this.B.Hc;break;case 64:c=R(this,this.H+this.K+this.T());
this.A-=this.B.gc;break;case 65:c=R(this,this.H+this.J+this.T());this.A-=this.B.hc;break;case 66:c=Nf(this,this.P+this.K+this.T());this.A-=this.B.hc;break;case 67:c=Nf(this,this.P+this.J+this.T());this.A-=this.B.gc;break;case 68:c=R(this,this.K+this.T());this.A-=this.B.hb;break;case 69:c=R(this,this.J+this.T());this.A-=this.B.hb;break;case 70:c=Nf(this,this.P+this.T());this.A-=this.B.hb;break;case 71:c=R(this,this.H+this.T());this.A-=this.B.hb;break;case 128:c=R(this,this.H+this.K+T(this));this.A-=
this.B.gc;break;case 129:c=R(this,this.H+this.J+T(this));this.A-=this.B.hc;break;case 130:c=Nf(this,this.P+this.K+T(this));this.A-=this.B.hc;break;case 131:c=Nf(this,this.P+this.J+T(this));this.A-=this.B.gc;break;case 132:c=R(this,this.K+T(this));this.A-=this.B.hb;break;case 133:c=R(this,this.J+T(this));this.A-=this.B.hb;break;case 134:c=Nf(this,this.P+T(this));this.A-=this.B.hb;break;case 135:c=R(this,this.H+T(this));this.A-=this.B.hb;break;case 192:c=this.G&65535;break;case 193:c=this.I&65535;break;
case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=I(this)&65535;break;case 197:c=this.P&65535;break;case 198:c=this.K&65535;break;case 199:c=this.J&65535;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G&65535;break;case 1:b=this.I&65535;break;case 2:b=this.M&65535;break;case 3:b=this.H&65535;break;case 4:b=I(this)&65535;break;case 5:b=this.P&65535;break;case 6:b=this.K&65535;break;case 7:b=this.J&65535;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=
this.G&-65536|a;break;case 1:this.I=this.I&-65536|a;break;case 2:this.M=this.M&-65536|a;break;case 3:this.H=this.H&-65536|a;break;case 4:G(this,I(this)&-65536|a);break;case 5:this.P=this.P&-65536|a;break;case 6:this.K=this.K&-65536|a;break;case 7:this.J=this.J&-65536|a}}
function De(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=R(this,this.H+this.K);this.C=this.D;break;case 1:b=R(this,this.H+this.J);this.C=this.D;break;case 2:b=Nf(this,this.P+this.K);this.C=this.D;break;case 3:b=Nf(this,this.P+this.J);this.C=this.D;break;case 4:b=R(this,this.K);this.C=this.D;break;case 5:b=R(this,this.J);this.C=this.D;break;case 6:b=R(this,T(this));this.C=this.D;break;case 7:b=R(this,this.H);this.C=this.D;break;case 64:b=R(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:b=R(this,this.H+this.J+this.T());this.C=this.D;break;case 66:b=Nf(this,this.P+this.K+this.T());this.C=this.D;break;case 67:b=Nf(this,this.P+this.J+this.T());this.C=this.D;break;case 68:b=R(this,this.K+this.T());this.C=this.D;break;case 69:b=R(this,this.J+this.T());this.C=this.D;break;case 70:b=Nf(this,this.P+this.T());this.C=this.D;break;case 71:b=R(this,this.H+this.T());this.C=this.D;break;case 128:b=R(this,this.H+this.K+T(this));this.C=this.D;break;case 129:b=R(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:b=Nf(this,this.P+this.K+T(this));this.C=this.D;break;case 131:b=Nf(this,this.P+this.J+T(this));this.C=this.D;break;case 132:b=R(this,this.K+T(this));this.C=this.D;break;case 133:b=R(this,this.J+T(this));this.C=this.D;break;case 134:b=Nf(this,this.P+T(this));this.C=this.D;break;case 135:b=R(this,this.H+T(this));this.C=this.D;break;case 192:b=this.G&65535;break;case 193:b=this.I&65535;break;case 194:b=this.M&65535;break;case 195:b=this.H&65535;break;case 196:b=I(this)&65535;
break;case 197:b=this.P&65535;break;case 198:b=this.K&65535;break;case 199:b=this.J&65535;break;default:b=0}switch(this.L>>3&7){case 0:c=this.G&65535;break;case 1:c=this.I&65535;break;case 2:c=this.M&65535;break;case 3:c=this.H&65535;break;case 4:c=I(this)&65535;break;case 5:c=this.P&65535;break;case 6:c=this.K&65535;break;case 7:c=this.J&65535;break;default:c=0}a=a.call(this,b,c);switch(d){case 0:case 3:Qf(this,a);this.A-=this.B.fd;break;case 1:case 2:Qf(this,a);this.A-=this.B.gd;break;case 4:case 5:case 7:Qf(this,
a);this.A-=this.B.Hc;break;case 6:Qf(this,a);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Qf(this,a);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Qf(this,a);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Qf(this,a);this.A-=this.B.hb;break;case 192:this.G=this.G&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:G(this,I(this)&-65536|a);break;
case 197:this.P=this.P&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.J=this.J&-65536|a}}
function Ee(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=R(this,this.H+this.K);this.C=this.D;break;case 1:c=R(this,this.H+this.J);this.C=this.D;break;case 2:c=Nf(this,this.P+this.K);this.C=this.D;break;case 3:c=Nf(this,this.P+this.J);this.C=this.D;break;case 4:c=R(this,this.K);this.C=this.D;break;case 5:c=R(this,this.J);this.C=this.D;break;case 6:c=R(this,T(this));this.C=this.D;break;case 7:c=R(this,this.H);this.C=this.D;break;case 64:c=R(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:c=R(this,this.H+this.J+this.T());this.C=this.D;break;case 66:c=Nf(this,this.P+this.K+this.T());this.C=this.D;break;case 67:c=Nf(this,this.P+this.J+this.T());this.C=this.D;break;case 68:c=R(this,this.K+this.T());this.C=this.D;break;case 69:c=R(this,this.J+this.T());this.C=this.D;break;case 70:c=Nf(this,this.P+this.T());this.C=this.D;break;case 71:c=R(this,this.H+this.T());this.C=this.D;break;case 128:c=R(this,this.H+this.K+T(this));this.C=this.D;break;case 129:c=R(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:c=Nf(this,this.P+this.K+T(this));this.C=this.D;break;case 131:c=Nf(this,this.P+this.J+T(this));this.C=this.D;break;case 132:c=R(this,this.K+T(this));this.C=this.D;break;case 133:c=R(this,this.J+T(this));this.C=this.D;break;case 134:c=Nf(this,this.P+T(this));this.C=this.D;break;case 135:c=R(this,this.H+T(this));this.C=this.D;break;case 192:c=this.G&65535;break;case 193:c=this.I&65535;break;case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=I(this)&65535;
break;case 197:c=this.P&65535;break;case 198:c=this.K&65535;break;case 199:c=this.J&65535;break;default:c=0}c=a[this.L>>3&7].call(this,c,b.call(this));switch(d){case 0:case 3:Qf(this,c);this.A-=this.B.fd;break;case 1:case 2:Qf(this,c);this.A-=this.B.gd;break;case 4:case 5:case 7:Qf(this,c);this.A-=this.B.Hc;break;case 6:Qf(this,c);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Qf(this,c);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Qf(this,c);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Qf(this,
c);this.A-=this.B.hb;break;case 192:this.G=this.G&-65536|c;break;case 193:this.I=this.I&-65536|c;break;case 194:this.M=this.M&-65536|c;break;case 195:this.H=this.H&-65536|c;break;case 196:G(this,I(this)&-65536|c);break;case 197:this.P=this.P&-65536|c;break;case 198:this.K=this.K&-65536|c;break;case 199:this.J=this.J&-65536|c}}
function Fe(a){var b,c;switch((this.L=this.xa())&199){case 0:c=S(this,this.H+this.K);this.A-=this.B.fd;break;case 1:c=S(this,this.H+this.J);this.A-=this.B.gd;break;case 2:c=Of(this,this.P+this.K);this.A-=this.B.gd;break;case 3:c=Of(this,this.P+this.J);this.A-=this.B.fd;break;case 4:c=S(this,this.K);this.A-=this.B.Hc;break;case 5:c=S(this,this.J);this.A-=this.B.Hc;break;case 6:c=S(this,T(this));this.A-=this.B.Id;break;case 7:c=S(this,this.H);this.A-=this.B.Hc;break;case 64:c=S(this,this.H+this.K+this.T());
this.A-=this.B.gc;break;case 65:c=S(this,this.H+this.J+this.T());this.A-=this.B.hc;break;case 66:c=Of(this,this.P+this.K+this.T());this.A-=this.B.hc;break;case 67:c=Of(this,this.P+this.J+this.T());this.A-=this.B.gc;break;case 68:c=S(this,this.K+this.T());this.A-=this.B.hb;break;case 69:c=S(this,this.J+this.T());this.A-=this.B.hb;break;case 70:c=Of(this,this.P+this.T());this.A-=this.B.hb;break;case 71:c=S(this,this.H+this.T());this.A-=this.B.hb;break;case 128:c=S(this,this.H+this.K+T(this));this.A-=
this.B.gc;break;case 129:c=S(this,this.H+this.J+T(this));this.A-=this.B.hc;break;case 130:c=Of(this,this.P+this.K+T(this));this.A-=this.B.hc;break;case 131:c=Of(this,this.P+this.J+T(this));this.A-=this.B.gc;break;case 132:c=S(this,this.K+T(this));this.A-=this.B.hb;break;case 133:c=S(this,this.J+T(this));this.A-=this.B.hb;break;case 134:c=Of(this,this.P+T(this));this.A-=this.B.hb;break;case 135:c=S(this,this.H+T(this));this.A-=this.B.hb;break;case 192:c=this.G;break;case 193:c=this.I;break;case 194:c=
this.M;break;case 195:c=this.H;break;case 196:c=I(this);break;case 197:c=this.P;break;case 198:c=this.K;break;case 199:c=this.J;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G;break;case 1:b=this.I;break;case 2:b=this.M;break;case 3:b=this.H;break;case 4:b=I(this);break;case 5:b=this.P;break;case 6:b=this.K;break;case 7:b=this.J;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=a;break;case 1:this.I=a;break;case 2:this.M=a;break;case 3:this.H=a;break;case 4:G(this,a);break;
case 5:this.P=a;break;case 6:this.K=a;break;case 7:this.J=a}}
function Ge(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=S(this,this.H+this.K);this.C=this.D;break;case 1:b=S(this,this.H+this.J);this.C=this.D;break;case 2:b=Of(this,this.P+this.K);this.C=this.D;break;case 3:b=Of(this,this.P+this.J);this.C=this.D;break;case 4:b=S(this,this.K);this.C=this.D;break;case 5:b=S(this,this.J);this.C=this.D;break;case 6:b=S(this,T(this));this.C=this.D;break;case 7:b=S(this,this.H);this.C=this.D;break;case 64:b=S(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:b=S(this,this.H+this.J+this.T());this.C=this.D;break;case 66:b=Of(this,this.P+this.K+this.T());this.C=this.D;break;case 67:b=Of(this,this.P+this.J+this.T());this.C=this.D;break;case 68:b=S(this,this.K+this.T());this.C=this.D;break;case 69:b=S(this,this.J+this.T());this.C=this.D;break;case 70:b=Of(this,this.P+this.T());this.C=this.D;break;case 71:b=S(this,this.H+this.T());this.C=this.D;break;case 128:b=S(this,this.H+this.K+T(this));this.C=this.D;break;case 129:b=S(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:b=Of(this,this.P+this.K+T(this));this.C=this.D;break;case 131:b=Of(this,this.P+this.J+T(this));this.C=this.D;break;case 132:b=S(this,this.K+T(this));this.C=this.D;break;case 133:b=S(this,this.J+T(this));this.C=this.D;break;case 134:b=Of(this,this.P+T(this));this.C=this.D;break;case 135:b=S(this,this.H+T(this));this.C=this.D;break;case 192:b=this.G;break;case 193:b=this.I;break;case 194:b=this.M;break;case 195:b=this.H;break;case 196:b=I(this);break;case 197:b=this.P;break;
case 198:b=this.K;break;case 199:b=this.J;break;default:b=0}switch(this.L>>3&7){case 0:c=this.G;break;case 1:c=this.I;break;case 2:c=this.M;break;case 3:c=this.H;break;case 4:c=I(this);break;case 5:c=this.P;break;case 6:c=this.K;break;case 7:c=this.J;break;default:c=0}a=a.call(this,b,c);switch(d){case 0:case 3:Rf(this,a);this.A-=this.B.fd;break;case 1:case 2:Rf(this,a);this.A-=this.B.gd;break;case 4:case 5:case 7:Rf(this,a);this.A-=this.B.Hc;break;case 6:Rf(this,a);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Rf(this,
a);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Rf(this,a);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Rf(this,a);this.A-=this.B.hb;break;case 192:this.G=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:G(this,a);break;case 197:this.P=a;break;case 198:this.K=a;break;case 199:this.J=a}}
function He(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=S(this,this.H+this.K);this.C=this.D;break;case 1:c=S(this,this.H+this.J);this.C=this.D;break;case 2:c=Of(this,this.P+this.K);this.C=this.D;break;case 3:c=Of(this,this.P+this.J);this.C=this.D;break;case 4:c=S(this,this.K);this.C=this.D;break;case 5:c=S(this,this.J);this.C=this.D;break;case 6:c=S(this,T(this));this.C=this.D;break;case 7:c=S(this,this.H);this.C=this.D;break;case 64:c=S(this,this.H+this.K+this.T());this.C=this.D;break;
case 65:c=S(this,this.H+this.J+this.T());this.C=this.D;break;case 66:c=Of(this,this.P+this.K+this.T());this.C=this.D;break;case 67:c=Of(this,this.P+this.J+this.T());this.C=this.D;break;case 68:c=S(this,this.K+this.T());this.C=this.D;break;case 69:c=S(this,this.J+this.T());this.C=this.D;break;case 70:c=Of(this,this.P+this.T());this.C=this.D;break;case 71:c=S(this,this.H+this.T());this.C=this.D;break;case 128:c=S(this,this.H+this.K+T(this));this.C=this.D;break;case 129:c=S(this,this.H+this.J+T(this));
this.C=this.D;break;case 130:c=Of(this,this.P+this.K+T(this));this.C=this.D;break;case 131:c=Of(this,this.P+this.J+T(this));this.C=this.D;break;case 132:c=S(this,this.K+T(this));this.C=this.D;break;case 133:c=S(this,this.J+T(this));this.C=this.D;break;case 134:c=Of(this,this.P+T(this));this.C=this.D;break;case 135:c=S(this,this.H+T(this));this.C=this.D;break;case 192:c=this.G;break;case 193:c=this.I;break;case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=I(this);break;case 197:c=this.P;break;
case 198:c=this.K;break;case 199:c=this.J}c=a[this.L>>3&7].call(this,c,b.call(this));switch(d){case 0:case 3:Rf(this,c);this.A-=this.B.fd;break;case 1:case 2:Rf(this,c);this.A-=this.B.gd;break;case 4:case 5:case 7:Rf(this,c);this.A-=this.B.Hc;break;case 6:Rf(this,c);this.A-=this.B.Id;break;case 64:case 67:case 128:case 131:Rf(this,c);this.A-=this.B.gc;break;case 65:case 66:case 129:case 130:Rf(this,c);this.A-=this.B.hc;break;case 68:case 69:case 70:case 71:case 132:case 133:case 134:case 135:Rf(this,
c);this.A-=this.B.hb;break;case 192:this.G=c;break;case 193:this.I=c;break;case 194:this.M=c;break;case 195:this.H=c;break;case 196:G(this,c);break;case 197:this.P=c;break;case 198:this.K=c;break;case 199:this.J=c}}
function Ke(a){var b,c;switch((this.L=this.xa())&199){case 0:c=P(this,this.G);break;case 1:c=P(this,this.I);break;case 2:c=P(this,this.M);break;case 3:c=P(this,this.H);break;case 4:c=P(this,zj.call(this,0));break;case 5:c=P(this,T(this));break;case 6:c=P(this,this.K);break;case 7:c=P(this,this.J);break;case 64:c=P(this,this.G+this.T());break;case 65:c=P(this,this.I+this.T());break;case 66:c=P(this,this.M+this.T());break;case 67:c=P(this,this.H+this.T());break;case 68:c=P(this,zj.call(this,1)+this.T());
break;case 69:c=Lf(this,this.P+this.T());break;case 70:c=P(this,this.K+this.T());break;case 71:c=P(this,this.J+this.T());break;case 128:c=P(this,this.G+T(this));break;case 129:c=P(this,this.I+T(this));break;case 130:c=P(this,this.M+T(this));break;case 131:c=P(this,this.H+T(this));break;case 132:c=P(this,zj.call(this,2)+T(this));break;case 133:c=Lf(this,this.P+T(this));break;case 134:c=P(this,this.K+T(this));break;case 135:c=P(this,this.J+T(this));break;case 192:c=this.G&255;break;case 193:c=this.I&
255;break;case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.G>>8&255;break;case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=this.H>>8&255;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G&255;break;case 1:b=this.I&255;break;case 2:b=this.M&255;break;case 3:b=this.H&255;break;case 4:b=this.G>>8&255;break;case 5:b=this.I>>8&255;break;case 6:b=this.M>>8&255;break;case 7:b=this.H>>8&255;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=
this.G&-256|a;break;case 1:this.I=this.I&-256|a;break;case 2:this.M=this.M&-256|a;break;case 3:this.H=this.H&-256|a;break;case 4:this.G=this.G&-65281|a<<8;break;case 5:this.I=this.I&-65281|a<<8;break;case 6:this.M=this.M&-65281|a<<8;break;case 7:this.H=this.H&-65281|a<<8}}
function Le(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=P(this,this.G);this.C=this.D;break;case 1:b=P(this,this.I);this.C=this.D;break;case 2:b=P(this,this.M);this.C=this.D;break;case 3:b=P(this,this.H);this.C=this.D;break;case 4:b=P(this,zj.call(this,0));this.C=this.D;break;case 5:b=P(this,T(this));this.C=this.D;break;case 6:b=P(this,this.K);this.C=this.D;break;case 7:b=P(this,this.J);this.C=this.D;break;case 64:b=P(this,this.G+this.T());this.C=this.D;break;case 65:b=P(this,this.I+this.T());
this.C=this.D;break;case 66:b=P(this,this.M+this.T());this.C=this.D;break;case 67:b=P(this,this.H+this.T());this.C=this.D;break;case 68:b=P(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:b=Lf(this,this.P+this.T());this.C=this.D;break;case 70:b=P(this,this.K+this.T());this.C=this.D;break;case 71:b=P(this,this.J+this.T());this.C=this.D;break;case 128:b=P(this,this.G+T(this));this.C=this.D;break;case 129:b=P(this,this.I+T(this));this.C=this.D;break;case 130:b=P(this,this.M+T(this));this.C=
this.D;break;case 131:b=P(this,this.H+T(this));this.C=this.D;break;case 132:b=P(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:b=Lf(this,this.P+T(this));this.C=this.D;break;case 134:b=P(this,this.K+T(this));this.C=this.D;break;case 135:b=P(this,this.J+T(this));this.C=this.D;break;case 192:b=this.G&255;break;case 193:b=this.I&255;break;case 194:b=this.M&255;break;case 195:b=this.H&255;break;case 196:b=this.G>>8&255;break;case 197:b=this.I>>8&255;break;case 198:b=this.M>>8&255;break;case 199:b=
this.H>>8&255;break;default:b=0}switch(this.L>>3&7){case 0:c=this.G&255;break;case 1:c=this.I&255;break;case 2:c=this.M&255;break;case 3:c=this.H&255;break;case 4:c=this.G>>8&255;break;case 5:c=this.I>>8&255;break;case 6:c=this.M>>8&255;break;case 7:c=this.H>>8&255;break;default:c=0}a=a.call(this,b,c);switch(d){case 192:this.G=this.G&-256|a;break;case 193:this.I=this.I&-256|a;break;case 194:this.M=this.M&-256|a;break;case 195:this.H=this.H&-256|a;break;case 196:this.G=this.G&-65281|a<<8;break;case 197:this.I=
this.I&-65281|a<<8;break;case 198:this.M=this.M&-65281|a<<8;break;case 199:this.H=this.H&-65281|a<<8;break;default:Pf(this,a)}}
function Me(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=P(this,this.G);this.C=this.D;break;case 1:c=P(this,this.I);this.C=this.D;break;case 2:c=P(this,this.M);this.C=this.D;break;case 3:c=P(this,this.H);this.C=this.D;break;case 4:c=P(this,zj.call(this,0));this.C=this.D;break;case 5:c=P(this,T(this));this.C=this.D;break;case 6:c=P(this,this.K);this.C=this.D;break;case 7:c=P(this,this.J);this.C=this.D;break;case 64:c=P(this,this.G+this.T());this.C=this.D;break;case 65:c=P(this,this.I+this.T());
this.C=this.D;break;case 66:c=P(this,this.M+this.T());this.C=this.D;break;case 67:c=P(this,this.H+this.T());this.C=this.D;break;case 68:c=P(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:c=Lf(this,this.P+this.T());this.C=this.D;break;case 70:c=P(this,this.K+this.T());this.C=this.D;break;case 71:c=P(this,this.J+this.T());this.C=this.D;break;case 128:c=P(this,this.G+T(this));this.C=this.D;break;case 129:c=P(this,this.I+T(this));this.C=this.D;break;case 130:c=P(this,this.M+T(this));this.C=
this.D;break;case 131:c=P(this,this.H+T(this));this.C=this.D;break;case 132:c=P(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:c=Lf(this,this.P+T(this));this.C=this.D;break;case 134:c=P(this,this.K+T(this));this.C=this.D;break;case 135:c=P(this,this.J+T(this));this.C=this.D;break;case 192:c=this.G&255;break;case 193:c=this.I&255;break;case 194:c=this.M&255;break;case 195:c=this.H&255;break;case 196:c=this.G>>8&255;break;case 197:c=this.I>>8&255;break;case 198:c=this.M>>8&255;break;case 199:c=
this.H>>8&255;break;default:c=0}c=a[this.L>>3&7].call(this,c,b.call(this));switch(d){case 192:this.G=this.G&-256|c;break;case 193:this.I=this.I&-256|c;break;case 194:this.M=this.M&-256|c;break;case 195:this.H=this.H&-256|c;break;case 196:this.G=this.G&-65281|c<<8;break;case 197:this.I=this.I&-65281|c<<8;break;case 198:this.M=this.M&-65281|c<<8;break;case 199:this.H=this.H&-65281|c<<8;break;default:Pf(this,c)}}
function Ne(a){var b,c;switch((this.L=this.xa())&199){case 0:c=R(this,this.G);break;case 1:c=R(this,this.I);break;case 2:c=R(this,this.M);break;case 3:c=R(this,this.H);break;case 4:c=R(this,zj.call(this,0));break;case 5:c=R(this,T(this));break;case 6:c=R(this,this.K);break;case 7:c=R(this,this.J);break;case 64:c=R(this,this.G+this.T());break;case 65:c=R(this,this.I+this.T());break;case 66:c=R(this,this.M+this.T());break;case 67:c=R(this,this.H+this.T());break;case 68:c=R(this,zj.call(this,1)+this.T());
break;case 69:c=Nf(this,this.P+this.T());break;case 70:c=R(this,this.K+this.T());break;case 71:c=R(this,this.J+this.T());break;case 128:c=R(this,this.G+T(this));break;case 129:c=R(this,this.I+T(this));break;case 130:c=R(this,this.M+T(this));break;case 131:c=R(this,this.H+T(this));break;case 132:c=R(this,zj.call(this,2)+T(this));break;case 133:c=Nf(this,this.P+T(this));break;case 134:c=R(this,this.K+T(this));break;case 135:c=R(this,this.J+T(this));break;case 192:c=this.G&65535;break;case 193:c=this.I&
65535;break;case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=I(this)&65535;break;case 197:c=this.P&65535;break;case 198:c=this.K&65535;break;case 199:c=this.J&65535;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G&65535;break;case 1:b=this.I&65535;break;case 2:b=this.M&65535;break;case 3:b=this.H&65535;break;case 4:b=I(this)&65535;break;case 5:b=this.P&65535;break;case 6:b=this.K&65535;break;case 7:b=this.J&65535;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=
this.G&-65536|a;break;case 1:this.I=this.I&-65536|a;break;case 2:this.M=this.M&-65536|a;break;case 3:this.H=this.H&-65536|a;break;case 4:G(this,I(this)&-65536|a);break;case 5:this.P=this.P&-65536|a;break;case 6:this.K=this.K&-65536|a;break;case 7:this.J=this.J&-65536|a}}
function Oe(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=R(this,this.G);this.C=this.D;break;case 1:b=R(this,this.I);this.C=this.D;break;case 2:b=R(this,this.M);this.C=this.D;break;case 3:b=R(this,this.H);this.C=this.D;break;case 4:b=R(this,zj.call(this,0));this.C=this.D;break;case 5:b=R(this,T(this));this.C=this.D;break;case 6:b=R(this,this.K);this.C=this.D;break;case 7:b=R(this,this.J);this.C=this.D;break;case 64:b=R(this,this.G+this.T());this.C=this.D;break;case 65:b=R(this,this.I+this.T());
this.C=this.D;break;case 66:b=R(this,this.M+this.T());this.C=this.D;break;case 67:b=R(this,this.H+this.T());this.C=this.D;break;case 68:b=R(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:b=Nf(this,this.P+this.T());this.C=this.D;break;case 70:b=R(this,this.K+this.T());this.C=this.D;break;case 71:b=R(this,this.J+this.T());this.C=this.D;break;case 128:b=R(this,this.G+T(this));this.C=this.D;break;case 129:b=R(this,this.I+T(this));this.C=this.D;break;case 130:b=R(this,this.M+T(this));this.C=
this.D;break;case 131:b=R(this,this.H+T(this));this.C=this.D;break;case 132:b=R(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:b=Nf(this,this.P+T(this));this.C=this.D;break;case 134:b=R(this,this.K+T(this));this.C=this.D;break;case 135:b=R(this,this.J+T(this));this.C=this.D;break;case 192:b=this.G&65535;break;case 193:b=this.I&65535;break;case 194:b=this.M&65535;break;case 195:b=this.H&65535;break;case 196:b=I(this)&65535;break;case 197:b=this.P&65535;break;case 198:b=this.K&65535;break;
case 199:b=this.J&65535;break;default:b=0}switch(this.L>>3&7){case 0:c=this.G&65535;break;case 1:c=this.I&65535;break;case 2:c=this.M&65535;break;case 3:c=this.H&65535;break;case 4:c=I(this)&65535;break;case 5:c=this.P&65535;break;case 6:c=this.K&65535;break;case 7:c=this.J&65535;break;default:c=0}a=a.call(this,b,c);switch(d){case 192:this.G=this.G&-65536|a;break;case 193:this.I=this.I&-65536|a;break;case 194:this.M=this.M&-65536|a;break;case 195:this.H=this.H&-65536|a;break;case 196:G(this,I(this)&
-65536|a);break;case 197:this.P=this.P&-65536|a;break;case 198:this.K=this.K&-65536|a;break;case 199:this.J=this.J&-65536|a;break;default:Qf(this,a)}}
function Pe(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=R(this,this.G);this.C=this.D;break;case 1:c=R(this,this.I);this.C=this.D;break;case 2:c=R(this,this.M);this.C=this.D;break;case 3:c=R(this,this.H);this.C=this.D;break;case 4:c=R(this,zj.call(this,0));this.C=this.D;break;case 5:c=R(this,T(this));this.C=this.D;break;case 6:c=R(this,this.K);this.C=this.D;break;case 7:c=R(this,this.J);this.C=this.D;break;case 64:c=R(this,this.G+this.T());this.C=this.D;break;case 65:c=R(this,this.I+this.T());
this.C=this.D;break;case 66:c=R(this,this.M+this.T());this.C=this.D;break;case 67:c=R(this,this.H+this.T());this.C=this.D;break;case 68:c=R(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:c=Nf(this,this.P+this.T());this.C=this.D;break;case 70:c=R(this,this.K+this.T());this.C=this.D;break;case 71:c=R(this,this.J+this.T());this.C=this.D;break;case 128:c=R(this,this.G+T(this));this.C=this.D;break;case 129:c=R(this,this.I+T(this));this.C=this.D;break;case 130:c=R(this,this.M+T(this));this.C=
this.D;break;case 131:c=R(this,this.H+T(this));this.C=this.D;break;case 132:c=R(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:c=Nf(this,this.P+T(this));this.C=this.D;break;case 134:c=R(this,this.K+T(this));this.C=this.D;break;case 135:c=R(this,this.J+T(this));this.C=this.D;break;case 192:c=this.G&65535;break;case 193:c=this.I&65535;break;case 194:c=this.M&65535;break;case 195:c=this.H&65535;break;case 196:c=I(this)&65535;break;case 197:c=this.P&65535;break;case 198:c=this.K&65535;break;
case 199:c=this.J&65535;break;default:c=0}c=a[this.L>>3&7].call(this,c,b.call(this));switch(d){case 192:this.G=this.G&-65536|c;break;case 193:this.I=this.I&-65536|c;break;case 194:this.M=this.M&-65536|c;break;case 195:this.H=this.H&-65536|c;break;case 196:G(this,I(this)&-65536|c);break;case 197:this.P=this.P&-65536|c;break;case 198:this.K=this.K&-65536|c;break;case 199:this.J=this.J&-65536|c;break;default:Qf(this,c)}}
function Qe(a){var b,c;switch((this.L=this.xa())&199){case 0:c=S(this,this.G);break;case 1:c=S(this,this.I);break;case 2:c=S(this,this.M);break;case 3:c=S(this,this.H);break;case 4:c=S(this,zj.call(this,0));break;case 5:c=S(this,T(this));break;case 6:c=S(this,this.K);break;case 7:c=S(this,this.J);break;case 64:c=S(this,this.G+this.T());break;case 65:c=S(this,this.I+this.T());break;case 66:c=S(this,this.M+this.T());break;case 67:c=S(this,this.H+this.T());break;case 68:c=S(this,zj.call(this,1)+this.T());
break;case 69:c=Of(this,this.P+this.T());break;case 70:c=S(this,this.K+this.T());break;case 71:c=S(this,this.J+this.T());break;case 128:c=S(this,this.G+T(this));break;case 129:c=S(this,this.I+T(this));break;case 130:c=S(this,this.M+T(this));break;case 131:c=S(this,this.H+T(this));break;case 132:c=S(this,zj.call(this,2)+T(this));break;case 133:c=Of(this,this.P+T(this));break;case 134:c=S(this,this.K+T(this));break;case 135:c=S(this,this.J+T(this));break;case 192:c=this.G;break;case 193:c=this.I;break;
case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=I(this);break;case 197:c=this.P;break;case 198:c=this.K;break;case 199:c=this.J;break;default:c=0}var d=this.L>>3&7;switch(d){case 0:b=this.G;break;case 1:b=this.I;break;case 2:b=this.M;break;case 3:b=this.H;break;case 4:b=I(this);break;case 5:b=this.P;break;case 6:b=this.K;break;case 7:b=this.J;break;default:b=0}a=a.call(this,b,c);switch(d){case 0:this.G=a;break;case 1:this.I=a;break;case 2:this.M=a;break;case 3:this.H=a;break;case 4:G(this,
a);break;case 5:this.P=a;break;case 6:this.K=a;break;case 7:this.J=a}}
function Re(a){var b,c,d=(this.L=this.xa())&199;switch(d){case 0:b=S(this,this.G);this.C=this.D;break;case 1:b=S(this,this.I);this.C=this.D;break;case 2:b=S(this,this.M);this.C=this.D;break;case 3:b=S(this,this.H);this.C=this.D;break;case 4:b=S(this,zj.call(this,0));this.C=this.D;break;case 5:b=S(this,T(this));this.C=this.D;break;case 6:b=S(this,this.K);this.C=this.D;break;case 7:b=S(this,this.J);this.C=this.D;break;case 64:b=S(this,this.G+this.T());this.C=this.D;break;case 65:b=S(this,this.I+this.T());
this.C=this.D;break;case 66:b=S(this,this.M+this.T());this.C=this.D;break;case 67:b=S(this,this.H+this.T());this.C=this.D;break;case 68:b=S(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:b=Of(this,this.P+this.T());this.C=this.D;break;case 70:b=S(this,this.K+this.T());this.C=this.D;break;case 71:b=S(this,this.J+this.T());this.C=this.D;break;case 128:b=S(this,this.G+T(this));this.C=this.D;break;case 129:b=S(this,this.I+T(this));this.C=this.D;break;case 130:b=S(this,this.M+T(this));this.C=
this.D;break;case 131:b=S(this,this.H+T(this));this.C=this.D;break;case 132:b=S(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:b=Of(this,this.P+T(this));this.C=this.D;break;case 134:b=S(this,this.K+T(this));this.C=this.D;break;case 135:b=S(this,this.J+T(this));this.C=this.D;break;case 192:b=this.G;break;case 193:b=this.I;break;case 194:b=this.M;break;case 195:b=this.H;break;case 196:b=I(this);break;case 197:b=this.P;break;case 198:b=this.K;break;case 199:b=this.J;break;default:b=0}switch(this.L>>
3&7){case 0:c=this.G;break;case 1:c=this.I;break;case 2:c=this.M;break;case 3:c=this.H;break;case 4:c=I(this);break;case 5:c=this.P;break;case 6:c=this.K;break;case 7:c=this.J;break;default:c=0}a=a.call(this,b,c);switch(d){case 192:this.G=a;break;case 193:this.I=a;break;case 194:this.M=a;break;case 195:this.H=a;break;case 196:G(this,a);break;case 197:this.P=a;break;case 198:this.K=a;break;case 199:this.J=a;break;default:Rf(this,a)}}
function Se(a,b){var c,d=(this.L=this.xa())&199;switch(d){case 0:c=S(this,this.G);this.C=this.D;break;case 1:c=S(this,this.I);this.C=this.D;break;case 2:c=S(this,this.M);this.C=this.D;break;case 3:c=S(this,this.H);this.C=this.D;break;case 4:c=S(this,zj.call(this,0));this.C=this.D;break;case 5:c=S(this,T(this));this.C=this.D;break;case 6:c=S(this,this.K);this.C=this.D;break;case 7:c=S(this,this.J);this.C=this.D;break;case 64:c=S(this,this.G+this.T());this.C=this.D;break;case 65:c=S(this,this.I+this.T());
this.C=this.D;break;case 66:c=S(this,this.M+this.T());this.C=this.D;break;case 67:c=S(this,this.H+this.T());this.C=this.D;break;case 68:c=S(this,zj.call(this,1)+this.T());this.C=this.D;break;case 69:c=Of(this,this.P+this.T());this.C=this.D;break;case 70:c=S(this,this.K+this.T());this.C=this.D;break;case 71:c=S(this,this.J+this.T());this.C=this.D;break;case 128:c=S(this,this.G+T(this));this.C=this.D;break;case 129:c=S(this,this.I+T(this));this.C=this.D;break;case 130:c=S(this,this.M+T(this));this.C=
this.D;break;case 131:c=S(this,this.H+T(this));this.C=this.D;break;case 132:c=S(this,zj.call(this,2)+T(this));this.C=this.D;break;case 133:c=Of(this,this.P+T(this));this.C=this.D;break;case 134:c=S(this,this.K+T(this));this.C=this.D;break;case 135:c=S(this,this.J+T(this));this.C=this.D;break;case 192:c=this.G;break;case 193:c=this.I;break;case 194:c=this.M;break;case 195:c=this.H;break;case 196:c=I(this);break;case 197:c=this.P;break;case 198:c=this.K;break;case 199:c=this.J;break;default:c=0}c=a[this.L>>
3&7].call(this,c,b.call(this));switch(d){case 192:this.G=c;break;case 193:this.I=c;break;case 194:this.M=c;break;case 195:this.H=c;break;case 196:G(this,c);break;case 197:this.P=c;break;case 198:this.K=c;break;case 199:this.J=c;break;default:Rf(this,c)}}
function zj(a){var b=this.xa(),c=b>>6,d,e;switch(b>>3&7){case 0:d=this.G;break;case 1:d=this.I;break;case 2:d=this.M;break;case 3:d=this.H;break;case 4:d=0;break;case 5:d=this.P;break;case 6:d=this.K;break;case 7:d=this.J}switch(b&7){case 0:e=this.G;break;case 1:e=this.I;break;case 2:e=this.M;break;case 3:e=this.H;break;case 4:e=I(this);this.ka=this.Ma;break;case 5:a?(e=this.P,this.ka=this.Ma):e=T(this);break;case 6:e=this.K;break;case 7:e=this.J}return(d<<c)+e|0}
function fe(){this.cc[this.xa()].call(this)}function ie(){J(this,I(this)&this.R);this.A-=this.B.Rc}function Hd(){this.W=this.ga;var a=I(this)&this.R;J(this,this.G&this.R);J(this,this.I&this.R);J(this,this.M&this.R);J(this,this.H&this.R);J(this,a);J(this,this.P&this.R);J(this,this.K&this.R);J(this,this.J&this.R);this.A-=this.B.Wj;this.W=-1}
function Id(){this.W=this.ga;this.J=this.J&~this.R|E(this);this.K=this.K&~this.R|E(this);this.P=this.P&~this.R|E(this);G(this,I(this)+this.Z);this.H=this.H&~this.R|E(this);this.M=this.M&~this.R|E(this);this.I=this.I&~this.R|E(this);this.G=this.G&~this.R|E(this);this.A-=this.B.Uj;this.W=-1}function Jd(){this.V.call(this,xh)}function je(){!(this.ab&1)||this.aa&131072?C.call(this,6):this.fa.call(this,wh)}function ke(){this.S|=20;this.ka=this.Ma=this.Nb;this.A-=this.B.nd}
function le(){this.S|=20;this.ka=this.Ma=this.Ob;this.A-=this.B.nd}function me(){this.S|=1024;this.Ia&1024||(this.Z^=6,this.R^=-65536,Te(this));this.A-=this.B.nd}function ne(){this.S|=2048;this.Ia&2048||(this.Mc^=6,this.Ba^=-65536,ye(this));this.A-=this.B.nd}function Kd(){J(this,this.Na());this.A-=this.B.Rc}function Ld(){this.V.call(this,Ph)}function Md(){J(this,this.T());this.A-=this.B.Rc}function Nd(){this.V.call(this,Nh)}
function Od(){var a=1,b=0,c=this.Ba,d=5;this.Ia&192&&(a=this.I&c,b=1,this.Ia&256&&(d=4));if(a--){var e=this.M&65535;If(this,e,1,!0)&&(e=ic(this.ea,e,1,this.Da-b-1),this.sc(this.Va.qc(this.J&c,1),e),this.J=this.J&~c|this.J+(this.aa&1024?-1:1)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&(of(this),this.S|=256))}}
function Pd(){var a=1,b=0,c=this.Ba,d=5;this.Ia&192&&(a=this.I&c,b=1,this.Ia&256&&(d=4));if(a--){var e=this.M&65535;If(this,e,this.Z,!0)&&(e=ic(this.ea,e,this.Z,this.Da-b-1),this.tc(this.Va.qc(this.J&c,this.Z),e),this.J=this.J&~c|this.J+(this.aa&1024?-this.Z:this.Z)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&(of(this),this.S|=256))}}
function Qd(){var a=1,b=0,c=this.Ba,d=5;this.Ia&192&&(a=this.I&c,b=1,this.Ia&256&&(d=4));if(a--){var e=this.M&65535;if(If(this,e,1,!1)){var f=this.Ya(this.vb.pc(this.K&c,1));mc(this.ea,e,1,f,this.Da-b-1);this.K=this.K&~c|this.K+(this.aa&1024?-1:1)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&(of(this),this.S|=256)}}}
function Ud(){var a=1,b=0,c=this.Ba,d=5;this.Ia&192&&(a=this.I&c,b=1,this.Ia&256&&(d=4));if(a--){var e=td(this,this.vb,this.K&c),f=this.M&65535;If(this,f,this.Z,!1)&&(mc(this.ea,f,this.Z,e,this.Da-b-1),this.K=this.K&~c|this.K+(this.aa&1024?-this.Z:this.Z)&c,this.I=this.I&~c|this.I-b&c,this.A-=d,a&&(of(this),this.S|=256))}}function Aj(){var a=this.T();vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}
function Bj(){var a=this.T();vf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Cj(){var a=this.T();qf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Dj(){var a=this.T();qf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Ej(){var a=this.T();tf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Fj(){var a=this.T();tf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}
function Gj(){var a=this.T();qf(this)||tf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Hj(){var a=this.T();qf(this)||tf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Ij(){var a=this.T();uf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Jj(){var a=this.T();uf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Kj(){var a=this.T();rf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}
function Lj(){var a=this.T();rf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Mj(){var a=this.T();!uf(this)!=!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Nj(){var a=this.T();!uf(this)==!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}function Oj(){var a=this.T();tf(this)||!uf(this)!=!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a}
function Pj(){var a=this.T();tf(this)||!uf(this)!=!vf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)}function Qj(){this.Qb.call(this,Rj,this.xa);this.A-=-1===this.C?1:this.B.Cg}function Sj(){this.S|=1;this.bb.call(this,ai)}function Tj(){this.S|=1;this.fa.call(this,ai)}function Uj(){this.Ra.call(this,ai)}function Vj(){this.V.call(this,ai)}function Vd(){this.Qb.call(this,Wj,sj)}function Wd(){this.za.call(this,2==this.Z?Xj:Yj,sj)}
function Zj(){var a=Tf(this),b=E(this);O(this,b);a&&G(this,I(this)+a);this.A-=this.B.ak}function ak(){var a=E(this);O(this,a);this.A-=this.B.Yj}function Xd(){this.W=this.ga;var a=Tf(this),b=this.xa()&31;this.A-=11;J(this,this.P);var c=I(this)&this.R;if(0<b){for(this.A-=(b<<2)+(1<b?1:0);--b;)this.P=this.P&~this.R|this.P-this.Z&this.R,J(this,td(this,this.ta,this.P&this.R));J(this,c)}this.P=this.P&~this.R|c;G(this,I(this)&~this.ta.Ba|I(this)-a&this.ta.Ba);this.W=-1}
function Yd(){this.W=this.ga;G(this,I(this)&~this.ta.Ba|this.P&this.ta.Ba);this.P=this.P&~this.R|E(this)&this.R;this.A-=5;this.W=-1}function bk(){xj.call(this,Tf(this));this.A-=this.B.$j}function ck(){xj.call(this,0);this.A-=this.B.Zj}function dk(a){this.Rg=a;this.V.call(this,Kh)}function ek(){this.S|=36;this.A-=this.B.nd}function de(){he.call(this)}function Gd(){C.call(this,6)}
function he(){O(this,this.oe-this.va.Aa);ub(this,"Undefined opcode "+t(this.Ya(this.Da))+" at "+("0x"+r(this.Da)));this.Wb()}
var Cd=[function(){this.bb.call(this,sh)},function(){this.fa.call(this,th)},function(){this.Ra.call(this,sh)},function(){this.V.call(this,th)},function(){this.G=this.G&-256|sh.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|th.call(this,this.G&this.R,this.Na());this.A--},function(){ud(this,this.Va.ba,this.Z,2);this.A-=this.B.Ge},function(){this.W=this.ga;wd(this,E(this));this.A-=this.B.zc;this.W=-1},function(){this.bb.call(this,fi)},function(){this.fa.call(this,xi)},function(){this.Ra.call(this,
fi)},function(){this.V.call(this,xi)},function(){this.G=this.G&-256|fi.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|xi.call(this,this.G&this.R,this.Na());this.A--},function(){ud(this,this.va.ba,this.Z,2);this.A-=this.B.Ge},function(){kf(this,E(this));this.A-=this.B.zc},function(){this.bb.call(this,qh)},function(){this.fa.call(this,rh)},function(){this.Ra.call(this,qh)},function(){this.V.call(this,rh)},function(){this.G=this.G&-256|qh.call(this,this.G&255,this.xa());this.A--},
function(){this.G=this.G&~this.R|rh.call(this,this.G&this.R,this.Na());this.A--},function(){ud(this,this.ta.ba,this.Z,2);this.A-=this.B.Ge},function(){this.W=this.ga;kd(this,E(this));this.A-=this.B.zc;this.W=-1},function(){this.bb.call(this,yi)},function(){this.fa.call(this,zi)},function(){this.Ra.call(this,yi)},function(){this.V.call(this,zi)},function(){this.G=this.G&-256|yi.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|zi.call(this,this.G&this.R,this.Na());this.A--},
function(){ud(this,this.vb.ba,this.Z,2);this.A-=this.B.Ge},function(){this.W=this.ga;vd(this,E(this));this.A-=this.B.zc;this.W=-1},function(){this.bb.call(this,uh)},function(){this.fa.call(this,vh)},function(){this.Ra.call(this,uh)},function(){this.V.call(this,vh)},function(){this.G=this.G&-256|uh.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|vh.call(this,this.G&this.R,this.Na());this.A--},function(){this.S|=20;this.ka=this.Ma=this.Va;this.A-=this.B.nd},function(){var a=
this.G&255,b=sf(this),c=qf(this);if(9<(a&15)||b)a+=6,b=16;if(159<a||c)a+=96,c=1;a&=255;this.G=this.G&-256|a;wf(this,a,128);c?xf(this):yf(this);b?Ff(this):Df(this);this.A-=this.B.Fe},function(){this.bb.call(this,aj)},function(){this.fa.call(this,bj)},function(){this.Ra.call(this,aj)},function(){this.V.call(this,bj)},function(){this.G=this.G&-256|aj.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|bj.call(this,this.G&this.R,this.Na());this.A--},function(){this.S|=20;this.ka=
this.Ma=this.va;this.A-=this.B.nd},function(){var a=this.G&255,b=sf(this),c=qf(this);if(9<(a&15)||b)a-=6,b=16;if(159<a||c)a-=96,c=1;a&=255;this.G=this.G&-256|a;wf(this,a,128);c?xf(this):yf(this);b?Ff(this):Df(this);this.A-=this.B.Fe},function(){this.bb.call(this,ij)},function(){this.fa.call(this,jj)},function(){this.Ra.call(this,ij)},function(){this.V.call(this,jj)},function(){this.G=this.G&-256|ij.call(this,this.G&255,this.xa());this.A--},function(){this.G=this.G&~this.R|jj.call(this,this.G&this.R,
this.Na());this.A--},function(){this.S|=20;this.ka=this.Ma=this.ta;this.A-=this.B.nd},function(){var a,b,c=this.G&255,d=this.G>>8&255;9<(c&15)||sf(this)?(c+=6,80286<=this.ia&&255<c&&d++,d++,a=b=1):a=b=0;this.G=this.G&-65536|(d<<8|c)&65295;a?xf(this):yf(this);b?Ff(this):Df(this);this.A-=this.B.Fe},function(){this.bb.call(this,Ih)},function(){this.fa.call(this,Jh)},function(){this.Ra.call(this,Ih)},function(){this.V.call(this,Jh)},function(){Ih.call(this,this.G&255,this.xa());this.A--},function(){Jh.call(this,
this.G&this.R,this.Na());this.A--},function(){this.S|=20;this.ka=this.Ma=this.vb;this.A-=this.B.nd},function(){var a,b,c=this.G&255,d=this.G>>8&255;9<(c&15)||sf(this)?(c=c-6&15,d=d-1&255,a=b=1):a=b=0;this.G=this.G&-65536|d<<8|c;a?xf(this):yf(this);b?Ff(this):Df(this);this.A-=this.B.Fe},function(){this.G=nj.call(this,this.G)},function(){this.I=nj.call(this,this.I)},function(){this.M=nj.call(this,this.M)},function(){this.H=nj.call(this,this.H)},function(){G(this,nj.call(this,I(this)))},function(){this.P=
nj.call(this,this.P)},function(){this.K=nj.call(this,this.K)},function(){this.J=nj.call(this,this.J)},function(){this.G=lj.call(this,this.G)},function(){this.I=lj.call(this,this.I)},function(){this.M=lj.call(this,this.M)},function(){this.H=lj.call(this,this.H)},function(){G(this,lj.call(this,I(this)))},function(){this.P=lj.call(this,this.P)},function(){this.K=lj.call(this,this.K)},function(){this.J=lj.call(this,this.J)},function(){J(this,this.G&this.R);this.A-=this.B.Rc},function(){J(this,this.I&
this.R);this.A-=this.B.Rc},function(){J(this,this.M&this.R);this.A-=this.B.Rc},function(){J(this,this.H&this.R);this.A-=this.B.Rc},function(){J(this,I(this)-2&65535);this.A-=this.B.Rc},function(){J(this,this.P&this.R);this.A-=this.B.Rc},function(){J(this,this.K&this.R);this.A-=this.B.Rc},function(){J(this,this.J&this.R);this.A-=this.B.Rc},function(){this.G=this.G&~this.R|E(this);this.A-=this.B.zc},function(){this.I=this.I&~this.R|E(this);this.A-=this.B.zc},function(){this.M=this.M&~this.R|E(this);
this.A-=this.B.zc},function(){this.H=this.H&~this.R|E(this);this.A-=this.B.zc},function(){G(this,I(this)&~this.R|E(this));this.A-=this.B.zc},function(){this.P=this.P&~this.R|E(this);this.A-=this.B.zc},function(){this.K=this.K&~this.R|E(this);this.A-=this.B.zc},function(){this.J=this.J&~this.R|E(this);this.A-=this.B.zc},Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj,Lj,Mj,Nj,Oj,Pj,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj,Lj,Mj,Nj,Oj,Pj,Qj,function(){this.za.call(this,fk,this.Na);this.A-=-1===this.C?1:this.B.Cg},Qj,function(){this.za.call(this,
fk,this.T);this.A-=-1===this.C?1:this.B.Cg},function(){this.bb.call(this,cj)},function(){this.fa.call(this,dj)},function(){this.Ra.call(this,gj)},function(){this.V.call(this,hj)},Sj,Tj,Uj,Vj,function(){this.S|=1;this.fa.call(this,ei)},function(){this.S|=1;this.ka=this.Ma=this.qf;this.V.call(this,Vh)},function(){var a;this.V.call(this,di);switch(this.L>>3&7){case 0:a=this.G;this.G=this.Y;wd(this,a);break;case 1:a=this.I;this.I=this.Y;kf(this,a);break;case 2:a=this.M;this.M=this.Y;kd(this,a);break;
case 3:a=this.H;this.H=this.Y;vd(this,a);break;case 4:a=I(this);G(this,this.Y);80386<=this.ia?this.Nb.load(a):wd(this,a);break;case 5:a=this.P;this.P=this.Y;80386<=this.ia?this.Ob.load(a):kf(this,a);break;case 6:a=this.K;this.K=this.Y;kd(this,a);break;case 7:a=this.J,this.J=this.Y,vd(this,a)}},function(){this.S|=1;this.W=this.ga;this.Y=E(this);this.za.call(this,gk,uj);this.W=-1},function(){this.A-=3},function(){var a=this.G;this.G=this.G&~this.R|this.I&this.R;this.I=this.I&~this.R|a&this.R;this.A-=
3},function(){var a=this.G;this.G=this.G&~this.R|this.M&this.R;this.M=this.M&~this.R|a&this.R;this.A-=3},function(){var a=this.G;this.G=this.G&~this.R|this.H&this.R;this.H=this.H&~this.R|a&this.R;this.A-=3},function(){var a=this.G,b=I(this);this.G=this.G&~this.R|b&this.R;G(this,b&~this.R|a&this.R);this.A-=3},function(){var a=this.G;this.G=this.G&~this.R|this.P&this.R;this.P=this.P&~this.R|a&this.R;this.A-=3},function(){var a=this.G;this.G=this.G&~this.R|this.K&this.R;this.K=this.K&~this.R|a&this.R;
this.A-=3},function(){var a=this.G;this.G=this.G&~this.R|this.J&this.R;this.J=this.J&~this.R|a&this.R;this.A-=3},function(){this.G=2==this.Z?this.G&-65536|this.G<<24>>24&65535:this.G<<16>>16;this.A-=2},function(){this.M=2==this.Z?this.M&-65536|(this.G&32768?65535:0):this.G&-2147483648?-1:0;this.A-=this.B.hj},function(){vj.call(this,this.Na(),Tf(this));this.A-=this.B.kj},function(){this.A-=3},function(){var a=xd(this);a&131072&&3>this.Wa?C.call(this,13,0):(J(this,a&-196609),this.A-=this.B.Rc)},function(){if(this.aa&
131072&&3>this.Wa)C.call(this,13,0);else{var a=E(this),a=a&65535|this.aa&-65536;yd(this,a);this.A-=this.B.zc}},function(){var a=this.G>>8&255;a&1?xf(this):yf(this);a&4?(this.resultType&=-3,this.aa|=4):(this.resultType&=-3,this.aa&=-5);a&16?Ff(this):Df(this);a&64?Gf(this):Ef(this);a&128?(this.resultType&=-17,this.aa|=128):(this.resultType&=-17,this.aa&=-129);this.A-=this.B.ic},function(){this.G=this.G&-65281|(xd(this)&213)<<8;this.A-=this.B.ic},function(){var a=this.G&-256,b;b=T(this);b=this.Ya(this.ka.pc(b,
1));this.G=a|b;this.A-=this.B.Ph},function(){this.G=this.G&~this.R|td(this,this.ka,T(this));this.A-=this.B.Ph},function(){var a=T(this),b=this.G;this.sc(this.ka.qc(a,1),b);this.A-=this.B.Qh},function(){var a=T(this),b=this.G;this.tc(this.ka.qc(a,this.Z),b);this.A-=this.B.Qh},function(){var a=1,b=0,c=this.Ba,d=this.B.Rh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Th,this.Ia&256||(this.A-=this.B.Sh));if(a--){var e=this.Ya(this.ka.pc(this.K&c,1));this.sc(this.Va.qc(this.J&c,1),e);e=this.aa&1024?-1:1;this.K=
this.K&~c|this.K+e&c;this.J=this.J&~c|this.J+e&c;this.A-=d;this.I=this.I&~c|this.I-b&c;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.Rh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Th,this.Ia&256||(this.A-=this.B.Sh));if(a--){var e=td(this,this.ka,this.K&c);this.tc(this.Va.qc(this.J&c,this.Z),e);e=this.aa&1024?-this.Z:this.Z;this.K=this.K&~c|this.K+e&c;this.J=this.J&~c|this.J+e&c;this.A-=d;this.I=this.I&~c|this.I-b&c;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=
this.B.Ch;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Eh,this.Ia&256||(this.A-=this.B.Dh));if(a--){var e=Kf(this,this.ka,this.K),f=Kf(this,this.Va,this.J);this.C=this.D;Ih.call(this,e,f);e=this.aa&1024?-1:1;this.K=this.K&~c|this.K+e&c;this.J=this.J&~c|this.J+e&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.Vb;a&&tf(this)==(this.Ia&64)&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.Ch;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Eh,this.Ia&256||(this.A-=this.B.Dh));if(a--){var e=Mf(this,this.ka,
this.K&c),f=Mf(this,this.Va,this.J&c);this.C=this.D;Jh.call(this,e,f);e=this.aa&1024?-this.Z:this.Z;this.K=this.K&~c|this.K+e&c;this.J=this.J&~c|this.J+e&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.Vb;a&&tf(this)==(this.Ia&64)&&(of(this),this.S|=256)}},function(){wf(this,this.G&this.xa(),128);this.A-=this.B.Fe},function(){wf(this,this.G&this.Na(),this.Ja);this.A-=this.B.Fe},function(){var a=1,b=0,c=this.Ba,d=this.B.bi;this.Ia&192&&(a=this.I&c,b=1,d=this.B.di,this.Ia&256||(this.A-=this.B.ci));if(a--){var e=
this.G;this.sc(this.Va.qc(this.J&c,1),e);this.I=this.I&~c|this.I-b&c;80546<=this.Uc&&80564>=this.Uc&&!(this.Ia&2048)!=(103!=this.Ya(this.Da))&&(c^=-65536);this.J=this.J&~c|this.J+(this.aa&1024?-1:1)&c;this.A-=d;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.bi;this.Ia&192&&(a=this.I&c,b=1,d=this.B.di,this.Ia&256||(this.A-=this.B.ci));if(a--){var e=this.G;this.tc(this.Va.qc(this.J&c,this.Z),e);this.J=this.J&~c|this.J+(this.aa&1024?-this.Z:this.Z)&c;this.I=this.I&~c|this.I-b&
c;this.A-=d;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.Jh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Lh,this.Ia&256||(this.A-=this.B.Kh));if(a--){var e=this.Ya(this.ka.pc(this.K&c,1));this.G=this.G&-256|e;this.K=this.K&~c|this.K+(this.aa&1024?-1:1)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.Jh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Lh,this.Ia&256||(this.A-=this.B.Kh));if(a--){var e=td(this,this.ka,this.K&c);this.G=
this.G&~this.R|e;this.K=this.K&~c|this.K+(this.aa&1024?-this.Z:this.Z)&c;this.I=this.I&~c|this.I-b&c;this.A-=d;a&&(of(this),this.S|=256)}},function(){var a=1,b=0,c=this.Ba,d=this.B.Wh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Yh,this.Ia&256||(this.A-=this.B.Xh));if(a--){var e=this.G&255,f=Kf(this,this.Va,this.J);this.C=this.D;Ih.call(this,e,f);this.J=this.J&~c|this.J+(this.aa&1024?-1:1)&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.Vb;a&&tf(this)==(this.Ia&64)&&(of(this),this.S|=256)}},function(){var a=
1,b=0,c=this.Ba,d=this.B.Wh;this.Ia&192&&(a=this.I&c,b=1,d=this.B.Yh,this.Ia&256||(this.A-=this.B.Xh));if(a--){var e=this.G&this.R,f=Mf(this,this.Va,this.J&c);this.C=this.D;Jh.call(this,e,f);this.J=this.J&~c|this.J+(this.aa&1024?-this.Z:this.Z)&c;this.I=this.I&~c|this.I-b&c;this.A-=d-this.B.Vb;a&&tf(this)==(this.Ia&64)&&(of(this),this.S|=256)}},function(){this.G=this.G&-256|this.xa();this.A-=this.B.ic},function(){this.I=this.I&-256|this.xa();this.A-=this.B.ic},function(){this.M=this.M&-256|this.xa();
this.A-=this.B.ic},function(){this.H=this.H&-256|this.xa();this.A-=this.B.ic},function(){this.G=this.G&-65281|this.xa()<<8;this.A-=this.B.ic},function(){this.I=this.I&-65281|this.xa()<<8;this.A-=this.B.ic},function(){this.M=this.M&-65281|this.xa()<<8;this.A-=this.B.ic},function(){this.H=this.H&-65281|this.xa()<<8;this.A-=this.B.ic},function(){this.G=this.G&~this.R|this.Na();this.A-=this.B.ic},function(){this.I=this.I&~this.R|this.Na();this.A-=this.B.ic},function(){this.M=this.M&~this.R|this.Na();
this.A-=this.B.ic},function(){this.H=this.H&~this.R|this.Na();this.A-=this.B.ic},function(){G(this,I(this)&~this.R|this.Na());this.A-=this.B.ic},function(){this.P=this.P&~this.R|this.Na();this.A-=this.B.ic},function(){this.K=this.K&~this.R|this.Na();this.A-=this.B.ic},function(){this.J=this.J&~this.R|this.Na();this.A-=this.B.ic},Zj,ak,Zj,ak,function(){this.V.call(this,Wh)},function(){this.V.call(this,Uh)},function(){this.S|=1;this.Qb.call(this,hk,this.xa)},function(){this.S|=1;this.za.call(this,hk,
this.Na)},bk,ck,bk,ck,function(){if(this.aa&131072&&3>this.Wa)C.call(this,13,0);else{var a=this.B.Bj;this.rb=-1;wj.call(this,3,null,a)}},function(){var a=this.xa();if(this.aa&131072&&3>this.Wa)C.call(this,13,0);else{var b;a:{b=this.ke[a];if(void 0!==b)for(var c=0;c<b.length;c++)if(!b[c](this.Da)){b=!1;break a}this.la.Pi&&z(this,16)&&ik(this.ha,a,this.Da);b=!0}b?(this.rb=-1,wj.call(this,a,null,0)):this.A--}},function(){if(vf(this))if(this.aa&131072&&3>this.Wa)C.call(this,13,0);else{var a=this.B.Cj;
this.rb=-1;wj.call(this,4,null,a)}else this.A-=this.B.Dj},function(){if(this.aa&131072&&3>this.Wa)C.call(this,13,0);else{this.W=this.ga;this.A-=this.B.zj;if(this.ab&1&&this.aa&16384){var a=this.oa(this.Qa.Aa+0);ld(this.va,a,!1)}else{var a=this.pa,b=E(this),c=E(this),d=E(this);if(this.aa&131072)d=d&131071|this.aa&-131072;else if(d&131072){var e=E(this),f=E(this),g=E(this),h=E(this),k=E(this),l=E(this);md(this,!0,!0);kd(this,f);G(this,e);wd(this,g);vd(this,h);this.Nb.load(k);this.Ob.load(l)}null!=zd(this,
b,c,!1)&&(yd(this,d,a),this.Ce&&ef(this,this.Da))}this.W=-1}},function(){this.Qb.call(this,Wj,qj)},function(){this.za.call(this,2==this.Z?Xj:Yj,qj)},function(){this.Qb.call(this,Wj,rj)},function(){this.za.call(this,2==this.Z?Xj:Yj,rj)},function(){var a=this.xa();if(a){var b=this.G&255;this.G=this.G&-65536|b/a<<8|b%a;wf(this,this.G,128);this.A-=this.B.ej}else yj.call(this)},function(){var a=this.G&255,b=(this.G>>8&255)*this.xa()|0,c=a+b|0;this.G=this.G&-65536|c&255;pf(this,a,b,c,191);this.A-=this.B.dj},
function(){this.G=this.G&-256|(qf(this)?255:0);this.A-=2},function(){this.G=this.G&-256|Kf(this,this.ka,this.H+(this.G&255));this.A-=this.B.ck},function(){dk.call(this,216)},function(){dk.call(this,217)},function(){dk.call(this,218)},function(){dk.call(this,219)},function(){dk.call(this,220)},function(){dk.call(this,221)},function(){dk.call(this,222)},function(){dk.call(this,223)},function(){var a=this.T(),b=this.I-1&this.Ba;this.I=this.I&~this.Ba|b;b&&!tf(this)?(O(this,K(this)+a),this.A-=this.B.Kj):
this.A-=this.B.Mh},function(){var a=this.T(),b=this.I-1&this.Ba;this.I=this.I&~this.Ba|b;b&&tf(this)?(O(this,K(this)+a),this.A-=this.B.Nh):this.A-=this.B.Oh},function(){var a=this.T(),b=this.I-1&this.Ba;this.I=this.I&~this.Ba|b;b?(O(this,K(this)+a),this.A-=this.B.Jj):this.A-=this.B.Mh},function(){var a=this.T();this.I&this.Ba?this.A-=this.B.Oh:(O(this,K(this)+a),this.A-=this.B.Nh)},function(){var a=this.xa();If(this,a,1,!0)&&(this.G=this.G&-256|ic(this.ea,a,1,this.Da-2)&255,this.A-=this.B.Hh)},function(){var a=
this.xa();If(this,a,this.Z,!0)&&(this.G=this.G&~this.R|ic(this.ea,a,this.Z,this.Da-2)&this.R,this.A-=this.B.Hh)},function(){var a=this.xa();If(this,a,1,!1)&&(mc(this.ea,a,1,this.G&255,this.Da-2),this.A-=this.B.Vh)},function(){var a=this.xa();If(this,a,this.Z,!1)&&(mc(this.ea,a,this.Z,this.G&this.R,this.Da-2),this.A-=this.B.Vh)},function(){var a=this.Na(),b=K(this),a=b+a;J(this,b);O(this,a);this.A-=this.B.ij},function(){var a=this.Na();O(this,K(this)+a);this.A-=this.B.Ih},function(){zd(this,this.Na(),
Tf(this));this.A-=this.B.Fj},function(){var a=this.T();O(this,K(this)+a);this.A-=this.B.Ih},function(){var a=this.M&65535;If(this,a,1,!0)&&(this.G=this.G&-256|ic(this.ea,a,1,this.Da-1)&255,this.A-=this.B.Gh)},function(){var a=this.M&65535;If(this,a,this.Z,!0)&&(this.G=this.G&~this.R|ic(this.ea,a,this.Z,this.Da-1)&this.R,this.A-=this.B.Gh)},function(){var a=this.M&65535;If(this,a,1,!1)&&(mc(this.ea,a,1,this.G&255,this.Da-1),this.A-=this.B.Uh)},function(){var a=this.M&65535;If(this,a,2,!1)&&(mc(this.ea,
a,this.Z,this.G&this.R,this.Da-1),this.A-=this.B.Uh)},ek,ek,function(){this.S|=132;this.A-=this.B.nd},function(){this.S|=68;this.A-=this.B.nd},function(){this.aa&131072?C.call(this,13,0):(this.ua|=4,this.A-=2,this.ha&&z(this,-2147483648)?(of(this),this.ha.Wb()):this.aa&512||(this.ha&&of(this),this.Wb()))},function(){qf(this)?yf(this):xf(this);this.A-=2},function(){this.cb=!1;this.Qb.call(this,jk,tj);this.cb&&(this.G=this.G&~this.R|this.ja&this.R)},function(){this.cb=!1;this.za.call(this,kk,tj);this.cb&&
(this.G=this.G&~this.R|this.ja&this.R,this.M=this.M&~this.R|this.wa&this.R)},function(){yf(this);this.A-=2},function(){xf(this);this.A-=2},function(){this.pa>this.Wa?C.call(this,13,0):(this.aa&=-513,this.A-=this.B.gj)},function(){this.pa>this.Wa?C.call(this,13,0):(this.aa|=512,this.S|=4,this.A-=2)},function(){this.aa&=-1025;this.A-=2},function(){this.aa|=1024;this.A-=2},function(){this.Qb.call(this,Dd,tj)},function(){this.za.call(this,Ed,tj)}],Rj=[sh,fi,qh,yi,uh,aj,ij,Ih],fk=[th,xi,rh,zi,vh,bj,jj,
Jh],gk=[function(a,b){this.A-=-1===this.C?this.B.zc:this.B.Vj;return b},Lh,Lh,Lh,Lh,Lh,Lh,Lh],hk=[function(a,b){this.A-=-1===this.C?this.B.Nj:this.B.Lj;return b},Mh,Mh,Mh,Mh,Mh,Mh,Mh],Wj=[function(a,b){var c=a,d=b&this.sa;if(d){var e;(d&=7)?(e=a<<d-1,c=(a<<d|a>>8-d)&255):e=a<<7;Bf(this,c,e,128)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e;(d&=7)?(e=a<<8-d,c=(a>>>d|e)&255):e=a;Bf(this,c,e,128)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=Cf(this);(d%=9)?(c=(a<<d|e<<d-1|a>>9-d)&
255,e=a<<d-1):e<<=7;Bf(this,c,e,128)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=Cf(this);(d%=9)?(c=(a>>d|e<<8-d|a<<9-d)&255,e=a<<8-d):e<<=7;Bf(this,c,e,128)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=0;8<d?c=0:(e=a<<d-1,c=e<<1&255);wf(this,c,128,e&128,(c^e)&128)}return c},function(a,b){var c=b&this.sa;c&&(c=8<c?0:a>>>c-1,a=c>>>1&255,wf(this,a,128,c&1,a&128));return a},Mh,function(a,b){var c=b&this.sa;c&&(9<c&&(c=9),c=a<<24>>24>>c-1,a=c>>1&255,wf(this,a,128,c&1));return a}],
Xj=[function(a,b){var c=a,d=b&this.sa;if(d){var e;(d&=15)?(e=a<<d-1,c=(a<<d|a>>16-d)&65535):e=a<<15;Bf(this,c,e,32768)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e;(d&=15)?(e=a<<16-d,c=(a>>>d|e)&65535):e=a;Bf(this,c,e,32768)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=Cf(this);(d%=17)?(c=(a<<d|e<<d-1|a>>17-d)&65535,e=a<<d-1):e<<=15;Bf(this,c,e,32768)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=Cf(this);(d%=17)?(c=(a>>d|e<<16-d|a<<17-d)&65535,e=a<<16-d):e<<=15;Bf(this,
c,e,32768)}return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=0;16<d?c=0:(e=a<<d-1,c=e<<1&65535);wf(this,c,32768,e&32768,(c^e)&32768)}return c},function(a,b){var c=b&this.sa;c&&(c=16<c?0:a>>>c-1,a=c>>>1&65535,wf(this,a,32768,c&1,a&32768));return a},Mh,function(a,b){var c=b&this.sa;c&&(17<c&&(c=17),c=a<<16>>16>>c-1,a=c>>1&65535,wf(this,a,32768,c&1));return a}],Yj=[function(a,b){var c=a,d=b&this.sa;d&&(c=a<<d|a>>>32-d,Bf(this,c,a<<d-1,-2147483648));return c},function(a,b){var c=a,d=b&this.sa;if(d){var e=
a<<32-d,c=a>>>d|e;Bf(this,c,e,-2147483648)}return c},function(a,b){var c=a,d=b&this.sa;d&&(c=Cf(this),c=a<<d|c<<d-1|a>>>32-d>>>1,Bf(this,c,a<<d-1,-2147483648));return c},function(a,b){var c=a,d=b&this.sa;d&&(c=Cf(this),c=a>>>d|c<<32-d|a<<32-d<<1,Bf(this,c,a<<32-d,-2147483648));return c},function(a,b){var c=a,d=b&this.sa;d&&(d=a<<d-1,c=d<<1,wf(this,c,-2147483648,d&-2147483648,(c^d)&-2147483648));return c},function(a,b){var c=b&this.sa;c&&(c=a>>>c-1,a=c>>>1,wf(this,a,-2147483648,c&1,a&-2147483648));
return a},Mh,function(a,b){var c=b&this.sa;c&&(c=a>>c-1,a=c>>1,wf(this,a,-2147483648,c&1));return a}],jk=[function(a,b){b=this.xa();wf(this,a&b,128);this.A-=-1===this.D?this.B.fi:this.B.ei;this.S|=2;return a},Mh,function(a){this.A-=-1===this.D?this.B.Uf:this.B.Tf;return a^255},function(a){var b=-a|0;pf(this,0,a,b,191,!0);this.A-=-1===this.D?this.B.Uf:this.B.Tf;return b&255},function(a){this.ja=(this.G&255)*a&65535;this.ja&65280?(xf(this),zf(this)):(yf(this),Af(this));this.cb=!0;this.A-=-1===this.D?
this.B.Rj:this.B.Qj;this.S|=2;return a},function(a){var b=(this.G<<24>>24)*(a<<24>>24)|0;this.ja=b&65535;127<b||-128>b?(xf(this),zf(this)):(yf(this),Af(this));this.cb=!0;this.A-=-1===this.D?this.B.wj:this.B.vj;this.S|=2;return a},function(a,b){if(!a)return yj.call(this),a;var c=(b=this.G&65535)/a;if(255<c)return yj.call(this),a;this.ja=c&255|(b%a&255)<<8;this.cb=!0;this.A-=-1===this.D?this.B.oj:this.B.nj;this.S|=2;return a},function(a,b){if(!a)return yj.call(this),a;var c=a<<24>>24,d=(b=this.G<<16>>
16)/c|0;if(d!=d<<24>>24||8086==this.ia&&-128==d)return yj.call(this),a;this.ja=d&255|(b%c&255)<<8;this.cb=!0;this.A-=-1===this.D?this.B.sj:this.B.rj;this.S|=2;return a}],kk=[function(a,b){b=this.Na();wf(this,a&b,this.Ja);this.A-=-1===this.D?this.B.fi:this.B.ei;this.S|=2;return a},Mh,function(a){this.A-=-1===this.D?this.B.Uf:this.B.Tf;return a^this.R},function(a){var b=-a|0;pf(this,0,a,b,this.Ja|63,!0);this.A-=-1===this.D?this.B.Uf:this.B.Tf;return b&this.R},function(a,b){if(2==this.Z){b=this.G&65535;
var c=b*a|0;this.ja=c&65535;this.wa=c>>16&65535}else Sh.call(this,a,this.G),80563==this.Uc&&68657152==this.G&&129==a&&(this.wa=0);this.wa?(xf(this),zf(this)):(yf(this),Af(this));this.cb=!0;this.A-=-1===this.D?this.B.Tj:this.B.Sj;this.S|=2;return a},function(a,b){var c;2==this.Z?(b=this.G&65535,c=(b<<16>>16)*(a<<16>>16)|0,this.ja=c&65535,this.wa=c>>16&65535,c=32767<c||-32768>c):(Rh.call(this,a,this.G),c=this.wa!=this.ja>>31);c?(xf(this),zf(this)):(yf(this),Af(this));this.cb=!0;this.A-=-1===this.D?
this.B.yj:this.B.xj;this.S|=2;return a},function(a,b){if(2==this.Z){if(!a)return yj.call(this),a;b=65536*(this.M&65535)+(this.G&65535);var c=b/a;if(65536<=c)return yj.call(this),a;this.ja=c&65535;this.wa=b%a&65535}else{if(!mj.call(this,this.G,this.M,a))return yj.call(this),a;this.ja|=0;this.wa|=0}this.cb=!0;this.A-=-1===this.D?this.B.qj:this.B.pj;this.S|=2;return a},function(a,b){if(2==this.Z){if(!a)return yj.call(this),a;var c=a<<16>>16,d=(b=this.M<<16|this.G&65535)/c|0;if(d!=d<<16>>16||8086==this.ia&&
-32768==d)return yj.call(this),a;this.ja=d&65535;this.wa=b%c&65535}else{var c=this.G,d=this.M,e=a,f=0,g=0;0>e&&(e=-e|0,f=1-f);0>d&&(c=-c|0,d=~d+(c?0:1)|0,g=1,f=1-f);!mj.call(this,c,d,e)||this.ja>2147483647+f||this.wa>2147483647+g?c=!1:(f&&(this.ja=-this.ja),g&&(this.wa=-this.wa),c=!0);if(!c)return yj.call(this),a;this.ja|=0;this.wa|=0}this.cb=!0;this.A-=-1===this.D?this.B.uj:this.B.tj;this.S|=2;return a}],Dd=[function(a){var b=a+1|0;pf(this,a,1,b,190);this.A-=-1===this.D?this.B.Sf:this.B.Rf;return b&
255},function(a){var b=a-1|0;pf(this,a,1,b,190,!0);this.A-=-1===this.D?this.B.Sf:this.B.Rf;return b&255},Mh,Mh,Mh,Mh,Mh,Mh],Ed=[function(a){var b=a+1|0;pf(this,a,1,b,this.Ja|62);this.A-=-1===this.D?this.B.Sf:this.B.Rf;return b&this.R},function(a){var b=a-1|0;pf(this,a,1,b,this.Ja|62,!0);this.A-=-1===this.D?this.B.Sf:this.B.Rf;return b&this.R},function(a){J(this,K(this));O(this,a);this.A-=-1===this.D?this.B.mj:this.B.lj;this.S|=2;return a},function(a){if(-1===this.D)return Mh.call(this,a);this.W=this.ga;
vj.call(this,a,this.oa(this.D+this.Z));this.A-=this.B.jj;this.S|=2;this.W=-1;return a},function(a){O(this,a);this.A-=-1===this.D?this.B.Hj:this.B.Gj;this.S|=2;return a},function(a){if(-1===this.D)return Mh.call(this,a);zd(this,a,this.oa(this.D+this.Z));this.A-=this.B.Ej;this.S|=2;return a},function(a){var b=a;this.S&512&&(a=a-2&65535,80286>this.ia&&(b=a));J(this,b);this.A-=-1===this.D?this.B.Rc:this.B.Xj;this.S|=2;return a},Mh];function oe(){this.V.call(this,fj);this.A-=-1===this.D?6:13}
function pe(){this.fa.call(this,ej);this.A-=-1===this.D?12:19}var ge=Array(256);ge[0]=function(){16>(Sf(this)&56)&&(this.S|=1);this.za.call(this,this.Qg,tj)};ge[1]=function(){Sf(this)&16||(this.S|=1);this.za.call(this,lk,tj)};ge[2]=function(){!(this.ab&1)||this.aa&131072?C.call(this,6):this.V.call(this,Th)};ge[3]=function(){!(this.ab&1)||this.aa&131072?C.call(this,6):this.V.call(this,Zh)};
ge[5]=function(){this.pa?C.call(this,13,0,0,!0):(Hf(this,this.oa(2054)),this.J=this.oa(2086),this.K=this.oa(2088),this.P=this.oa(2090),this.H=this.oa(2094),this.M=this.oa(2096),this.I=this.oa(2098),this.G=this.oa(2100),jd(this.Va,2102,this.oa(2084)),jd(this.va,2108,this.oa(2082)),jd(this.ta,2114,this.oa(2080)),jd(this.vb,2120,this.oa(2078)),yd(this,this.oa(2072)),O(this,this.oa(2074)),G(this,this.oa(2092)),this.Dc=this.oa(2126)|this.Ya(2128)<<16,this.Bd=this.Dc+this.oa(2130),this.Nc=this.oa(2138)|
this.Ya(2140)<<16,this.Pd=this.Nc+this.oa(2142),jd(this.Bc,2132,this.oa(2076)),jd(this.Qa,2144,this.oa(2070)),this.A-=195)};ge[6]=function(){this.pa?C.call(this,13,0):(this.ab&=-9,this.A-=2)};ge[11]=Gd;ge[166]=Gd;ge[255]=Gd;var M=[];M[5]=Gd;
M[7]=function(){if(this.pa)C.call(this,13,0,0,!0);else{var a=this.Va.pc(this.J&this.Ba,204);if(-1!==a){oj.call(this,this.na(a));var b=this.na(a+168),c=(b&24576)>>13;yd(this,this.na(a+4),c);this.Dc=this.na(a+112);this.Bd=this.Dc+this.na(a+116);this.Nc=this.na(a+100);this.Pd=this.Nc+this.na(a+104);id(this.Bc,this.na(a+56),this.na(a+120),this.na(a+124),this.na(a+128));id(this.Qa,this.na(a+52),this.na(a+84),this.na(a+88),this.na(a+92));this.J=this.na(a+12);this.K=this.na(a+16);this.P=this.na(a+20);this.H=
this.na(a+28);this.M=this.na(a+32);this.I=this.na(a+36);this.G=this.na(a+40);id(this.Ob,this.na(a+60),this.na(a+132),this.na(a+136),this.na(a+140));id(this.Nb,this.na(a+64),this.na(a+144),this.na(a+148),this.na(a+152));id(this.vb,this.na(a+68),this.na(a+156),this.na(a+160),this.na(a+164));id(this.ta,this.na(a+72),b,this.na(a+172),this.na(a+176));id(this.va,this.na(a+76),this.na(a+180),this.na(a+184),this.na(a+188));id(this.Va,this.na(a+80),this.na(a+192),this.na(a+196),this.na(a+200));O(this,this.na(a+
8));G(this,this.na(a+24))}this.A-=122<<(a&3?1:0)}};M[16]=Sj;M[17]=Tj;M[18]=Uj;M[19]=Vj;M[32]=function(){if(this.pa)C.call(this,13,0);else{var a,b=this.xa();switch((b&56)>>3){case 0:a=this.ab;break;case 2:a=this.qe;break;case 3:a=this.Md;break;default:he.call(this);return}we(this,b&7,a);this.A-=6}};M[33]=function(){if(this.pa)C.call(this,13,0);else{var a=this.xa(),b=(a&56)>>3;4==b||5==b?he.call(this):(we(this,a&7,this.Ka[b]),this.A-=22)}};
M[34]=function(){if(this.pa)C.call(this,13,0);else{var a=this.xa(),b=ve(this,a&7);switch((a&56)>>3){case 0:oj.call(this,b);this.A-=10;break;case 2:this.qe=b;this.A-=4;break;case 3:Ad.call(this,b);this.A-=5;break;default:he.call(this)}}};M[35]=function(){if(this.pa)C.call(this,13,0);else{var a=this.xa(),b=(a&56)>>3;4==b||5==b?he.call(this):(a=ve(this,a&7),a!=this.Ka[b]&&(ff(this,!1),this.Ka[b]=a,ff(this,!0)),this.A-=4>b?22:14)}};
M[36]=function(){if(this.pa)C.call(this,13,0);else{var a=this.xa(),b=(a&56)>>3;6>b?he.call(this):(we(this,a&7,this.Ie[b]),this.A-=12)}};M[38]=function(){if(this.pa)C.call(this,13,0);else{var a=this.xa(),b=(a&56)>>3;6>b?he.call(this):(this.Ie[b]=ve(this,a&7),this.A-=12)}};M[128]=function(){var a=this.Na();vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[129]=function(){var a=this.Na();vf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};
M[130]=function(){var a=this.Na();qf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[131]=function(){var a=this.Na();qf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};M[132]=function(){var a=this.Na();tf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[133]=function(){var a=this.Na();tf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};M[134]=function(){var a=this.Na();qf(this)||tf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};
M[135]=function(){var a=this.Na();qf(this)||tf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};M[136]=function(){var a=this.Na();uf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[137]=function(){var a=this.Na();uf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};M[138]=function(){var a=this.Na();rf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[139]=function(){var a=this.Na();rf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};
M[140]=function(){var a=this.Na();!uf(this)!=!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[141]=function(){var a=this.Na();!uf(this)==!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[142]=function(){var a=this.Na();tf(this)||!uf(this)!=!vf(this)?(O(this,K(this)+a),this.A-=this.B.Za):this.A-=this.B.$a};M[143]=function(){var a=this.Na();tf(this)||!uf(this)!=!vf(this)?this.A-=this.B.$a:(O(this,K(this)+a),this.A-=this.B.Za)};M[144]=function(){pj.call(this,Ai)};
M[145]=function(){pj.call(this,Ai)};M[146]=function(){pj.call(this,Bi)};M[147]=function(){pj.call(this,Ci)};M[148]=function(){pj.call(this,Di)};M[149]=function(){pj.call(this,Ei)};M[150]=function(){pj.call(this,Fi)};M[151]=function(){pj.call(this,Gi)};M[152]=function(){pj.call(this,Hi)};M[153]=function(){pj.call(this,Ii)};M[154]=function(){pj.call(this,Ji)};M[155]=function(){pj.call(this,Ki)};M[156]=function(){pj.call(this,Li)};M[157]=function(){pj.call(this,Mi)};M[158]=function(){pj.call(this,Ni)};
M[159]=function(){pj.call(this,Oi)};M[160]=function(){ud(this,this.Nb.ba,this.Z,2);this.A-=this.B.Ge};M[161]=function(){this.W=this.ga;var a=E(this);this.Nb.load(a);this.A-=this.B.zc;this.W=-1};M[163]=function(){this.fa.call(this,Eh);-1!==this.D&&(this.A-=6)};M[164]=function(){this.fa.call(this,2==this.Z?Pi:Ri);this.A-=-1===this.D?3:7};M[165]=function(){this.fa.call(this,2==this.Z?Ti:Ui);this.A-=-1===this.D?3:7};M[168]=function(){ud(this,this.Ob.ba,this.Z,2);this.A-=this.B.Ge};
M[169]=function(){this.W=this.ga;var a=E(this);this.Ob.load(a);this.A-=this.B.zc;this.W=-1};M[171]=function(){this.fa.call(this,Hh);-1!==this.D&&(this.A-=5)};M[172]=function(){this.fa.call(this,2==this.Z?Vi:Xi);this.A-=-1===this.D?3:7};M[173]=function(){this.fa.call(this,2==this.Z?Zi:$i);this.A-=-1===this.D?3:7};M[175]=function(){this.V.call(this,2==this.Z?Oh:Qh)};M[178]=function(){this.V.call(this,$h)};M[179]=function(){this.fa.call(this,Gh);-1!==this.D&&(this.A-=5)};
M[180]=function(){this.V.call(this,Xh)};M[181]=function(){this.V.call(this,Yh)};
M[182]=function(){this.Ra.call(this,bi);switch(this.L>>3&7){case 0:this.G=this.G&~this.R|this.G&255;break;case 1:this.I=this.I&~this.R|this.I&255;break;case 2:this.M=this.M&~this.R|this.M&255;break;case 3:this.H=this.H&~this.R|this.H&255;break;case 4:this.jb=this.jb&~this.R|this.G>>8&255;this.G=this.Y;break;case 5:this.P=this.P&~this.R|this.I>>8&255;this.I=this.Y;break;case 6:this.K=this.K&~this.R|this.M>>8&255;this.M=this.Y;break;case 7:this.J=this.J&~this.R|this.H>>8&255,this.H=this.Y}this.A-=-1===
this.D?3:6};M[183]=function(){sd(this,2);this.V.call(this,ci);switch(this.L>>3&7){case 0:this.G=this.G&65535;break;case 1:this.I=this.I&65535;break;case 2:this.M=this.M&65535;break;case 3:this.H=this.H&65535;break;case 4:this.jb=this.jb&65535;break;case 5:this.P=this.P&65535;break;case 6:this.K=this.K&65535;break;case 7:this.J=this.J&65535}this.A-=-1===this.D?3:6};M[186]=function(){this.za.call(this,mk,this.xa)};M[187]=function(){this.fa.call(this,Fh);-1!==this.D&&(this.A-=5)};
M[188]=function(){this.V.call(this,yh)};M[189]=function(){this.V.call(this,zh)};
M[190]=function(){this.Ra.call(this,bi);switch(this.L>>3&7){case 0:this.G=this.G&~this.R|(this.G&255)<<24>>24&this.R;break;case 1:this.I=this.I&~this.R|(this.I&255)<<24>>24&this.R;break;case 2:this.M=this.M&~this.R|(this.M&255)<<24>>24&this.R;break;case 3:this.H=this.H&~this.R|(this.H&255)<<24>>24&this.R;break;case 4:this.jb=this.jb&~this.R|this.G<<16>>24&this.R;this.G=this.Y;break;case 5:this.P=this.P&~this.R|this.I<<16>>24&this.R;this.I=this.Y;break;case 6:this.K=this.K&~this.R|this.M<<16>>24&this.R;
this.M=this.Y;break;case 7:this.J=this.J&~this.R|this.H<<16>>24&this.R,this.H=this.Y}this.A-=-1===this.D?3:6};M[191]=function(){sd(this,2);this.V.call(this,ci);switch(this.L>>3&7){case 0:this.G=this.G<<16>>16;break;case 1:this.I=this.I<<16>>16;break;case 2:this.M=this.M<<16>>16;break;case 3:this.H=this.H<<16>>16;break;case 4:this.jb=this.jb<<16>>16;break;case 5:this.P=this.P<<16>>16;break;case 6:this.K=this.K<<16>>16;break;case 7:this.J=this.J<<16>>16}this.A-=-1===this.D?3:6};
var gf=[function(){this.A-=2+(-1===this.D?0:1);return this.Bc.ba},function(){this.A-=2+(-1===this.D?0:1);return this.Qa.ba},function(a){this.S|=2;this.Bc.load(a);this.A-=17+(-1===this.D?0:2);return a},function(a){this.S|=2;-1!==this.Qa.load(a)&&(this.ib(this.Qa.Yb+4,this.Qa.wb|=512),this.Qa.type|=512);this.A-=17+(-1===this.D?0:2);return a},function(a){this.S|=2;this.A-=14+(-1===this.D?0:2);if(-1!==this.Fa.load(a)&&2048!=(this.Fa.wb&2560)&&(this.Fa.Kc>=this.pa&&this.Fa.Kc>=(a&3)||7168==(this.Fa.wb&
7168)))return Gf(this),a;Ef(this);return a},function(a){this.S|=2;this.A-=14+(-1===this.D?0:2);if(-1!==this.Fa.load(a)&&512==(this.Fa.wb&2560)&&this.Fa.Kc>=this.pa&&this.Fa.Kc>=(a&3))return Gf(this),a;Ef(this);return a},Mh,Mh],Fd=[ee,ee,ee,ee,ee,ee,Mh,Mh],lk=[function(a){if(-1===this.D)C.call(this,6);else{a=this.Bd-this.Dc;var b=this.Dc;80286==this.ia?b|=-16777216:80386<=this.ia&&2!=this.Z&&(a|=b<<16);this.nb(this.D+2,b);this.A-=11}return a},function(a){if(-1===this.D)C.call(this,6);else{a=this.Pd-
this.Nc;var b=this.Nc;80286==this.ia?b|=-16777216:80386<=this.ia&&2!=this.Z&&(a|=b<<16);this.nb(this.D+2,b);this.A-=12}return a},function(a){-1===this.D||this.aa&131072?C.call(this,6):(this.Dc=this.na(this.D+2)&(this.R|this.R<<8),a&=65535,this.Bd=this.Dc+a,this.S|=2,this.A-=11);return a},function(a){-1===this.D||this.aa&131072?C.call(this,6):(this.Nc=this.na(this.D+2)&(this.R|this.R<<8),a&=65535,this.Pd=this.Nc+a,this.S|=2,this.A-=12);return a},function(){this.A-=2+(-1===this.D?0:1);return this.ab},
Mh,function(a){this.aa&131072?C.call(this,6):(Hf(this,a),this.A-=-1===this.D?3:6,this.S|=2);return a},Mh],mk=[Mh,Mh,Mh,Mh,Ah,Dh,Ch,Bh];
function nk(a){Ua.call(this,"ChipSet",a,nk,32768);this.ia=(this.ia=a.model)&&ok[this.ia]||pk;this.V=0;var b=a[qk];if(b)this.V=rk(b,sk|tk.Dk);else{this.ka=[360,360];(b=a.floppies)&&b.length&&(this.ka=b);if(b=this.ka.length)this.V|=uk.Ug,b--,this.V|=(b&3)<<uk.Af;if(b=a.monitor||(this.ia<eg?"mono":"ega"),void 0!==vk[b])this.V|=vk[b]<<tk.Af}this.ua=rk(a[wk]||"11110000",0);this.cc=this.ia==pk?16:64;this.cb=this.Ha=1;this.ia>=eg&&(this.cb=this.Ha=2);this.pa=a.scaleTimers||!1;this.dc=a.rtcDate;this.Qb=!1;
a.sound&&(this.sb=this.Ja=null,window&&(this.sb=window.AudioContext||window.webkitAudioContext),this.sb&&(this.Ja=new this.sb));this.reset(!0);sb(this)}db(nk);var pk=5150,eg=5170,ok={5150:pk,5160:5160,5170:eg,deskpro386:5180},qk="sw1",wk="sw2",vk={none:0,tv:1,color:2,mono:3,ega:0,vga:0},uk={Ug:1,ONE:0,Zn:64,Xn:128,Cn:192,zf:192,Af:6},sk=12,tk={Yn:16,vn:32,Dk:48,zf:48,Af:4};m=nk.prototype;
m.Pb=function(a,b,c){switch(b){case qk:return this.qa[b]=c,xk(this,b,this.V,{0:this.ia==pk?"Bootable Floppy Drive":"Loop on POST",1:this.ia<pk?"Reserved":"Coprocessor",2:"Base Memory Size",4:"Monitor Type",6:"Number of Floppy Drives"}),!0;case wk:if(this.ia==pk)return this.qa[b]=c,xk(this,b,this.ua,{0:"Expansion Memory Size",4:"Reserved"}),!0;break;case "swdesc":return this.qa[b]=c,!0}return!1};
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.da=a;if(this.Xb=Eb(a,"FPU"))this.V|=2;this.C=Eb(a,"Keyboard");this.jb=c.X.Hd/1193181;hc(b,this,yk);lc(b,this,zk);this.ia<eg?(hc(b,this,Ak),lc(b,this,Bk)):(hc(b,this,Ck),lc(b,this,Dk));if(d){var e=this;Ek(d,1024,function(){for(var a=0;a<e.vc.length;a++){for(var b=e.vc[a],c="PIC"+a+":",d=0;d<b.Zc.length;d++)c+=" IC"+(d+1)+"="+t(b.Zc[d]);c+=" IMR="+t(b.Cd)+" IRR="+t(b.oc)+" ISR="+t(b.Oc)+" DELAY="+b.mf;e.ha.O(c)}});Ek(d,2048,function(a){a=(a=a[0])?
+a:null;for(var b=0;b<e.L.length;b++)if(null==a||b==a){Fk(e,b);var c=e.L[b],d="TIMER"+b+":",l=0;if(null!=c.md)for(var n=0;n<=c.md;n++)l|=c.Ab[n]<<8*n;d+=" mode="+(c.mode>>1)+" bytes="+c.md+" count="+u(l);e.ha.O(d)}});Ek(d,4096,function(){for(var a="",b=0;64>b;b++){var c=13>=b?Gk(e,b):e.A[b];a&&(a+="\n");a+="CMOS["+t(b)+"]: "+t(c)}e.ha.O(a)})}cf(c,26,this.$l.bind(this))};m.kc=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};
m.reset=function(a){var b;this.Y=this.V;this.sa=this.ua;Hk(this,qk,this.Y);Hk(this,wk,this.sa);Ik(this);this.N=Array(this.cb);for(b=0;b<this.cb;b++)Jk(this,b);this.vc=Array(this.Ha);Kk(this,0,32);1<this.Ha&&Kk(this,1,160);this.Kb=this.Wa=null;this.L=Array(5180==this.ia?6:3);for(b=0;b<this.L.length;b++)Lk(this,b);this.Ga=this.rb=this.W=this.bb=null;this.Fa=0;if(this.ia>=eg){this.B=16;this.ga=0;this.fa=16;this.Ma=0;this.ja=160;512<=Mk(this)&&(this.ja|=16);3==Nk(this)&&(this.ja|=64);5180==this.ia&&(this.ja|=
12);this.Ra=3;this.za=Array(8);this.wa=0;a&&(this.A=Array(64));Ok(this,this.dc);for(a=21;24>=a;a++)this.A[a]=0;for(a=14;46>a;a++)void 0===this.A[a]&&(this.A[a]=0);this.A[20]=this.Y&(tk.zf|2|uk.Ug|uk.zf);this.A[16]=Pk(this,0)<<4|Pk(this,1);Qk(this)}};
function Ok(a,b){var c=b?new Date(b):new Date;"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?(c=new Date,a.O("CMOS date invalid ("+b+"), using "+c)):b&&a.O("CMOS date: "+c);a.A[0]=c.getSeconds();a.A[1]=0;a.A[2]=c.getMinutes();a.A[3]=0;a.A[4]=c.getHours();a.A[5]=0;a.A[6]=c.getDay()+1;a.A[7]=c.getDate();a.A[8]=c.getMonth()+1;c=c.getFullYear();a.A[9]=c%100;c/=100;a.A[50]=c%10|c/10<<4;a.A[10]=38;a.A[11]=2;a.A[12]=0;a.A[13]=128;a.Ka=a.Ca=0;a.Rb=a.fb=null}
function Gk(a,b){var c=a.A[b];if(10>b){var d=!1;4!=b&&5!=b||a.A[11]&2||(12>c?c=c?c:12:c=(c-=12)?c+128:140,d=!0);a.A[11]&4||(d&&128<c&&(c-=48),c=c%10|c/10<<4)}else 10==b&&(a.A[b]^=128);return c}function Rk(a){var b;void 0===b&&(b=a.fb);a.Ca=Vc(a.F,a.pa)+b;a.A[11]&64&&Zc(a.F,b)}function Qk(a){for(var b=0,c=16;46>c;c++)b+=a.A[c];a.A[47]=b&255;a.A[46]=b>>8}
m.save=function(){var a=new hf(this);N(a,0,[this.V,this.ua,this.Y,this.sa]);for(var b=[],c=0;c<this.N;c++){for(var d=this.N[c],e=d,f=[],g=0;g<e.Cc.length;g++){var h=e.Cc[g];f[g]=[h.Be,h.ig,h.Ec,h.Eb,h.Ab,h.mode,h.kg,h.qn,h.rn]}b[c]=[d.Zb,d.ah,d.Di,d.Lb,f]}N(a,1,[b]);b=[];for(c=0;c<this.vc.length;c++)d=this.vc[c],b[c]=[d.mf,d.Zc,d.Vd,d.Cd,d.oc,d.Oc,d.ue,d.Ef];N(a,2,[b]);b=[];for(c=0;c<this.L.length;c++)d=this.L[c],b[c]=[d.Ec,d.ad,d.Ab,d.we,d.dh,d.mode,d.eg,d.Fd,d.md,d.wd,d.Ze,d.ye,d.zd,d.Zb,d.df];
N(a,3,[this.Wa,b,this.Kb]);N(a,4,[this.bb,this.W,this.rb,this.Ga,this.Fa]);this.ia>=eg&&(N(a,5,[this.B,this.ga,this.fa,this.Ma,this.ja,this.Ra]),N(a,6,[this.za[7],this.za,this.wa,this.A,this.Ka,this.Ca]));return a.data()};
m.restore=function(a){var b,c;b=a[0];this.V=b[0];this.ua=b[1];this.Y=b[2];this.sa=b[3];b=a[1];for(c=0;c<this.cb;c++)Jk(this,c,1==b.length?b[0][c]:b);b=a[2];for(c=0;c<this.Ha;c++)Kk(this,c,0===c?32:160,b[0][c]);b=a[3];this.Wa=b[0];this.Kb=b[2];for(c=0;c<this.L.length;c++)Lk(this,c,b[1][c]);b=a[4];this.bb=b[0];this.W=b[1];this.rb=b[2];this.Ga=b[3];this.Fa=b[4];if(b=a[5])this.B=b[0],this.ga=b[1],this.fa=b[2],this.Ma=b[3],this.ja=b[4],this.Ra=b[5];if(b=a[6])this.za=b[1],this.za[7]=b[0],this.wa=b[2],this.A=
b[3],this.Ka=b[4],this.Ca=b[5],Ok(this);return!0};var Sk=[0,null,null,0,Array(4)];function Jk(a,b,c){var d=a.N[b];d||(d={Cc:Array(4)});c=c&&5==c.length?c:Sk;d.Zb=c[0];d.ah=c[1];d.Di=c[2];d.Lb=c[3];d.gm=b<<2;for(var e=0;e<d.Cc.length;e++)Tk(d,e,c[4][e]);a.N[b]=d}var Uk=[!0,[0,0],[0,0],[0,0],[0,0]];
function Tk(a,b,c){var d=a.Cc[b];d||(d={ig:[0,0],Ec:[0,0],Eb:[0,0],Ab:[0,0]});c=c&&8==c.length?c:Uk;d.Be=c[0];d.ig[0]=c[1][0];d.ig[1]=c[1][1];d.Ec[0]=c[2][0];d.Ec[1]=c[2][1];d.Eb[0]=c[3][0];d.Eb[1]=c[3][1];d.Ab[0]=c[4][0];d.Ab[1]=c[4][1];d.mode=c[5];d.kg=c[6];d.controller=a;d.Xi=b;Vk(d,c[8],c[9]);a.Cc[b]=d}function Vk(a,b,c,d){"string"==typeof b&&(b=hb(b));b&&(a.done=null,a.qn=b.id,a.rn=c,a.pg=b,a.kh=b[c],a.Eg=d)}var Wk=[0,Array(4)];
function Kk(a,b,c,d){var e=a.vc[b];e||(e={Zc:[null,null,null,null]});d=d&&8==d.length?d:Wk;e.port=c;e.to=b<<3;e.mf=d[0];e.Zc[0]=d[1][0];e.Zc[1]=d[1][1];e.Zc[2]=d[1][2];e.Zc[3]=d[1][3];e.Vd=d[2];e.Cd=d[3];e.oc=d[4];e.Oc=d[5];e.ue=d[6];e.Ef=d[7];a.vc[b]=e}var Xk=[[0,0],[0,0],[0,0],[0,0]];
function Lk(a,b,c){var d=a.L[b];d||(d={Ec:[0,0],ad:[0,0],Ab:[0,0],we:[0,0]});c=c&&13<=c.length?c:Xk;d.Ec[0]=c[0][0];d.Ec[1]=c[0][1];d.ad[0]=c[1][0];d.ad[1]=c[1][1];d.Ab[0]=c[2][0];d.Ab[1]=c[2][1];d.we[0]=c[3][0];d.we[1]=c[3][1];d.dh=c[4];d.mode=c[5];d.eg=c[6];d.Fd=c[7];d.md=c[8];d.wd=c[9];d.Ze=c[10];d.ye=c[11];d.zd=c[12];d.Zb=c[13]||0;d.df=c[14]||!1;a.L[b]=d}function Mk(a,b){return((((b?a.V:a.Y)&12)>>2)+1)*a.cc+32*((b?a.ua:a.sa)&15)}
function Yk(a,b){var c=b?a.V:a.Y;return a.ia!=pk||c&uk.Ug?((c&uk.zf)>>uk.Af)+1:0}function Pk(a,b){if(b<Yk(a)){if(!a.ka)return 1;if(b<a.ka.length)switch(a.ka[b]){case 160:case 180:case 320:case 360:return 1;case 720:return 3;case 1200:return 2;case 1440:return 4}}return 0}function Nk(a,b){return((b?a.V:a.Y)&tk.zf)>>tk.Af}
function xk(a,b,c,d){for(var e="",f=a.qa[b],g=1;8>=g;g++){var h="pcjs-bitCell";g||(h+=" pcjs-bitCellLeft");e+='<div id="'+(b+"-"+g)+'" class="'+h+'" data-value="0">'+g+"</div>\n"}f.innerHTML=e;Hk(a,b,c,d)}
function Hk(a,b,c,d){if(b=a.qa[b]){b=nb(b,"pcjs-bitCell");for(var e=0;e<b.length;e++){var f=null;null!=d&&null!=d[e]&&(f=d[e]);f&&b[e].setAttribute("title",f);Zk(b[e],c&1<<e?!1:!0);b[e].onclick=function(a,b){return function(){var c="1"!=b.getAttribute("data-value");Zk(b,c);var d=b.getAttribute("id").split("-"),e=1<<+d[1]-1;switch(d[0]){case qk:a.V=a.V&~e|(c?0:e);break;case wk:a.ua=a.ua&~e|(c?0:e)}Ik(a)}}(a,b[e])}}}
function Ik(a){var b=a.qa.swdesc;if(null!=b){var c;c=""+(Mk(a,!0)+"Kb");c+=", "+(a.V&2?"":"No ")+"Coprocessor";c+=", "+{0:"Enhanced Color",1:"TV",2:"Color",3:"Monochrome"}[Nk(a,!0)]+" Monitor";c+=", "+Yk(a,!0)+" Floppy Drives";if(null!=a.Y&&a.Y!=a.V||null!=a.sa&&a.sa!=a.ua)c+=" (Reset required)";b.textContent=c}}function Zk(a,b){a.setAttribute("data-value",b?"1":"0");a.style.color=b?"#ffffff":"#000000";a.style.backgroundColor=b?"#000000":"#ffffff"}
function $k(a,b,c,d,e){var f=a.N[b],g=f.Cc[c],h=g.Eb[f.Lb];z(a,768)&&x(a,d,null,e,"DMA"+b+".CHANNEL"+c+".ADDR["+f.Lb+"]",h,!0);f.Lb^=1;b||0!=c||f.Lb||(g.Eb[0]++,255<g.Eb[0]&&(g.Eb[0]=0,g.Eb[1]++,255<g.Eb[1]&&(g.Eb[1]=0)));return h}function al(a,b,c,d,e,f){var g=a.N[b];z(a,768)&&x(a,d,e,f,"DMA"+b+".CHANNEL"+c+".ADDR["+g.Lb+"]",null,!0);a=g.Cc[c];a.Eb[g.Lb]=a.ig[g.Lb]=e;g.Lb^=1}
function bl(a,b,c,d,e){var f=a.N[b],g=f.Cc[c],h=g.Ab[f.Lb];z(a,768)&&x(a,d,null,e,"DMA"+b+".CHANNEL"+c+".COUNT["+f.Lb+"]",h,!0);f.Lb^=1;b||0!=c||f.Lb||(g.Ab[0]--,0>g.Ab[0]&&(g.Ab[0]=255,g.Ab[1]--,0>g.Ab[1]&&(g.Ab[1]=255)));return h}function cl(a,b,c,d,e,f){var g=a.N[b];z(a,768)&&x(a,d,e,f,"DMA"+b+".CHANNEL"+c+".COUNT["+g.Lb+"]",null,!0);a=g.Cc[c];a.Ab[g.Lb]=a.Ec[g.Lb]=e;g.Lb^=1}function dl(a,b,c,d){var e=a.N[b],f=e.Zb|1;e.Zb&=-16;z(a,768)&&x(a,c,null,d,"DMA"+b+".STATUS",f,!0);return f}
function el(a,b,c,d,e){var f=a.N[b];z(a,768)&&x(a,c,d,e,"DMA"+b+".REQ",null,!0);a=d&3;f.Zb=f.Zb&~(16<<a)|(d&4)<<a+2;f.Di=d}function fl(a,b,c,d,e){var f=a.N[b];z(a,768)&&x(a,c,d,e,"DMA"+b+".MASK",null,!0);b=d&3;c=f.Cc[b];c.Be=!!(d&4);c.Be||gl(a,f.gm+b)}function hl(a,b,c,d,e){z(a,768)&&x(a,c,d,e,"DMA"+b+".MODE",null,!0);a.N[b].Cc[d&3].mode=d}function il(a,b,c,d,e){z(a,768)&&x(a,c,d,e,"DMA"+b+".MASTER_CLEAR",null,!0);a=a.N[b];for(b=0;b<a.Cc.length;b++)Tk(a,b)}
function jl(a,b,c,d,e){var f=a.N[b].Cc[c].kg;z(a,768)&&x(a,d,null,e,"DMA"+b+".CHANNEL"+c+".PAGE",f,!0);return f}function kl(a,b,c,d,e,f){z(a,768)&&x(a,d,e,f,"DMA"+b+".CHANNEL"+c+".PAGE",null,!0);a.N[b].Cc[c].kg=e}function ll(a,b,c,d){var e=a.za[b];z(a,768)&&x(a,c,null,d,"DMA.SPARE"+b+".PAGE",e,!0);return e}function ml(a,b,c,d,e){z(a,768)&&x(a,c,d,e,"DMA.SPARE"+b+".PAGE",null,!0);a.za[b]=d}function nl(a,b,c,d,e){Vk(a.N[b>>2].Cc[b&3],c,d,e)}
function gl(a,b,c){b=a.N[b>>2].Cc[b&3];b.pg&&b.kh&&b.Eg?(c&&(b.done=c),b.Be||ol(a,b,!0)):c&&c(!0)}function ol(a,b,c){c&&(b.count=b.Ab[1]<<8|b.Ab[0],b.type=b.mode&12,b.Si=b.vd=!1);for(var d=!1;0<=b.count&&(c=b.kg<<16|b.Eb[1]<<8|b.Eb[0],4==b.type?(d=!0,function(c){b.kh.call(b.pg,b.Eg,-1,function(f,g){0>f&&(b.Si||(b.Si=!0),f=255);b.Be||a.ea.sc(c,f);(d=g)&&setTimeout(function(){pl(b)||ol(a,b)},0)})}(c)):8==b.type?(c=a.ea.Ya(c),0>b.kh.call(b.pg,b.Eg,c)&&(b.vd=!0)):0!=b.type&&(b.vd=!0)),!d&&!pl(b););}
function pl(a){if(!a.vd&&0<=--a.count&&(a.mode&32?(a.Eb[0]--,0>a.Eb[0]&&(a.Eb[0]=255,a.Eb[1]--,0>a.Eb[1]&&(a.Eb[1]=255))):(a.Eb[0]++,255<a.Eb[0]&&(a.Eb[0]=0,a.Eb[1]++,255<a.Eb[1]&&(a.Eb[1]=0))),!a.Be))return!1;var b=a.controller;b.Zb=b.Zb&~(16<<a.Xi)|1<<a.Xi;a.mode&16||(a.Be=!0,a.pg=a.Eg=null);a.done&&(a.done(!a.vd),a.done=null);return!0}function ql(a,b,c){var d=0,e=a.vc[b];if(null!=e.Ef)switch(e.Ef&3){case 2:d=e.oc;break;case 3:d=e.Oc}z(a,34048)&&x(a,e.port,null,c,"PIC"+b,d,!0);return d}
function rl(a,b,c,d){var e=a.vc[b];z(a,34048)&&x(a,e.port,c,d,"PIC"+b,null,!0);if(c&16)e.Vd=0,e.Zc[e.Vd++]=c,e.Cd=0,e.ue=7,e.oc=e.Oc=0,e.Ef=10;else if(c&8)c&100&&z(a,1073741824)&&y(a,"PIC"+b+"("+t(e.port)+"): unsupported OCW3 command "+t(c),!0,!0),e.Ef=c;else if(d=c&224,d&32){var f,g=0;if(96==(d&96))g=1<<(c&7);else for(f=e.ue+1;;){f&=7;var h=1<<f;if(e.Oc&h){g=h;break}if(f++==e.ue)break}e.Oc&g&&(e.Oc&=~g,sl(a));d&128&&z(a,1073741824)&&y(a,"PIC"+b+"("+t(e.port)+"): unsupported OCW2 rotate command "+
t(c),!0,!0)}else 192==d?e.ue=c&7:z(a,1073741824)&&y(a,"PIC"+b+"("+t(e.port)+"): unsupported OCW2 automatic EOI command "+t(c),!0,!0)}function tl(a,b,c){var d=a.vc[b],e=d.Cd;z(a,34048)&&x(a,d.port+1,null,c,"PIC"+b,e,!0);return e}function ul(a,b,c,d){var e=a.vc[b];z(a,34048)&&x(a,e.port+1,c,d,"PIC"+b,null,!0);e.Vd<e.Zc.length?(e.Zc[e.Vd++]=c,2==e.Vd&&e.Zc[0]&2&&e.Vd++,3!=e.Vd||e.Zc[0]&1||e.Vd++):(e.Cd=c,d=a.F,d.S|=4,sl(a,b||253!=c?0:6))}
function gg(a,b,c){var d=a.vc[b>>3];b=1<<(b&7);d.oc&b||(d.oc|=b,d.mf=c||0,sl(a))}function fg(a,b){var c=a.vc[b>>3],d=1<<(b&7);c.oc&d&&(c.oc&=~d,sl(a))}function sl(a,b){var c,d=-1;1<a.Ha&&(c=a.vc[1],d=~(c.Oc|c.Cd)&c.oc);c=a.vc[0];0<=d&&(c.oc=d?c.oc|4:c.oc&-5);var d=~(c.Oc|c.Cd)&c.oc,e=a.F;e.N&&(e.ua=d?e.ua|1:e.ua&-2);d&&b&&(c.mf=b)}
function Wf(a,b){void 0===b&&(b=0);var c=-1,d=a.vc[b];if(d.mf)c=-2,d.mf--;else for(var e=d.oc&((d.Oc|d.Cd)^255),f=d.ue+1;;){var f=f&7,g=1<<f;if(d.Oc&g)break;if(e&g){b||2!=f?c=d.Zc[1]+f:c=Wf(a,1);0<=c&&(d.Oc|=g,d.oc&=~g);break}if(f++==d.ue)break}return c}function vl(a,b,c,d){var e,f=a.L[b];f.df?(e=f.Zb,f.df=!1):(f.Fd==f.md&&wl(a,b),f.Ze?(e=f.we[f.Fd++],f.Fd==f.md&&(f.Ze=!1)):(Fk(a,b),e=f.Ab[f.Fd++]));z(a,2304)&&x(a,c,null,d,"TIMER"+b,e,!0);return e}
function xl(a,b,c,d,e){z(a,2304)&&x(a,c,d,e,"TIMER"+b,null,!0);c=a.L[b];c.Fd==c.md&&wl(a,b);c.Ec[c.Fd++]=d;c.Fd==c.md&&(c.ye&&0!=c.mode&&8!=c.mode||(c.Ze=!1,c.Ab[0]=c.ad[0]=c.Ec[0],c.Ab[1]=c.ad[1]=c.Ec[1],c.zd=Vc(a.F,a.pa),c.ye=!0,c.wd=0!=c.mode,0==b&&(fg(a,0),d=yl(a,0)*a.jb|0,6==c.mode&&(d>>=1),Zc(a.F,d))),2==b&&bd(a))}m=nk.prototype;m.Il=function(a,b){x(this,a,null,b,"PIT1_CTRL",null,2048);return this.Wa};
m.bn=function(a,b,c){this.Wa=b;x(this,a,b,c,"PIT1_CTRL",null,2048);a=b&192;if(192==a){if(!(b&16))for(a=0;2>=a;a++)b&2<<a&&(c=this.L[a],c.df||(Fk(this,a),c.Zb=c.dh|c.mode|c.eg|(c.Fd<c.md?64:0)|(c.wd?128:0),c.df=!0));if(!(b&32))for(a=0;2>=a;a++)b&2<<a&&zl(this,a)}else{a>>=6;c=b&1;var d=b&14;b&=48;if(0==b)zl(this,a);else{var e=a,f=this.L[e];f.eg=b;f.mode=d;f.dh=c;f.Ec=[0,0];f.Ab=[0,0];f.we=[0,0];f.wd=!1;f.Ze=!1;f.ye=!1;f.df=!1;wl(this,e);0==a&&fg(this,0);2==a&&255==this.vc[0].Cd&&77==this.W&&(a=this.L[0],
a.ad[0]=a.Ec[0],a.ad[1]=a.Ec[1],a.zd=Vc(this.F,this.pa))}}};function yl(a,b){var c=a.L[b],d=c.Ec[1]<<8|c.Ec[0];d||(d=1==c.md?256:65536);return d}function dd(a,b){var c=a.L[b],d=c.ad[1]<<8|c.ad[0];d||(d=1==c.md?256:65536);return d}function zl(a,b){Fk(a,b);var c=a.L[b];c.we[0]=c.Ab[0];c.we[1]=c.Ab[1];c.Ze=!0;wl(a,b)}function wl(a,b){var c=a.L[b];c.Fd=32==c.eg?1:0;c.md=48==c.eg?2:1}
function Fk(a,b,c){var d=a.L[b];if(d.ye&&(2!=b||a.W&1)){var e=Vc(a.F,a.pa),f=(e-d.zd)/a.jb|0;0>f&&(d.zd=e,f=0);var g=yl(a,b),h=dd(a,b)-f;0==d.mode?(0>=h&&(h=0),h||(d.wd=!0,d.ye=!1,b||gg(a,0))):4==d.mode?(d.wd=1!=h,0>=h&&(h=g+h,0>=h&&(h=g),d.ad[0]=h&255,d.ad[1]=h>>8&255,d.zd=e,!b&&d.wd&&gg(a,0))):6==d.mode&&(h-=f,0>=h&&(d.wd=!d.wd,h=g+h,0>=h&&(h=g),d.ad[0]=h&255,d.ad[1]=h>>8&255,d.zd=e,!b&&d.wd&&gg(a,0)));d.Ab[0]=h&255;d.Ab[1]=h>>8&255;c&&(a.zd=0)}return d}
function cd(a,b){for(var c=0;c<a.L.length;c++)Fk(a,c,b);if(a.ia>=eg){var c=a.F.X.Hd,d=Vc(a.F,a.pa);null==a.fb&&(a.Ka=Vc(a.F,a.pa),a.Rb=1024,a.fb=Math.floor(a.F.X.Hd/a.Rb),Rk(a));d>=a.Ca&&(a.A[12]|=64,a.A[11]&64&&(a.A[12]|=128,gg(a,8)),a.Ca=d+a.fb);a.A[0]==a.A[1]&&a.A[2]==a.A[3]&&a.A[4]==a.A[5]&&(a.A[12]|=32,a.A[11]&32&&(a.A[12]|=128,gg(a,8)));var e=d-a.Ka,f=Math.floor(e/c);if(f&&!(a.A[11]&128)){for(;f--;)if(60<=++a.A[0]&&(a.A[0]=0,60<=++a.A[2]&&(a.A[2]=0,24<=++a.A[4]))){a.A[4]=0;a.A[6]=a.A[6]%7+1;
var g;g=a.A[9];var h=ra[a.A[8]-1];28==h&&0===g%4&&(g%100||0===g%400)&&h++;g=h;++a.A[7]>g&&(a.A[7]=1,12<++a.A[8]&&(a.A[8]=1,a.A[9]=(a.A[9]+1)%100))}a.A[12]|=16;a.A[11]&16&&(a.A[12]|=128,gg(a,8))}a.Ka=d-e%c}}m.Jl=function(a,b){var c=this.bb;if(this.Ga&16)if(this.W&128)c=this.Y;else if(this.C){var c=this.C,d=0;c.A.length&&(d=c.A[0]);z(c)&&y(c,"scan code "+t(d)+" delivered");c=d}x(this,a,null,b,"PPI_A",c);return c};m.cn=function(a,b,c){x(this,a,b,c,"PPI_A");this.bb=b};
m.Kl=function(a,b){var c=this.W;x(this,a,null,b,"PPI_B",c);return c};m.dn=function(a,b,c){x(this,a,b,c,"PPI_B");Al(this,b)};function Al(a,b){var c=!!(b&2),d=!!(a.W&2);a.W=b;a.C&&Bl(a.C,!(b&128),!!(b&64));c!=d&&bd(a,c)}m.Ll=function(a,b){var c=0,c=this.ia==pk?this.W&4?c|this.sa&15:c|this.sa>>4&1:this.W&8?c|this.Y>>4:c|this.Y&15;this.W&1&&Fk(this,2).wd&&(c=this.W&2?c|32:c|16);x(this,a,null,b,"PPI_C",c,32896);return c};m.en=function(a,b,c){x(this,a,b,c,"PPI_C");this.rb=b};
m.Ml=function(a,b){var c=this.Ga;x(this,a,null,b,"PPI_CTRL",c);return c};m.fn=function(a,b,c){x(this,a,b,c,"PPI_CTRL");this.Ga=b};m.Xk=function(a,b){var c=this.Ma;x(this,a,null,b,"8042_OUTBUFF",c,16384);this.B&=-258;this.C&&Cl(this.C);return c};m.om=function(a,b,c){x(this,a,b,c,"8042_INBUF.DATA",null,16384);if(this.B&8)switch(this.ga){case 96:Dl(this,b);break;case 209:El(this,b);break;default:if(Dl(this,this.fa&-17),this.C){a=-1;switch(b){case 255:a=250,Fl(this.C)}Gl(this,a)}}this.ga=b;this.B&=-9};
m.Yk=function(a,b){var c=this.W&-209|(Vc(this.F)&64?16:0);x(this,a,null,b,"8042_RWREG",c,16384);return c};m.pm=function(a,b,c){x(this,a,b,c,"8042_RWREG",null,16384);Al(this,b)};m.Zk=function(a,b){x(this,a,null,b,"8042_STATUS",this.B,16384);var c=this.B&255;this.B&256&&(this.B|=1,this.B&=-257);return c};
m.nm=function(a,b,c){x(this,a,b,c,"8042_INBUFF.CMD",null,16384);this.ga=b;this.B|=8;a=0;240<=this.ga&&(a=this.ga^15,this.ga=240);switch(this.ga){case 32:Gl(this,this.fa);break;case 173:Dl(this,this.fa|16);break;case 174:Dl(this,this.fa&-17);this.C&&Cl(this.C);break;case 170:this.C&&(a=this.C,a.A=[],z(a)&&y(a,"scan codes flushed"));Dl(this,this.fa|16);Gl(this,85);El(this,3);break;case 171:Gl(this,0);break;case 192:Gl(this,this.ja);break;case 208:Gl(this,this.Ra);break;case 224:Gl(this,this.fa&16?0:
1);break;case 240:a&1&&qe(this.F)}};function Dl(a,b){a.fa=b;a.B=a.B&-5|b&4;a.C&&Bl(a.C,!!(b&8),!(b&16))}function Gl(a,b,c){0<=b&&(a.Ma=b,c?a.B|=1:(a.B&=-2,a.B|=256))}function El(a,b){a.Ra=b;Sb(a.ea,!!(b&2));b&1||qe(a.F)}function Hl(a,b){a.ia<eg?gg(a,1,4):a.fa&16||a.B&257||(Gl(a,b,!0),Il(a.C),gg(a,1,120))}m.ml=function(a,b){x(this,a,null,b,"CMOS.ADDR",this.wa,4096);return this.wa};m.Dm=function(a,b,c){x(this,a,b,c,"CMOS.ADDR",null,4096);this.wa=b;this.Fa=b&128?0:128};
m.nl=function(a,b){var c=this.wa&63,d=13>=c?Gk(this,c):this.A[c];z(this,4352)&&x(this,a,null,b,"CMOS.DATA["+t(c)+"]",d,!0);null!=b&&12==c&&(this.A[c]&=15,d&128&&fg(this,8),d&64&&this.A[11]&64&&Rk(this));return d};
m.Em=function(a,b,c){var d=this.wa&63;z(this,4352)&&x(this,a,b,c,"CMOS.DATA["+t(d)+"]",null,!0);a=b^this.A[d];if(13>=d){if(c=b,10>d){var e=!1;this.A[11]&4||(c=10*(c>>4)+(c&15),e=!0);if(4==d||5==d)e&&23<c&&(c+=48),this.A[11]&2||(12>=c?c=12==c?0:c:(c-=116,c=24==c?12:c))}}else c=b;this.A[d]=c;11==d&&a&64&&b&64&&Rk(this)};m.an=function(a,b,c){x(this,a,b,c,"NMI");this.Fa=b};m.Om=function(a,b,c){x(this,a,b,c,"FPU.CLEAR")};m.Pm=function(a,b,c){x(this,a,b,c,"FPU.RESET");this.Xb&&$f(this.Xb)};
m.$l=function(a){if(z(this,16)&&ik(this.ha,26,a)){var b=this.F.G>>8;df(this.F,a,function(a,d){return function(e){d=Vc(a.F)-d;var f,g=a.F.M&255,h=a.F.M>>8,k=a.F.M&255,l=a.F.M>>8;if(2==b||3==b)f=" CH(hour)="+u(h)+" CL(min)="+t(g)+" DH(sec)="+t(l);else if(4==b||5==b)f=" CX(year)="+u(a.F.I)+" DH(month)="+t(l)+" DL(day)="+t(k);g=a.ha;h=d;g.message("INT "+t(26)+": C="+(qf(g.F)?1:0)+(f||"")+" (cycles="+h+(e?",level="+(e+1):"")+")")}}(this,Vc(this.F)))}return!0};
function rk(a,b){if(void 0===a)return b;for(var c=0,d=1,e=0;e<a.length;e++)"0"==a.charAt(e)&&(c|=d),d<<=1;return c}
function bd(a,b){if(a.Ja)try{void 0!==b?a.Qb=b:b=a.Qb&&a.F&&a.F.la.Ib;var c=Math.round(1193181/yl(a,2));if(20>c||2E4<c)b=!1;b?a.U?(a.U.frequency.value=c,z(a,33554432)&&y(a,"speaker set to "+c+"hz",!0)):(a.U=a.Ja.createOscillator(),a.U&&(a.U.type="number"==typeof a.U.type?1:"square",a.U.connect(a.Ja.destination),a.U.frequency.value=c,"start"in a.U?a.U.start(0):a.U.noteOn(0),z(a,33554432)&&y(a,"speaker on at  "+c+"hz",!0))):a.U&&("stop"in a.U?a.U.stop(0):a.U.noteOff(0),a.U.disconnect(),delete a.U,z(a,
33554432)&&y(a,"speaker off at "+c+"hz",!0))}catch(d){a.Oa("AudioContext exception: "+d.message),a.Ja=null}else b&&y(a,"BEEP",33554432)}
var yk={0:function(a,b){return $k(this,0,0,a,b)},1:function(a,b){return bl(this,0,0,a,b)},2:function(a,b){return $k(this,0,1,a,b)},3:function(a,b){return bl(this,0,1,a,b)},4:function(a,b){return $k(this,0,2,a,b)},5:function(a,b){return bl(this,0,2,a,b)},6:function(a,b){return $k(this,0,3,a,b)},7:function(a,b){return bl(this,0,3,a,b)},8:function(a,b){return dl(this,0,a,b)},32:function(a,b){return ql(this,0,b)},33:function(a,b){return tl(this,0,b)},64:function(a,b){return vl(this,0,a,b)},65:function(a,
b){return vl(this,1,a,b)},66:function(a,b){return vl(this,2,a,b)},67:nk.prototype.Il,129:function(a,b){return jl(this,0,2,a,b)},130:function(a,b){return jl(this,0,3,a,b)},131:function(a,b){return jl(this,0,1,a,b)},135:function(a,b){return jl(this,0,0,a,b)}},Ak={96:nk.prototype.Jl,97:nk.prototype.Kl,98:nk.prototype.Ll,99:nk.prototype.Ml},Ck={96:nk.prototype.Xk,97:nk.prototype.Yk,100:nk.prototype.Zk,112:nk.prototype.ml,113:nk.prototype.nl,128:function(a,b){return ll(this,7,a,b)},132:function(a,b){return ll(this,
0,a,b)},133:function(a,b){return ll(this,1,a,b)},134:function(a,b){return ll(this,2,a,b)},136:function(a,b){return ll(this,3,a,b)},137:function(a,b){return jl(this,1,2,a,b)},138:function(a,b){return jl(this,1,3,a,b)},139:function(a,b){return jl(this,1,1,a,b)},140:function(a,b){return ll(this,4,a,b)},141:function(a,b){return ll(this,5,a,b)},142:function(a,b){return ll(this,6,a,b)},143:function(a,b){return jl(this,1,0,a,b)},160:function(a,b){return ql(this,1,b)},161:function(a,b){return tl(this,1,b)},
192:function(a,b){return $k(this,1,0,a,b)},194:function(a,b){return bl(this,1,0,a,b)},196:function(a,b){return $k(this,1,1,a,b)},198:function(a,b){return bl(this,1,1,a,b)},200:function(a,b){return $k(this,1,2,a,b)},202:function(a,b){return bl(this,1,2,a,b)},204:function(a,b){return $k(this,1,3,a,b)},206:function(a,b){return bl(this,1,3,a,b)},208:function(a,b){return dl(this,1,a,b)}},zk={0:function(a,b,c){al(this,0,0,a,b,c)},1:function(a,b,c){cl(this,0,0,a,b,c)},2:function(a,b,c){al(this,0,1,a,b,c)},
3:function(a,b,c){cl(this,0,1,a,b,c)},4:function(a,b,c){al(this,0,2,a,b,c)},5:function(a,b,c){cl(this,0,2,a,b,c)},6:function(a,b,c){al(this,0,3,a,b,c)},7:function(a,b,c){cl(this,0,3,a,b,c)},8:function(a,b,c){z(this,768)&&x(this,a,b,c,"DMA0.CMD",null,!0);this.N[0].ah=b},9:function(a,b,c){el(this,0,a,b,c)},10:function(a,b,c){fl(this,0,a,b,c)},11:function(a,b,c){hl(this,0,a,b,c)},12:function(a,b,c){z(this,768)&&x(this,a,b,c,"DMA0.RESET_FF",null,!0);this.N[0].Lb=0},13:function(a,b,c){il(this,0,a,b,c)},
32:function(a,b,c){rl(this,0,b,c)},33:function(a,b,c){ul(this,0,b,c)},64:function(a,b,c){xl(this,0,a,b,c)},65:function(a,b,c){xl(this,1,a,b,c)},66:function(a,b,c){xl(this,2,a,b,c)},67:nk.prototype.bn,129:function(a,b,c){kl(this,0,2,a,b,c)},130:function(a,b,c){kl(this,0,3,a,b,c)},131:function(a,b,c){kl(this,0,1,a,b,c)},135:function(a,b,c){kl(this,0,0,a,b,c)}},Bk={96:nk.prototype.cn,97:nk.prototype.dn,98:nk.prototype.en,99:nk.prototype.fn,160:nk.prototype.an},Dk={96:nk.prototype.om,97:nk.prototype.pm,
100:nk.prototype.nm,112:nk.prototype.Dm,113:nk.prototype.Em,128:function(a,b,c){ml(this,7,a,b,c)},132:function(a,b,c){ml(this,0,a,b,c)},133:function(a,b,c){ml(this,1,a,b,c)},134:function(a,b,c){ml(this,2,a,b,c)},136:function(a,b,c){ml(this,3,a,b,c)},137:function(a,b,c){kl(this,1,2,a,b,c)},138:function(a,b,c){kl(this,1,3,a,b,c)},139:function(a,b,c){kl(this,1,1,a,b,c)},140:function(a,b,c){ml(this,4,a,b,c)},141:function(a,b,c){ml(this,5,a,b,c)},142:function(a,b,c){ml(this,6,a,b,c)},143:function(a,b,
c){kl(this,1,0,a,b,c)},160:function(a,b,c){rl(this,1,b,c)},161:function(a,b,c){ul(this,1,b,c)},192:function(a,b,c){al(this,1,0,a,b,c)},194:function(a,b,c){cl(this,1,0,a,b,c)},196:function(a,b,c){al(this,1,1,a,b,c)},198:function(a,b,c){cl(this,1,1,a,b,c)},200:function(a,b,c){al(this,1,2,a,b,c)},202:function(a,b,c){cl(this,1,2,a,b,c)},204:function(a,b,c){al(this,1,3,a,b,c)},206:function(a,b,c){cl(this,1,3,a,b,c)},208:function(a,b,c){z(this,768)&&x(this,a,b,c,"DMA1.CMD",null,!0);this.N[1].ah=b},210:function(a,
b,c){el(this,1,a,b,c)},212:function(a,b,c){fl(this,1,a,b,c)},214:function(a,b,c){hl(this,1,a,b,c)},216:function(a,b,c){z(this,768)&&x(this,a,b,c,"DMA1.RESET_FF",null,!0);this.N[1].Lb=0},218:function(a,b,c){il(this,1,a,b,c)},240:nk.prototype.Om,241:nk.prototype.Pm};Qa(function(){for(var a=nb(document,"pcjs","chipset"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new nk(d);mb(d,c);Ik(d)}});
function Jl(a){Ua.call(this,"ROM",a,Jl);this.A=null;this.da=a.addr;this.C=a.size;this.N=a.alias;this.L=a.file;this.U=fa(this.L);this.B=a.notify;this.V=null;if(this.B&&(a=this.B.indexOf("["),0<a)){try{this.V=eval(this.B.substr(a))}catch(d){}this.B=this.B.substr(0,a)}if(this.L){a=this.L;var b=ha(this.U);"json"!=b&&"hex"!=b&&(a=xa()+"/api/v1/dump?file="+this.L+"&format=bytes&decimal=true");var c=this;wa(a,null,!0,function(a,b,f){Kl(c,a,b,f)})}}db(Jl);
Jl.prototype.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;Ll(this)};Jl.prototype.kc=function(){this.Nd&&(this.ha&&Ml(this.ha,this.id,0,this.da>>>4,0,this.da,this.C,this.Nd),delete this.Nd);return!0};Jl.prototype.jc=function(){return!0};
function Kl(a,b,c,d){if(d)a.Oa("Unable to load system ROM (error "+d+": "+b+")");else{fb(a.ve,b,c);if("["==c.charAt(0)||"{"==c.charAt(0))try{var e=eval("("+c+")"),f=e.bytes,g=e.data;if(f)a.A=f;else if(g)for(a.A=Array(4*g.length),d=c=0;c<g.length;c++)a.A[d++]=g[c]&255,a.A[d++]=g[c]>>8&255,a.A[d++]=g[c]>>16&255,a.A[d++]=g[c]>>24&255;else a.A=e;a.Nd=e.symbols;if(!a.A.length){w("Empty ROM: "+b);return}if(1==a.A.length){w(a.A[0]);return}}catch(h){a.Oa("ROM data error: "+h.message);return}else for(b=c.replace(/\n/gm,
" ").replace(/ +$/,"").split(" "),a.A=Array(b.length),e=0;e<b.length;e++)a.A[e]=ca(b[e],16);Ll(a)}}
function Ll(a){if(!tb(a))if(!a.L)sb(a);else if(a.A&&a.ea){if(a.A.length!=a.C)ub(a,"ROM size (0x"+r(a.A.length)+") does not match specified size ("+("0x"+r(a.C))+")");else{var b;b=a.da;if(Tb(a.ea,b,a.C,$b)){for(var c=0;c<a.A.length;c++){var d=a.ea,e=b+c;d.ra[(e&d.Gb)>>>d.La].wf(e&d.A,a.A[c]&255,e)}b=!0}else b=!1;if(b){b=[];"number"==typeof a.N?b.push(a.N):null!=a.N&&a.N.length&&(b=a.N);for(c=0;c<b.length;c++){var d=a,e=b[c],f=Xb(d.ea,d.da,d.C);Wb(d.ea,e,d.C,f)}a.B&&((b=hb(a.B,a.id))?(c=a.A,d=a.V,5==
b.lb?Nl(b,c,d||[12640,8752],8):b.lb==Ol&&Nl(b,c,d||[14221,16269],8),sb(b)):a.Oa("Unable to find component: "+a.B));delete a.A}}sb(a)}}Qa(function(){for(var a=nb(document,"pcjs","rom"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Jl(d);mb(d,c)}});function Pl(a){Ua.call(this,"RAM",a,Pl);this.B=a.addr;this.A=a.size;this.da=a.test;this.L=!!this.A;this.C=!1}db(Pl);m=Pl.prototype;m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.N=Eb(a,"ChipSet");sb(this)};
m.kc=function(a,b){return!b&&(this.reset(),a&&this.controller&&!this.restore(a))?!1:!0};m.jc=function(a){return a&&this.controller?this.save():!0};
m.reset=function(){if(!this.B&&!this.L&&this.N){var a=1024*Mk(this.N);this.A&&a!=this.A&&(Zb(this.ea,this.B,this.A),this.C=!1);this.A=a}!this.C&&this.A&&Tb(this.ea,this.B,this.A,1)&&(this.C=!0,this.status(Math.floor(this.A/1024)+"Kb allocated"),"ramCPQ"==this.be&&(this.controller=new Ql(this),Tb(this.ea,Rl,4,4,this.controller)));if(this.C){if(this.da||fc(this.ea,1138,4660),"ramCPQ"!=this.be&&this.N&&(a=this.N,a.A)){var b=1048576>this.B?21:23,c=a.A[b]|a.A[b+1]<<8,c=c+(this.A>>10);a.A[b]=c&255;a.A[b+
1]=c>>8;Qk(a)}}else w("No RAM allocated")};m.save=function(){var a=new hf(this);this.controller&&N(a,0,this.controller.save());return a.data()};m.restore=function(a){return this.controller?this.controller.restore(a[0]):!0};function Ql(a){this.N=a;this.C=Sl;this.ha=Tl;this.B=Ul;this.A=null}var Rl=-2134900736,Sl=65535,Tl=2575,Ul=2,Vl=[null,0],Wl=[function(a){return this.controller.Ya(a)},null,null,function(a,b){this.controller.sc(a,b)},null,null];m=Ql.prototype;m.save=function(){return[this.C,this.B]};
m.restore=function(a){this.sc(0,a[0]&255);this.sc(2,a[1]&255);return!0};m.Ya=function(a){var b=255;2>a?b=a&1?this.ha>>8:this.ha&255:4>a&&(b=a&1?this.B>>8:this.B&255);return b};m.sc=function(a,b){if(a)2==a&&(this.B=this.B&-256|b);else if(b!=(this.C&255)){var c=this.N.ea;if(b&1)this.A&&(Wb(c,917504,131072,this.A),this.A=null);else{this.A||(this.A=Xb(c,917504,131072));var d=Xb(c,16646144,131072);Wb(c,917504,131072,d,b&2?1:$b)}this.C=this.C&-256|b}};m.Vi=function(){return Vl};m.lh=function(){return Wl};
Qa(function(){for(var a=nb(document,"pcjs","ram"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Pl(d);mb(d,c)}});function Xl(a){Ua.call(this,"Keyboard",a,Xl,65536);Yl(this,a.model);this.fa=Ha("Mobi");this.ja=Ha("MSIE");y(this,"mobile keyboard support: "+(this.fa?"true":"false"));this.Y=0;this.ga=this.hh=!1;this.B=[];this.pa=50;sb(this)}db(Xl);
var Zl=["US83","US84","US101"],X={wn:1,xn:3,yn:26," ":32,"!":33,'"':34,"#":35,$:36,"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,sn:65,tn:66,un:67,zn:68,E:69,An:70,Dn:71,En:72,Fn:73,Gn:74,Hn:75,In:76,Jn:77,Kn:78,Ln:79,Mn:80,Q:81,Nn:82,Rn:83,Wn:84,$n:85,ao:86,bo:87,eo:88,fo:89,ho:90,"[":91,"\\":92,"]":93,"^":94,_:95,"`":96,io:97,jo:98,lo:99,d:100,e:101,mo:102,no:103,oo:104,
po:105,qo:106,k:107,ro:108,so:109,n:110,uo:111,p:112,q:113,r:114,vo:115,t:116,xo:117,yo:118,zo:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126},$l={};$l[186]=X[";"];$l[187]=X["="];$l[188]=X[","];$l[189]=X["-"];$l[190]=X["."];$l[191]=X["/"];$l[192]=X["`"];$l[219]=X["["];$l[220]=X["\\"];$l[221]=X["]"];$l[222]=X["'"];$l[173]=X["-"];var am={};am[X["1"]]=X["!"];am[X["2"]]=X["@"];am[X["3"]]=X["#"];am[X["4"]]=X.$;am[X["5"]]=X["%"];am[X["6"]]=X["^"];am[X["7"]]=X["&"];am[X["8"]]=X["*"];am[X["9"]]=X["("];
am[X["0"]]=X[")"];am[186]=X[":"];am[187]=X["+"];am[188]=X["<"];am[189]=X._;am[190]=X[">"];am[191]=X["?"];am[192]=X["~"];am[219]=X["{"];am[220]=X["|"];am[221]=X["}"];am[222]=X['"'];am[173]=X._;am[61]=X["+"];am[59]=X[":"];
var bm={3016:1,1016:2,1017:8,1018:32,1091:128,1093:64,1224:128,1020:512,1144:1024,1145:2048},cm={TAB:1009,ESC:1027,F1:1112,F2:1113,F3:1114,F4:1115,F5:1116,F6:1117,F7:1118,F8:1119,F9:1120,F10:1121,LEFT:1037,UP:1038,RIGHT:1039,DOWN:1040,SYSREQ:4027,CTRL_C:4003,CTRL_BREAK:4008,CTRL_ALT_DEL:4046},dm={esc:1027,1:X["1"],2:X["2"],3:X["3"],4:X["4"],5:X["5"],6:X["6"],7:X["7"],8:X["8"],9:X["9"],0:X["0"],"-":X["-"],"=":X["="],bs:1008,tab:1009,q:81,w:87,e:69,r:82,t:84,y:89,u:85,i:73,o:79,p:80,"[":X["["],"]":X["]"],
enter:13,ctrl:1017,a:65,s:83,d:68,f:70,g:71,h:72,j:74,k:75,l:76,";":X[";"],quote:X["'"],"`":X["`"],shift:1016,"\\":X["\\"],z:90,x:88,c:67,v:86,b:66,n:78,m:77,",":X[","],".":X["."],"/":X["/"],"right-shift":3016,prtsc:1044,alt:1018,space:1032,"caps-lock":1020,f1:1112,f2:1113,f3:1114,f4:1115,f5:1116,f6:1117,f7:1118,f8:1119,f9:1120,f10:1121,"num-lock":1144,"scroll-lock":1145,"num-home":1036,"num-up":1038,"num-pgup":1033,"num-sub":1109,"num-left":1037,"num-center":1101,"num-right":1039,"num-add":1107,
"num-end":1035,"num-down":1040,"num-pgdn":1034,"num-ins":1045,"num-del":1046,sysreq:84},em={"caps-lock":512,"num-lock":1024,"scroll-lock":2048},Y={1027:1};Y[X["1"]]=2;Y[X["!"]]=10754;Y[X["2"]]=3;Y[X["@"]]=10755;Y[X["3"]]=4;Y[X["#"]]=10756;Y[X["4"]]=5;Y[X.$]=10757;Y[X["5"]]=6;Y[X["%"]]=10758;Y[X["6"]]=7;Y[X["^"]]=10759;Y[X["7"]]=8;Y[X["&"]]=10760;Y[X["8"]]=9;Y[X["*"]]=10761;Y[X["9"]]=10;Y[X["("]]=10762;Y[X["0"]]=11;Y[X[")"]]=10763;Y[X["-"]]=12;Y[X._]=10764;Y[X["="]]=13;Y[X["+"]]=10765;Y[1008]=14;
Y[1009]=15;Y[113]=16;Y[81]=10768;Y[119]=17;Y[87]=10769;Y[101]=18;Y[69]=10770;Y[114]=19;Y[82]=10771;Y[116]=20;Y[84]=10772;Y[121]=21;Y[89]=10773;Y[117]=22;Y[85]=10774;Y[105]=23;Y[73]=10775;Y[111]=24;Y[79]=10776;Y[112]=25;Y[80]=10777;Y[X["["]]=26;Y[X["{"]]=10778;Y[X["]"]]=27;Y[X["}"]]=10779;Y[13]=28;Y[1017]=29;Y[97]=30;Y[65]=10782;Y[115]=31;Y[83]=10783;Y[100]=32;Y[68]=10784;Y[102]=33;Y[70]=10785;Y[103]=34;Y[71]=10786;Y[104]=35;Y[72]=10787;Y[106]=36;Y[74]=10788;Y[107]=37;Y[75]=10789;Y[108]=38;Y[76]=10790;
Y[X[";"]]=39;Y[X[":"]]=10791;Y[X["'"]]=40;Y[X['"']]=10792;Y[X["`"]]=41;Y[X["~"]]=10793;Y[1016]=42;Y[X["\\"]]=43;Y[X["|"]]=10795;Y[122]=44;Y[90]=10796;Y[120]=45;Y[88]=10797;Y[99]=46;Y[67]=10798;Y[118]=47;Y[86]=10799;Y[98]=48;Y[66]=10800;Y[110]=49;Y[78]=10801;Y[109]=50;Y[77]=10802;Y[X[","]]=51;Y[X["<"]]=10803;Y[X["."]]=52;Y[X[">"]]=10804;Y[X["/"]]=53;Y[X["?"]]=10805;Y[3016]=54;Y[1044]=55;Y[1018]=56;Y[1032]=57;Y[1020]=58;Y[1112]=59;Y[1113]=60;Y[1114]=61;Y[1115]=62;Y[1116]=63;Y[1117]=64;Y[1118]=65;
Y[1119]=66;Y[1120]=67;Y[1121]=68;Y[1144]=69;Y[1145]=70;Y[1036]=71;Y[1038]=72;Y[1033]=73;Y[1109]=74;Y[1037]=75;Y[1101]=76;Y[1039]=77;Y[1107]=78;Y[1035]=79;Y[1040]=80;Y[1034]=81;Y[1045]=82;Y[1046]=83;Y[4027]=84;Y[1122]=87;Y[1123]=88;Y[1091]=91;Y[1093]=93;Y[1224]=91;Y[4003]=7470;Y[4008]=7494;Y[4046]=3677523;m=Xl.prototype;
m.Pb=function(a,b,c,d){var e=this,f=a+"-"+b;if(void 0===this.qa[f])switch(b){case "kbd":return c.onkeydown=function(a){return fm(e,a,!0)},c.onkeypress=function(a){a=a||window.event;a=a.which||a.keyCode;e.L="";var b=!Y[a]||!!(e.xc&128);b||gm(e,a,!0);return b},c.onkeyup=function(a){return fm(e,a,!1)},!0;case "caps-lock":return this.qa[f]=c,c.onclick=function(){e.F&&e.F.Tc();gm(e,1020,!0)},!0;case "num-lock":return this.qa[f]=c,c.onclick=function(){e.F&&e.F.Tc();gm(e,1144,!0)},!0;case "scroll-lock":return this.qa[f]=
c,c.onclick=function(){e.F&&e.F.Tc();gm(e,1145,!0)},!0;default:var g=b.toUpperCase().replace(/-/g,"_");if(void 0!==cm[g]&&"button"==a)return this.qa[f]=c,c.onclick=function(a,b,c){return function(){a.F&&a.F.Tc();hm(a,c,!0);gm(a,c,!0)}}(this,g,cm[g]),!0;if(void 0!==dm[b])return this.Y++,this.qa[f]=c,a=function(a,b,c){return function(){gm(a,c)}}(this,b,dm[b]),b=function(a,b,c){return function(){im(a,c)}}(this,b,dm[b]),"ontouchstart"in window?(c.ontouchstart=a,c.ontouchend=b):(c.onmousedown=a,c.onmouseup=
c.onmouseout=b),!0;if(d)return this.qa[f]=c,c.onclick=function(){e.F&&e.F.Tc();d&&!e.L&&(e.L=d,jm(e,300))},!0}return!1};function km(a,b,c){if(a.Y){for(var d in am)if(b==am[d]){b=+d;(d=$l[d])&&(b=d);break}for(var e in dm)if((d=dm[e]==b)||(d=b,97<=d&&122>=d&&(d-=32),d=dm[e]==d),d){(a=a.qa["key-"+e])&&void 0!==c&&(a.style.color=c?"#ffffff":"#000000",a.style.backgroundColor=c?"#000000":"#ffffff");break}}}m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.N=Eb(a,"ChipSet")};
function Yl(a,b){var c=0;a.ia=null;b&&(a.ia=b.toUpperCase(),c=Zl.indexOf(a.ia),0>c&&(c=0));b=Zl[c];a.ka=parseInt(b.substr(2),10)}function Fl(a,b){y(a,"keyboard reset",65792);a.A=[170];a.da=!0;b&&a.N&&Hl(a.N,a.A[0])}function Bl(a,b,c){a.U!==c&&(a.U=a.W=c)&&(a.da=!0);a.V!==b&&(a.V=b)&&!a.W&&Il(a,!0);a.V&&a.W&&(Fl(a,!0),a.W=!1)}function Cl(a){var b=0;a.A.length&&a.da&&(b=a.A[0],a.N&&Hl(a.N,b));z(a)&&y(a,"scan code "+t(b)+" available")}
function Il(a,b){0<a.A.length&&(a.A.shift(),(a.da=b)&&(a.A.length&&a.N?Hl(a.N,a.A[0]):b=!1),z(a)&&y(a,"scan codes shifted, notify "+(b?"true":"false")))}m.kc=function(a,b){return!b&&(this.reset(),a&&this.restore&&!this.restore(a))?!1:!0};m.jc=function(a){return a?this.save():!0};m.reset=function(){if(!this.ia&&this.N)switch(this.N.ia){case pk:case 5160:Yl(this,Zl[0]);break;default:Yl(this,Zl[1])}lm(this);this.xc=this.C=0;this.A=[];this.da=!0;this.L=""};
m.save=function(){var a=new hf(this),b=0,c=[];c[b++]=this.U;c[b]=this.V;N(a,0,c);return a.data()};m.restore=function(a){return lm(this,a[0])};function lm(a,b){var c=0;void 0===b&&(b=[]);a.U=a.da=b[c++];a.V=b[c];return!0}function jm(a,b){if(0<a.L.length){var c=a.L.charCodeAt(0);10==c&&(c=13);a.L=a.L.substr(1);gm(a,c,!0)}0<a.L.length&&setTimeout(function(a){return function(){jm(a,b)}}(a),b)}
function hm(a,b,c,d){if(Y[b]){var e=Math.floor(b/1E3)&2;if(b=bm[b]||0){!e||b&85||(b>>=1);if(b&3584){if(!1===d)return!0;d=null}null==d?d=!((c?a.C:a.xc)&b):d||b&255&&(b=255);if(c){a.C&=~b;d&&(a.C|=b);c=b;var f,g;for(g in em)d="led-"+g,e=em[g],c&&c!=e||!(f=a.qa[d])||(f.style.backgroundColor=a.C&e?"#00ff00":"#000000")}else a.xc&=~b,d&&(a.xc|=b);return!0}}return!1}
function gm(a,b,c){if(Y[b]&&a.F&&a.F.la.Ib){bm[b]&&a.B.length&&0<a.B[0].Jd&&(a.B[0].Jd=0);for(var d,e=0;e<a.B.length;e++)if(d=a.B[e],d.Me==b){if(!c||0<=d.Jd){e=-1;break}0<e&&(0<a.B[0].Jd&&(a.B[0].Jd=0),a.B.splice(e,1));break}0>e||(e==a.B.length&&(d={},d.Me=b,d.xc=a.xc,km(a,b,!0),e++),0<e&&a.B.splice(0,0,d),d.Gf=!0,d.Jd=c?-1:bm[b]?0:1,mm(a,d))}}
function im(a,b,c){if(!Y[b]||!(c||a.F&&a.F.la.Ib))return!1;for(var d=!1,e=0;e<a.B.length;e++){var f=a.B[e];if(f.Me==b||f.Me==am[b]){a.B.splice(e,1);f.tk&&clearTimeout(f.tk);f.Gf&&!c&&nm(a,f.Me,!1);km(a,b,!1);d=!0;break}}!a.B.length&&a.ga&&(hm(a,1020),a.ga=!1);return d}function mm(a,b){if(!a.F||!a.F.la.Ib)im(a,b.Me,!0);else if(nm(a,b.Me,b.Gf)&&b.Jd){var c;if(0>b.Jd){if(!b.Gf){im(a,b.Me);return}b.Gf=!1;c=a.pa}else c=1==b.Jd++?500:100;b.tk=setTimeout(function(a){return function(){mm(a,b)}}(a),c)}}
function om(a,b,c){var d=b;if(65<=b&&90>=b)!(a.xc&515)==c&&(d=b+32);else if(97<=b&&122>=b)!!(a.xc&515)==c&&(d=b-32);else if(!!(a.xc&3)==c){if(a=am[b])d=a}else if(a=$l[b])d=a;return d}m.Fg=function(a){a||(this.xc&=-256)};
function fm(a,b,c){var d=!0,e=!1,f=!1,g=b.keyCode,h=om(a,g,!0);a.hh&&h==X["`"]&&(g=h=27);if(Y[g+1E3])if(h+=1E3,2==b.location&&(h+=2E3),hm(a,h,!1,c)){if(20==g||144==g||145==g)a.ja||(c=e=!0);if(!(c||91!=g&&93!=g))for(var k=0;k<a.B.length;k++){var l=a.B[k];l.Gf=!1;0<l.Jd&&(l.Jd=0)}}else 8==g&&8==(a.xc&40)&&(h=4008),d=!1;else if(Y[h]&&a.xc&60&&(d=!1),d&&c||a.xc&192)f=!0;d||b.preventDefault();f||a.fa&&d||(c?gm(a,h,e):im(a,h)||(b=om(a,g,!1),b!=h&&im(a,b)));return d}
function nm(a,b,c){var d=!1;hm(a,b,!0,c);var e=Y[b]||Y[b+1E3];if(void 0!==e){14==e&&40==(a.xc&40)&&(e=83);var d=[],f=e&255;if(83<f&&83==a.ka)return!1;d.push(f|(c?0:128));for(b=65<=b&&90>=b||97<=b&&122>=b;e>>>=8;){var g=0,h=e&255;224==f||225==f?d.push(f|(c?0:128)):(42==h?a.C&3||a.C&512&&b||(g=h):29==h?a.C&12||(g=h):56==h?a.C&48||(g=h):d.push(f|(c?0:128)),g&&(c?d.unshift(g):d.push(g|128)))}for(c=0;c<d.length;c++)e=a,f=d[c],e.A&&(20>e.A.length?(z(e)&&y(e,"scan code "+t(f)+" buffered"),e.A.push(f),1==
e.A.length&&e.N&&Hl(e.N,f)):(20==e.A.length&&e.A.push(255),y(e,"scan code buffer overflow")));d=!0}return d}Qa(function(){for(var a=nb(document,"pcjs","keyboard"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Xl(d);mb(d,c)}});
function Z(a,b,c,d,e){Ua.call(this,"Video",a,Z,262144);this.ia=a.model;this.lb=pm[this.ia]||qm;this.Ed=a.memory||0;this.qf=a.switches;this.wa=a.mode;if(void 0===this.wa||void 0===rm[this.wa])this.wa=sm;this.Yc=a.charCols;this.ie=a.charRows;if(void 0===this.Yc||void 0===this.ie)this.Yc=rm[this.wa][0],this.ie=rm[this.wa][1];this.ua=a.screenWidth;this.Fa=a.screenHeight;this.Rg=a.scale;this.Qg=12<=Math.round(this.ua/this.Yc);this.pa=b;this.ja=c;this.da=(this.xk=d)||b||null;this.bg=a.touchScreen;this.je=
tm;this.V=null;this.Pg=a.autoLock;this.ob=this.bc=0;this.Ma=[];this.Ca=Array(this.lb==Ol?256:16);this.Xb=!1;var f=this;this.He=Ha("Gecko/");b=["","moz","webkit","ms"];if(this.ga=e)if(this.ga.We=e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen,this.ga.We){for(e=0;e<b.length;e++)if(c=b[e]+"fullscreenchange","on"+c in document){document.addEventListener(c,function(){um(f,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||
document.msFullscreenElement?!0:!1)},!1);break}for(e=0;e<b.length;e++)if(c=b[e]+"fullscreenerror","on"+c in document){document.addEventListener(c,function(){um(f,null)},!1);break}}this.da&&(this.da.onfocus=function(){return f.Fg(!0)},this.da.onblur=function(){return f.Fg(!1)},this.da.Ae=this.da.requestPointerLock||this.da.mozRequestPointerLock||this.da.webkitRequestPointerLock,this.da.uk=this.da.exitPointerLock||this.da.mozExitPointerLock||this.da.webkitExitPointerLock,this.da.Ae&&(e=function(){f.Xf(document.pointerLockElement===
f.da||document.mozPointerLockElement===f.da||document.webkitPointerLockElement===f.da)},"onpointerlockchange"in document?document.addEventListener("pointerlockchange",e,!1):"onmozpointerlockchange"in document?document.addEventListener("mozpointerlockchange",e,!1):"onwebkitpointerlockchange"in document&&document.addEventListener("webkitpointerlockchange",e,!1)));if(a=a.fontROM)"json"!=ha(a)&&(a=xa()+"/api/v1/dump?file="+a+"&format=bytes"),wa(a,null,!0,function(a,b,c){vm(f,a,b,c)})}db(Z);
var qm=1,Ol=7,pm={mda:1,cga:3,ega:5,vga:7},sm=7,wm={2:{Bg:15700,Ag:208,Gg:85,Hg:96},3:{Bg:18432,Ag:364,Gg:85,Hg:96},4:{Bg:21850,Ag:364,Gg:85,Hg:96},7:{Bg:16700,Ag:480,Gg:85,Hg:83}},xm={6:[1,3,!0],7:[2,3,!0],8:[6,3,!0],9:[4,3,!0],10:[3,1,!0],11:[3,2,!0],0:[1,3,!1],1:[2,3,!1],2:[6,3,!1],3:[4,3,!1],4:[3,1,!1],5:[3,2,!1]},rm=[,[40,25,1,0,3],,[80,25,1,0,3],[320,200,8,192],,[640,200,16,192]];rm[sm]=[80,25,1,0,1];rm[13]=[320,200,8];rm[14]=[640,200,8];rm[15]=[640,350,8];rm[16]=[640,350,8];
rm[17]=[640,480,8];rm[18]=[640,480,8];rm[19]=[320,200,1];rm[20]=[320,240,4];rm[21]=[320,400,4];rm[0]=rm[1];rm[2]=rm[3];rm[5]=rm[4];
var ym=[[0,0,0,255],[127,192,127,255],[127,192,127,255],[127,255,127,255],[127,255,127,255]],zm=[0,1,2,2,2,2,2,2,0,3,4,4,4,4,4,4],Am=[[0,0,0,255],[0,0,170,255],[0,170,0,255],[0,170,170,255],[170,0,0,255],[170,0,170,255],[170,85,0,255],[170,170,170,255],[85,85,85,255],[85,85,255,255],[85,255,85,255],[85,255,255,255],[255,85,85,255],[255,85,255,255],[255,255,85,255],[255,255,255,255]],Bm=[2,4,6],Cm=[3,5,7],Dm=[0,1,2,3,4,5,20,7,56,57,58,59,60,61,62,63],Em=[0,255,65280,65535,16711680,16711935,16776960,
16777215,-16777216,-16776961,-16711936,-16711681,-65536,-65281,-256,-1],Fm=[0];Fm[128]=1;Fm[32768]=2;Fm[32896]=3;Fm[8388608]=4;Fm[8388736]=5;Fm[8421376]=6;Fm[8421504]=7;Fm[-2147483648]=8;Fm[-2147483520]=9;Fm[-2147450880]=10;Fm[-2147450752]=11;Fm[-2139095040]=12;Fm[-2139094912]=13;Fm[-2139062272]=14;Fm[-2139062144]=15;
function Gm(a,b,c,d){if(void 0!==b&&(!c||c.length)){this.video=a;var e=Hm[b],f=a.za||e[5];if(!c||6>c.length)c=[!1,0,null,null,0,Array(5>b?Im:Jm)];this.ha=a.ha;this.type=e[0];this.port=e[1];this.lb=b;this.ob=e[2];this.bc=e[3];this.Ed=d||e[4];65536<=this.Ed&&720896<=this.ob&&(this.bc=Math.min(this.Ed>>2,32768));this.Fc=c[0];this.hd=c[1];this.sf=c[2];this.ma=c[3];this.Ac=c[4]&255;this.Jg=c[4]>>8&255;this.ub=c[5];this.th=Im;this.jg=Km;if(5<=b){this.th=Jm;this.jg=Lm;b=c[6];void 0===b&&(b=[!1,0,Array(20),
0,3==f?0:1,0,0,Array(5),0,0,0,Array(9),0,[this.ob,this.bc,this.Ed],Array(this.Ed>>2),-2147478512,0,-1,0,-1,0,-1,0,0,0,0,1,255,0,0,0,Array(256)]);this.Xe=b[0];this.Ld=b[1];this.Sc=b[2];this.Xg=Mm;this.Mg=b[3];this.uf=b[4];this.dg=b[5];this.$d=b[6];this.Je=b[7];this.Zg=Nm;this.jk=b[8];this.kk=b[9];this.Zd=b[10];this.Yd=b[11];this.Yg=Om;this.Fb=b[12];d=b[13];"number"==typeof d&&(d=[this.ob,this.bc,d]);this.ob=d[0];this.bc=d[1];d=this.Ed>>2;if((this.sd=b[14])&&this.sd.length<d){for(var e=this.sd,g=0,
h=Array(d),k=0;k<e.length-1;){for(var l=e[k++],n=e[k++];l--;)h[g]=n,g+=2;g==d&&(g=1)}this.sd=h}(d=b[15])&&(d&-2147483648?d&=2147483647:d=Pm[d&65280]|Pm[d&255]);this.Ng(d);this.ji=b[16];this.qb=b[17];this.ed=b[18];this.Mb=b[19];this.Wf=b[20];this.Wd=b[21];this.ne=b[22];this.uh=b[23];this.vh=b[24];this.Zf=b[25];this.ki=this.of=0;this.lb==Ol&&(this.ri=b[26],this.pi=b[27],this.od=b[28],this.Ic=b[29],this.Kg=b[30],this.tf=b[31])}f=wm[f]||wm[3];this.wh=a.F.X.Hd/f.Bg|0;this.im=this.wh*f.Gg/100|0;this.zh=
this.wh*f.Ag|0;this.km=this.zh*f.Hg/100|0;this.Bh=c[7]||0}}
var Im=18,Jm=25,Km="HTOTAL HDISP HSYNC_POS HSYNC_WIDTH VTOTAL VTOTAL_ADJ VDISP VSYNC_POS INTERLACE_POS MAX_SCAN CURSOR_START CURSOR_END START_ADDR_HI START_ADDR_LO CURSOR_ADDR_HI CURSOR_ADDR_LO LIGHT_PEN_HI LIGHT_PEN_LO".split(" "),Lm="HTOTAL HDISP_END HBLANK_START HBLANK_END HRETRACE_START HRETRACE_END VTOTAL OVERFLOW PRESET_SCAN MAX_SCAN CURSOR_START CURSOR_END START_ADDR_HI START_ADDR_LO CURSOR_ADDR_HI CURSOR_ADDR_LO VRETRACE_START VRETRACE_END VDISP_END OFFSET UNDERLINE VBLANK_START VBLANK_END MODE_CTRL LINE_COMPARE".split(" "),Mm=
"PAL00 PAL01 PAL02 PAL03 PAL04 PAL05 PAL06 PAL07 PAL08 PAL09 PAL0A PAL0B PAL0C PAL0D PAL0E PAL0F MODE OVERSCAN PLANES HPAN".split(" "),Nm=["RESET","CLOCKING","MAPMASK","CHARMAP","MEMMODE"],Om="SRESET ESRESET COLORCMP DATAROT READMAP MODE MISC COLORDC BITMASK".split(" "),Pm=[,,1024,5120];Pm[16]=1280;Pm[512]=0;Pm[1024]=32;Pm[1536]=96;Pm[2560]=160;Pm[3584]=224;Pm[768]=16;Pm[4096]=1;Pm[8192]=2;Pm[24576]=98;Pm[40960]=162;Pm[57344]=226;var Qm=[];
Qm[1024]=function(a){a+=this.C;return(this.controller.Fb=this.ca[a])>>this.controller.ji&255};Qm[17408]=function(a){return(this.controller.Fb=this.ca[(a&-4)+this.C])>>((a&3)<<3)&255};Qm[5120]=function(a){a+=this.C;var b=this.controller.Fb=this.ca[a&-2];return(a&1?b>>8:b)&255};Qm[1280]=function(a){a+=this.C;a=this.controller.Fb=this.ca[a];for(var b=this.controller.vh,c=this.controller.uh&b,d=0,e=128;e;)(a&b)==c&&(d|=e),c>>>=1,b>>>=1,e>>=1;return d};
Qm[0]=function(a,b){var c=a+this.C,d;d=(b|b<<8|b<<16|b<<24)&this.controller.Wd|this.controller.ne;d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[32]=function(a,b){var c=a+this.C;b=b>>this.controller.ed|b<<8-this.controller.ed&255;var d;d=(b|b<<8|b<<16|b<<24)&this.controller.Wd|this.controller.ne;d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[96]=function(a,b){var c=a+this.C;b=b>>this.controller.ed|b<<8-this.controller.ed&255;var d;d=(b|b<<8|b<<16|b<<24)&this.controller.Wd|this.controller.ne;d&=this.controller.Fb;d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[160]=function(a,b){var c=a+this.C;b=b>>this.controller.ed|b<<8-this.controller.ed&255;var d;d=(b|b<<8|b<<16|b<<24)&this.controller.Wd|this.controller.ne;d|=this.controller.Fb;d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[224]=function(a,b){var c=a+this.C;b=b>>this.controller.ed|b<<8-this.controller.ed&255;var d;d=(b|b<<8|b<<16|b<<24)&this.controller.Wd|this.controller.ne;d^=this.controller.Fb;d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};Qm[4]=function(a,b){var c=(a&-4)+this.C,d=(a&3)<<3,d=b<<d&this.controller.qb|this.ca[c]&~(255<<d&this.controller.qb);this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[16]=function(a,b){a+=this.C;var c,d=a&-2;c=(b|b<<8|b<<16|b<<24)&this.controller.Mb|this.controller.Fb&~this.controller.Mb;var e=this.controller.qb&(d==a?16711935:-16711936);c=c&e|this.ca[d]&~e;this.ca[d]!=c&&(this.ca[d]=c,this.Ua=!0)};Qm[1]=function(a){a=a+this.C;var b=this.ca[a]&~this.controller.qb|this.controller.Fb&this.controller.qb;this.ca[a]!=b&&(this.ca[a]=b,this.Ua=!0)};
Qm[17]=function(a){a+=this.C;var b=a&-2;a=this.controller.qb&(b==a?16711935:-16711936);a=this.ca[b]&~a|this.controller.Fb&a;this.ca[b]!=a&&(this.ca[b]=a,this.Ua=!0)};Qm[2]=function(a,b){var c=a+this.C,d=Em[b&15],d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb,d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[98]=function(a,b){var c=a+this.C,d=Em[b&15],d=d&this.controller.Fb,d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb,d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};Qm[162]=function(a,b){var c=a+this.C,d=Em[b&15],d=d|this.controller.Fb,d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb,d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
Qm[226]=function(a,b){var c=a+this.C,d=Em[b&15],d=d^this.controller.Fb,d=d&this.controller.Mb|this.controller.Fb&~this.controller.Mb,d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};Qm[3]=function(a,b){var c=a+this.C;b=b>>this.controller.ed|b<<8-this.controller.ed&255;var d;d=(b|b<<8|b<<16|b<<24)&this.controller.Mb;d=this.controller.Wf&d|this.controller.Fb&~d;d=d&this.controller.qb|this.ca[c]&~this.controller.qb;this.ca[c]!=d&&(this.ca[c]=d,this.Ua=!0)};
function Rm(a){var b=[];if(void 0!==a.lb){b[0]=a.Fc;b[1]=a.hd;b[2]=a.sf;b[3]=a.ma;b[4]=a.Ac|a.Jg<<8;b[5]=a.ub;if(5<=a.lb){var c=[];c[0]=a.Xe;c[1]=a.Ld;c[2]=a.Sc;c[3]=a.Mg;c[4]=a.uf;c[5]=a.dg;c[6]=a.$d;c[7]=a.Je;c[8]=a.jk;c[9]=a.kk;c[10]=a.Zd;c[11]=a.Yd;c[12]=a.Fb;c[13]=[a.ob,a.bc,a.Ed];var d;a:if(d=a.sd){var e=0,f=[];if(void 0!==d[0])for(var g=0;2>g;g++)for(var h=g;h<d.length;){for(var k=d[h],l=h+2;l<d.length&&d[l]===k;)l+=2;f[e++]=l-h>>1;f[e++]=k;h=l}if(f.length<d.length){d=f;break a}}c[14]=d;c[15]=
a.vg|-2147483648;c[16]=a.ji;c[17]=a.qb;c[18]=a.ed;c[19]=a.Mb;c[20]=a.Wf;c[21]=a.Wd;c[22]=a.ne;c[23]=a.uh;c[24]=a.vh;c[25]=a.Zf;a.lb==Ol&&(c[26]=a.ri,c[27]=a.pi,c[28]=a.od,c[29]=a.Ic,c[30]=a.Kg,c[31]=a.tf);b[6]=c}b[7]=a.Bh}return b}function Sm(a,b,c,d,e){if(d){var f,g="";for(f=0;f<e.length;f++)g&&(g+="\n"),g+=b+"["+t(f)+"]: "+la(e[f],19)+t(d[f])+(f===c?"*":"");a.ha.O(g)}else a.ha.O(b+": "+t(c))}Gm.prototype.Vi=function(a){return[this.sd,a-this.ob]};Gm.prototype.lh=function(){return this.A};
Gm.prototype.Ng=function(a){if(null!=a&&a!=this.vg){var b=a&65280,c=Qm[b];c||b&4096&&(c=Qm[4096]);var b=a&255,d=Qm[b];d||b&16&&(d=Qm[16]);this.A||(this.A=Array(6));this.A[0]=c;this.A[3]=d;this.vg=a}};var Hm=[];Hm[qm]=["MDA",948,720896,4096,0,3];Hm[3]=["CGA",980,753664,16384,0,2];Hm[5]=["EGA",980,753664,16384,65536,4];Hm[Ol]=["VGA",980,753664,16384,262144,7];var tm=0;m=Z.prototype;
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;3!=pm[this.ia]&&(hc(b,this,Tm),lc(b,this,Um));pm[this.ia]!=qm&&(hc(b,this,Vm),lc(b,this,Wm));5<=this.lb&&(hc(b,this,Xm),lc(b,this,Ym));this.lb==Ol&&(hc(b,this,Zm),lc(b,this,$m));if(d){var e=this;Ek(d,262144,function(a){if(e.B)if(a[0]){var b=e.B;if(b.sd){var c,d,f,q=!1,p=8,A=8,F=-1,v=b.video.L>>3;for(c=0;c<a.length;c++){var D=a[c];if(c){var H=D.charAt(0);d=ca(D.substr(1));switch(H){case "l":p=d;break;case "n":1<=d&&8>=d&&(A=d,q=!0);break;case "p":0<=
d&&3>=d&&(F=d);break;case "w":d<v&&(v=d);break;default:b.ha.O("unrecognized argument: "+D)}}else f=ca(D)}void 0===f?f=b.B||0:f>=b.ob&&(f-=b.ob);a="";for(c=0;c<p;c++){D=r(b.ob+f)+":";for(d=0;d<A&&f<b.sd.length;d++)H=b.sd[f++],D+=" "+(0>F?r(H):da(H>>(F<<3),8));q&&(f+=v-A);a&&(a+="\n");a+=D}a&&b.ha.O(a);b.B=f}else b.ha.O("no buffer")}else e.ha.O("BIOSMODE: "+t(e.Ha)),b=e.B,Sm(b,"CRTC",b.Ac,b.ub,b.jg),5<=b.lb&&(Sm(b," GRC",b.Zd,b.Yd,b.Yg),Sm(b," SEQ",b.$d,b.Je,b.Zg),Sm(b," ATC",b.Ld,b.Sc,b.Xg),Sm(b,"   ATCINDX",
b.Ld),b.ha.O("   ATCDATA: "+b.Xe),Sm(b,"      FEAT",b.dg),Sm(b,"      MISC",b.uf),Sm(b,"   STATUS0",b.Mg)),Sm(b,"   STATUS1",b.ma),b.lb!=qm&&3!=b.lb||Sm(b,"   MODEREG",b.hd),3==b.lb&&Sm(b,"     COLOR",b.sf),5<=b.lb&&(b.ha.O("   LATCHES: 0x"+r(b.Fb)),b.ha.O("    ACCESS: "+u(b.vg)),b.ha.O("Use 'dump video [addr]' to dump video memory"));else e.ha.O("no active video card")})}if((this.C=Eb(a,"Keyboard"))&&this.pa){for(var f in this.qa)0<f.indexOf("lock")&&this.C.Pb("led",f,this.qa[f]);this.C.Pb(this.xk?
"textarea":"canvas","kbd",this.da)}this.Uc=9;(this.N=Eb(a,"ChipSet"))&&this.qf&&5==this.lb&&(this.Uc=rk(this.qf,this.Uc));"mouse"==this.bg?(this.V=Eb(a,"Mouse"))&&an(this,2):"keygrid"==this.bg&&this.C&&an(this,1)};
m.Pb=function(a,b,c){var d=this;if(!this.qa[b])switch(this.qa[b]=c,b){case "fullScreen":return this.ga&&this.ga.We?c.onclick=function(){d.We()}:c.parentNode.removeChild(c),!0;case "lockPointer":return this.Tg=c.textContent,this.da&&this.da.Ae?c.onclick=function(){d.Ae(!0)}:c.parentNode.removeChild(c),!0;case "refresh":return c.onclick=function(){Xc(d,!0)},!0}return!1};m.Tc=function(){this.da&&this.da.focus()};
m.We=function(){var a=!1;if(this.ga){if(this.ga.We){a="100%";if(screen&&screen.width&&screen.height){var b=screen.width/screen.height,c=this.ua/this.Fa;b>c&&(a=Math.round(c/b*100)+"%")}this.He?(this.pa.style.width=a,this.pa.style.width=a,this.pa.style.display="block",this.pa.style.margin="auto"):(this.ga.style.width=a,this.ga.style.height="auto");this.ga.style.backgroundColor="black";this.ga.We();a=!0}this.Tc()}return a};
function um(a,b){!b&&a.ga&&(a.He?a.pa.style.width=a.pa.style.height="":a.ga.style.width=a.ga.style.height="");y(a,"notifyFullScreen("+b+")",!0);a.C&&(a.C.hh=b)}m.Ae=function(a){var b=!1;this.da&&(a?this.da.Ae&&(this.da.Ae(),this.V&&this.V.Xf(!0),b=!0):this.da.uk&&(this.da.uk(),this.V&&this.V.Xf(!1),b=!0),this.Tc());return b};m.Xf=function(a){this.V&&(this.V.Xf(a),this.C&&(this.C.hh=a));var b=this.qa.lockPointer;b&&(b.textContent=a?"Press Esc to Unlock Pointer":this.Tg)};
function an(a,b){var c=a.da;c&&!a.je&&(c.addEventListener("touchstart",function(b){bn(a,b,!0)},!1),c.addEventListener("touchmove",function(b){bn(a,b)},!0),c.addEventListener("touchend",function(b){bn(a,b,!1)},!1),a.je=b,a.cc=a.dc=a.gg=-1,a.Gd=!1,a.Wc=null,a.xd=!1,a.Sg=function(){a.xd=!0;a.V.ge(cn,!0)})}m.Fg=function(a){this.C&&this.C.Fg(a)};
function bn(a,b,c){var d,e,f=0,g=0;e=a.pa;do isNaN(e.offsetLeft)||(f+=e.offsetLeft,g+=e.offsetTop);while(e=e.offsetParent);var h=a.ua/a.pa.offsetWidth,k=a.Fa/a.pa.offsetHeight;b.targetTouches&&b.targetTouches.length?(d=b.targetTouches[0].pageX,e=b.targetTouches[0].pageY):(d=b.pageX,e=b.pageY);d=(d-f)*h;e=(e-g)*k;if(1==a.je)d=d/(a.ua/3)|0,e=e/(a.Fa/3)|0,1!=e?e?gm(a.C,1040,!0):gm(a.C,1038,!0):1!=d&&(d?gm(a.C,1039,!0):gm(a.C,1037,!0));else if(a.V){g=a.Gd;f=b.timeStamp-a.gg;!0===c?(a.Gd=500<f,a.gg=b.timeStamp,
a.Wc=setTimeout(a.Sg,500)):null!=a.Wc&&(clearTimeout(a.Wc),a.Wc=null);void 0===c&&(a.Gd=!1);g||b.preventDefault();if(!1===c){a.xd?(a.V.ge(cn,!1),a.xd=!1,b=!0):b=!1;if(b)return;if(200>f){a.V.ge(cn,!0);a.V.ge(cn,!1);return}}if(c||0>a.cc||0>a.dc)a.cc=d,a.dc=e;c=Math.round(d-a.cc);b=Math.round(e-a.dc);a.cc=d;a.dc=e;a.V.Jf(c,b,a.cc,a.dc)}}m.kc=function(a,b){if(!b)if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};
m.reset=function(){var a=!0,b=0;this.N&&(b=Nk(this.N));this.ia||(this.lb=3==b?qm:3);this.wa=3;switch(this.lb){case Ol:b=7;break;case 5:var c=xm[this.Uc];c&&(b=c[0]);b||(b=4);break;case qm:b=3;this.wa=sm;break;default:b=2}this.za!==b&&(this.za=b,a=!0);this.B=null;this.sa=this.rd=new Gm(this,qm);this.Y=this.Vc=new Gm(this,3);5>this.lb?this.A=new Gm:(this.A=new Gm(this,this.lb,null,this.Ed),dn(this));en(this);this.Ha=null;this.bb=this.ka=-1;this.Ra=0;fn(this,this.wa);if(this.B.ob&&a){a=this.B.ob+this.Kb;
for(b=this.B.ob;b<a;b+=2){var d=65536*Math.random()|0;4==this.za||7==this.za?(c=b>>1&255,d=d>>8&-129,d>>4==(d&15)&&(d^=15)):(c=d&255,d=(d&256?7:112)|8&d>>8);fc(this.ea,b,c|d<<8)}Xc(this,!0)}};function dn(a){a.A.uf&1?(a.sa=a.rd,a.Y=a.A):(a.sa=a.A,a.Y=a.Vc)}m.save=function(){var a=new hf(this);N(a,0,Rm(this.rd));N(a,1,Rm(this.Vc));N(a,2,[this.za,this.wa,this.Ha]);N(a,3,Rm(this.A));return a.data()};
m.restore=function(a){var b=a[2];this.za=b[0];this.wa=b[1];this.Ha=b[2];this.B=null;this.sa=this.rd=new Gm(this,qm,a[0]);this.Y=this.Vc=new Gm(this,3,a[1]);this.A=new Gm(this,this.lb,a[3],this.Ed);this.A.Fc&&dn(this);en(this);if(!gn(this))return!1;hn(this);return!0};
function vm(a,b,c,d){if(d)a.Oa("Unable to load font ROM (error "+d+": "+b+")");else{fb(a.ve,b,c);try{var e=eval("("+c+")");if(!e.length){w("Empty font ROM: "+b);return}if(1==e.length){w(e[0]);return}if(8192==e.length)Nl(a,e,[6144,0]);else{a.Oa("Unrecognized font data length ("+e.length+")");return}}catch(f){a.Oa("Font ROM data error: "+f.message);return}(a.ja||a.ha)&&sb(a)}}
function jn(a,b){if(1==b)return a.Ca[0]=Am[0],a.Ca[1]=Am[7],a.Ca;if(2==b){var c=a.B.sf;if(a.B===a.A){var d=a.A.Sc[0],c=d&7;d&16&&(c|=8);18!=a.A.Sc[1]&&(c|=32)}a.Ca[0]=Am[c&15];c=c&32?Cm:Bm;for(d=0;d<c.length;d++)a.Ca[d+1]=Am[c[d]];return a.Ca}if(a.Y===a.Vc)return Am;a.Xb&&b&&!a.Ca[16]&&(a.Xb=!1);if(!a.Xb){var c=a.A,d=c.tf,e,f,g,h,k;if(8==b)for(f=0;256>f;f++)g=d[f]||0,h=g<<2&252,k=g>>4&252,g=g>>10&252,a.Ca[f]=[h,k,g,255];else{var l=d&&d[255];e=null!=c.Sc[15]?c.Sc:Dm;for(f=0;16>f;f++)g=e[f]&63,l?(g|=
(c.Sc[20]&12)<<4,c.Sc[16]&128&&(g&=-49,g|=(c.Sc[20]&3)<<4),g=d[g],h=g<<2&252,k=g>>4&252,g=g>>10&252):(h=(g&4?170:0)|(g&32?85:0),k=(g&2?170:0)|(g&16?85:0),g=(g&1?170:0)|(g&8?85:0)),a.Ca[f]=[h,k,g,255]}a.Xb=!0}return a.Ca}function Nl(a,b,c,d){a.Jc=b;a.jd=c;a.jb=d}
function en(a,b){var c=!1;if(window&&a.Jc&&(!b||a.U)){var d=0,e=a.jb?a.jb:8,f=jn(a);kn(a,3,a.jd[0],d,e,8,a.Jc,f)&&(c=!0);d=a.jb?0:2048;e=a.jb?a.jb:9;kn(a,1,a.jd[1],d,e,14,a.Jc,ym,zm)&&(c=!0);a.jb&&kn(a,a.lb,a.jd[1],0,a.jb,14,a.Jc,f)&&(c=!0)}return c}function kn(a,b,c,d,e,f,g,h,k){var l=!1;null!=c&&(ln(a,b,c,d,e,f,g,h,k)&&(l=!0),a.Qg&&ln(a,b<<1,c,d,e,f,g,h,k)&&(l=!0));return l}
function ln(a,b,c,d,e,f,g,h,k){var l=!1,n=b&1?0:1,q=a.Ma[b],p=16>h.length?h.length:16;q||(q={Pc:e<<n,Qc:f<<n,Oe:Array(p),xi:h.slice(0,p),Bf:k,Wg:Array(p)});for(k=0;k<p;k++){var A=h[k],F=q.Oe[k]?q.xi[k]:[];if(A[0]!==F[0]||A[1]!==F[1]||A[2]!==F[2]){var l=q,F=k,v=n,D=c,H=d,L=e,V=f,Q=g,$a=[0,0,0,0],ma=document.createElement("canvas");ma.width=l.Pc<<4;ma.height=l.Qc<<4;for(var ga=ma.getContext("2d"),Ga=void 0,Wa=void 0,Ba=void 0,Pb=8>V||!H?V:8,va=ga.createImageData(l.Pc,l.Qc),Ga=0;256>Ga;Ga++){for(Ba=
0;Ba<V;Ba++)for(var Rd=l.Bf&&F&1&&Ba>=V-2,Qc=Q[Ba<Pb?D+Ga*Pb+Ba:H+Ga*Pb+Ba-Pb],Sd=0;Sd<=v;Sd++)for(Wa=0;Wa<L;Wa++){var Ie=Wa<<v,Td=(Ba<<v)+Sd,Je=Rd||Qc&128>>(8<=Wa&&192<=Ga&&223>=Ga?7:Wa)?A:$a;mn(va,Ie,Td,Je);v&&mn(va,Ie+1,Td,Je)}ga.putImageData(va,(Ga&15)*l.Pc,(Ga>>4)*l.Qc)}l.Oe[F]="#"+r(A[0],2)+r(A[1],2)+r(A[2],2);l.xi[F]=A;l.Wg[F]=ma;l=!0}}a.Ma[b]=q;return l}function nn(a){0<a.Ra||0<=a.ka?0>a.bb&&(a.bb=0):a.bb=-1}
function hn(a){if(a.U){for(var b=10;15>=b;b++)if(null==a.B.ub[b])return;var c=a.B.ub[10],b=c&31,d=a.B.ub[11]&31,e=a.B.ub[9]&31,f=!1;a.B===a.A&&(f=!0,7!=e||4!=b||d||(d=7));if(c&32||b>d&&!f||b>e)on(a);else{c=a.B.ub[15]+((a.B.ub[14]&63)<<8);a.ka!=c&&(on(a),a.ka=c);d=d-b+1;if(a.hg!=b||a.ze!=d)a.hg=b,a.ze=d;a.Wa=e+1;nn(a)}}}
function on(a){if(0<=a.ka){if(void 0!==a.fa){var b=a.fa[a.ka];if(b&131072){var b=b&-131073,c=a.ka%a.L,d=a.ka/a.L|0;a.U&&a.Ma[a.U]&&(a.fb&&pn(a,c,d,b,a.fb),pn(a,c,d,b));a.fa[a.ka]=b}}a.ka=-1}}
function qn(a){var b,c=a.B;a.Ce=!1;var d=c.Yd[5];if(null!=d){b=1024;var e=0,f=c.Yd[3]&31;switch(d&3){case 0:if(f){e=32;switch(f&24){case 8:e=96;break;case 16:e=160;break;case 24:e=224}c.ed=f&7}break;case 1:e=1;break;case 2:switch(f&24){default:e=2;break;case 8:e=98;break;case 16:e=162;break;case 24:e=226}break;case 3:a.lb==Ol&&(e=3,c.ed=f&7)}d&8&&(b=1280);c=c.Je[4];null!=c&&(c&4||(b|=4096,e|=16),d&64&&(c&8&&(b|=16384,e|=4),a.Ce=!0));b|=e}return b}
function rn(a,b){var c=a.B;return c&&null!=b&&b!=c.vg?(c.Ng(b),a.ea.Ng(c.ob,c.bc,c.lh(),!0),!0):!1}
function gn(a,b){var c,d=a.Ha,e=a.B;if(e)if(e.lb==qm)d=sm;else if(5<=e.lb){var d=null,f=e.Ed>>2,g=32768<f?32768:f,h=e.Yd[6];if(null!=h){switch(h&12){case 0:e.ob=655360;e.bc=f;d=255;break;case 4:e.ob=655360;e.bc=f;d=3==a.za?15:16;break;case 8:e.ob=720896;e.bc=g;d=sm;break;case 12:e.ob=753664,e.bc=g,d=3==a.za?2:3}var k=80==(e.Yd[5]&80);!k||e.ob==a.ob&&e.bc==a.bc||(b=!0);c=e.Je[1]&8;f=e.ub[6];f|=e.ub[7]&1?256:0;e.lb==Ol&&(f|=e.ub[7]&32?512:0);g=e.ub[9];255!=d&&(h&1?655360!=e.ob&&!k&&350>f?d=c?7-d:6:
e.Yd[5]&64?d=g&31?143>=e.ub[18]?19:20:21:g&128||350>f?d=c?13:14:480<=f&&(d=3==a.za?17:18):d-=c?2:0);c=qn(a)}}else e.hd&8&&(e.hd&2?(d=e.hd&16?6:5,e.hd&4||--d):(d=e.hd&1?3:1,e.hd&4&&--d));else a.Ha=null,null==d&&(d=a.wa);if(!fn(a,d,b))return!1;rn(a,c);return!0}
function fn(a,b,c){if(null!=b&&(b!=a.Ha||c)){a.Og=0;a.Ha=b;a.Xb=!1;b=a.B||(b==sm?a.sa:a.Y);if(b!=a.B||b.ob!=a.ob||b.bc!=a.bc){on(a);if(a.ob){if(!Zb(a.ea,a.ob,a.bc))return!1;a.B&&(a.B.Fc=!1)}a.B=b;b.Fc=!0;a.ob=b.ob;a.bc=b.bc;if(!Tb(a.ea,b.ob,b.bc,3,b===a.A?b:null))return!1}a.U=0;a.L=a.Yc;a.W=a.ie;a.sb=a.L;a.Xc=rm[sm][2];b=0;if(c=rm[a.Ha])a.L=c[0],a.W=c[1],a.Xc=c[2],b=c[3],a.U=c[4],4!=a.za&&7!=a.za||a.B!==a.A||3!=a.U||(7==a.A.ub[9]?a.W=43:a.U=a.lb);a.pf=a.L*a.W|0;a.Ie=a.pf/a.Xc|0;a.Kb=a.Ie;a.qd=0;void 0!==
b&&(a.Kb=(a.Kb<<1)+b|0,a.qd=a.Kb+b>>1);a.Ma.length&&(a.Ja=a.ua/a.L|0,a.Ka=a.Fa/a.W|0,a.U?(b=a.Ma[a.U],c=a.Ma[a.U<<1],a.Rg&&80==a.L?c&&a.Ja>=3*c.Pc>>2&&(a.U<<=1,b=c):(c&&a.Ja>=c.Pc&&(a.U<<=1,b=c),b&&(a.Ja=b.Pc,a.Ka=b.Qc)),a.Qb=a.Rb=0,b&&(a.Qb=a.L*b.Pc,a.Rb=a.W*b.Qc)):(a.Ja=a.Ka=1,a.Qb=a.L,a.Rb=a.W),a.rb=a.ja.createImageData(a.Qb,a.Rb),a.cb=document.createElement("canvas"),a.cb.width=a.Qb,a.cb.height=a.Rb,a.fb=a.cb.getContext("2d"),a.ke=a.le=0,a.td=a.ua,a.ud=a.Fa,b=a.ua-a.L*a.Ja,c=a.Fa-a.W*a.Ka,0<b&&
(a.ke=b>>1,a.td-=b),0<c&&(a.le=c>>1,a.ud-=c),b||c)&&(a.ja.fillStyle=a.pa.style.backgroundColor,a.ja.fillRect(0,0,a.ua,a.Fa));Nn(a,!0);Xc(a)}return!0}function mn(a,b,c,d){b=(b+c*a.width)*d.length;a.data[b]=d[0];a.data[b+1]=d[1];a.data[b+2]=d[2];a.data[b+3]=d[3]}function On(a){a.Ra=-1;a.Ga=!1;var b=a.Ie;if(void 0===a.fa||a.fa.length!=b)a.fa=Array(b)}function Nn(a,b){b||(a.Xb=!1);On(a)}
function pn(a,b,c,d,e){var f=d&255,g=d>>8;d=g&15;var h=a.Ma[a.U];h.Bf&&(d=h.Bf[d]);var k=g>>4&15;h.Bf&&(k=h.Bf[k]);e?(b*=h.Pc,c*=h.Qc,e.fillStyle=h.Oe[k],e.fillRect(b,c,h.Pc,h.Qc)):(b=b*a.Ja+a.ke,c=c*a.Ka+a.le,a.ja.fillStyle=h.Oe[k],a.ja.fillRect(b,c,a.Ja,a.Ka));g&256&&(k=(f&15)*h.Pc,f=(f>>4)*h.Qc,e?e.drawImage(h.Wg[d],k,f,h.Pc,h.Qc,b,c,h.Pc,h.Qc):a.ja.drawImage(h.Wg[d],k,f,h.Pc,h.Qc,b,c,a.Ja,a.Ka));g&512&&(f=a.hg,g=a.ze,e?(a.Wa&&a.Wa!==h.Qc&&(f=f*h.Qc/a.Wa|0,g=g*h.Qc/a.Wa|0),e.fillStyle=h.Oe[d],
e.fillRect(b,c+f,h.Pc,g)):(a.Wa&&a.Wa!==a.Ka&&(f=f*a.Ka/a.Wa|0,g=g*a.Ka/a.Wa|0),a.ja.fillStyle=h.Oe[d],a.ja.fillRect(b,c+f,a.Ja,g)))}
function Xc(a,b){if(a.la.ec){var c=!1,d=a.B;d&&(d!==a.A?d.hd&8&&(c=!0):d.Ld&32&&(c=!0));if(c||b){if(b)On(a);else if(void 0===a.fa)return;var e=!1;!(b||++a.Og&15)&&0<=a.bb&&(a.bb++,e=!0);var f=0,g=a.pf,h=a.ob,c=h,k=c+a.bc;19<=a.Ha&&(h=c=655360,k=c+65536);if(Pn(a,d)&8||d.of&&d.of<d.ki)d.Zf=(d.ub[12]<<8)+d.ub[13]|0,d.of=0;var l=d.Zf;a.U&&(l<<=1);c+=l;l=a.Kb;5<=a.lb&&d.ub[19]&&d.ub[19]<<1!=d.ub[1]+1&&(a.sb=d.ub[19]<<(a.U?1:d.ub[20]&64?3:4),l=(a.sb*(a.W-1)+a.L)/a.Xc|0,a.Ha<=sm&&(l<<=1));c+l>k&&(l=k-c,
0>l&&(l=0));k=c+l;if(d=!b&&a.Ga){for(var d=a.ea,n=!0,q=c>>>d.La;0<l&&q<d.ra.length;)d.ra[q].Ua&&(d.ra[q].Ua=n=!1,d.ra[q].Qi=!0),l-=d.Jb,q++;d=n}if(d){if(!e)return;if(!a.Ra){if(0>a.ka)return;f=a.ka;g=f+1}}if(a.U){if(a.Ma[a.U]){e=0;h=a.Ra=0;d=1048575;l=a.B.hd&32;5<=a.lb&&(l=a.B.Sc[16]&8);l&&(h=32768,d&=~h,a.bb&2||(d&=-65537));for(c+=f<<1;c<k&&f<g;)l=ec(a.ea,c),l|=65536,l&h&&(a.Ra++,l&=d),f==a.ka&&(l|=a.bb&1?131072:0),a.Ga&&l===a.fa[f]||(pn(a,f%a.L,f/a.L|0,l,a.fb),a.fa[f]=l,e++),c+=2,f++;a.Ga=!0;e&&
a.fb&&a.ja.drawImage(a.cb,0,0,a.Qb,a.Rb,a.ke,a.le,a.td,a.ud);nn(a)}}else if(a.qd){for(var g=k,p,k=c,f=a.Ra=0,e=a.Xc,h=16==e?65536:196608,d=16==e?1:2,l=jn(a,d),q=n=0,A=a.L,F=0,v=a.W,D=0;k<g;){p=ec(a.ea,k);if(a.Ga&&p===a.fa[f])n+=e;else{a.fa[f]=p;p=p>>8|(p&255)<<8;var H=h,L=16;n<A&&(A=n);for(var V=0;V<e;V++){var Q=(p&(H>>=d))>>(L-=d);mn(a.rb,n++,q,l[Q])}n>F&&(F=n);q<v&&(v=q);q>=D&&(D=q+1)}k+=2;f++;if(n>=a.L){n=0;q+=2;if(q>a.W)break;q==a.W&&(q=1,k=c+a.qd)}}a.Ga=!0;A<a.L&&(a.fb.putImageData(a.rb,0,0,
A,v,F-A,D-v),a.ja.drawImage(a.cb,0,0,a.L,a.W,0,0,a.ua,a.Fa))}else if(a.Ce){g=h;e=a.Ra=0;h=jn(a,8);d=a.B.sd;n=l=0;q=a.L;A=0;F=a.W;v=0;D=a.B.Je[4]&8?4:1;p=a.B.Sc[19]&15;for(H=a.sb>a.L?a.sb-a.L-p>>3:0;c<k;){f=d[c-g];V=4;p||(a.Ga&&f===a.fa[e]?(l+=V,V=0):a.fa[e]=f,e++);if(V){l<q&&(q=l);for(L=0;L<V;L++)mn(a.rb,l++,n,h[f&255]),f>>=8;l>A&&(A=l);n<F&&(F=n);n>=v&&(v=n+1)}c+=D;if(l>=a.L){l=0;if(++n>a.W)break;c+=H}}p||(a.Ga=!0);q<a.L&&(a.fb.putImageData(a.rb,0,0,q,F,A-q,v-F),a.ja.drawImage(a.cb,0,0,a.L,a.W,0,
0,a.ua,a.Fa))}else{g=h;f=a.Ra=0;e=jn(a);h=a.B.sd;l=d=0;n=a.L;q=0;A=a.W;F=0;v=a.B.Sc[19]&15;for(D=a.sb>a.L?a.sb-a.L-v>>3:0;c<k;){p=c++-g;p=h[p];L=8;v?d?(H=a.L-d,L>H&&(L=H)):(p<<=v,L-=v,a.Ga=!1):(a.Ga&&p===a.fa[f]?(d+=L,L=0):a.fa[f]=p,f++);if(L){d<n&&(n=d);for(H=0;H<L;H++)V=Fm[p&-2139062144]||0,mn(a.rb,d++,l,e[V]),p<<=1;d>q&&(q=d);l<A&&(A=l);l>=F&&(F=l+1)}if(d>=a.L){d=0;if(++l>a.W)break;c+=D}}v||(a.Ga=!0);n<a.L&&(a.fb.putImageData(a.rb,0,0,n,A,q-n,F-A),a.ja.drawImage(a.cb,0,0,a.L,a.W,0,0,a.ua,a.Fa))}}}}
function Pn(a,b){var c=0,d=Vc(a.F)-b.Bh;0>d&&(b.Bh=d,d=-d|0);d%b.wh>b.im&&(c|=1);d%b.zh>b.km&&(c|=9);b.ki=d/b.zh|0;return c}m.El=function(a,b){return Qn(this,this.sa,a,b)};m.Ym=function(a,b,c){var d=this.sa;d.Jg=d.Ac;d.Ac=b&31;x(this,a,b,c,"CRTC.INDX")};m.Dl=function(a,b){return Rn(this,this.sa,a,b)};m.Xm=function(a,b,c){Sn(this,this.sa,a,b,c)};m.Fl=function(a,b){return Tn(this,this.sa,b)};m.Zm=function(a,b,c){a=this.sa;x(this,a.port+4,b,c,"MODE");a.hd=b;gn(this,!1)};
m.Gl=function(a,b){return Un(this,this.sa,b)};m.ik=function(a,b,c){this.A.dg=this.A.dg&-4|b&3;x(this,a,b,c,"FEAT")};m.dl=function(a,b){var c=this.A.Ld;b&&!z(this)||x(this,960,null,b,"ATC.INDX",c);return c};m.Ek=function(a,b){var c=this.A.Sc[this.A.Ld&31];b&&!z(this)||x(this,960,null,b,"ATC."+this.A.Xg[this.A.Ld&31],c);return c};
m.hk=function(a,b,c){var d=this.A,e=d.Ld&32;if(d.Xe){d.Xe=!1;var f=d.Ld&31;if(16<=f||!e)c&&!z(this)||x(this,a,b,c,"ATC."+d.Xg[f]),d.Sc[f]=b,Nn(this,!1)}else d.Ld=b,x(this,a,b,c,"ATC.INDX"),d.Xe=!0,b&32&&!e&&en(this,!0)&&Xc(this,!0),d.Zf=(d.ub[12]<<8)+d.ub[13]|0,d.of=0};m.Rl=function(a,b){var c=0;if(5==this.lb)c=3-((this.A.uf&12)>>2),c=(this.Uc&1<<c)<<4-c;else{var d=this.A.tf[0];45!=(d&63)&&2880!=(d&4032)&&184320!=(d&258048)&&(c|=16)}c|=this.A.Mg&-17;this.A.Mg=c;x(this,962,null,b,"STATUS0",c);return c};
m.$m=function(a,b,c){this.A.uf=b;dn(this);x(this,962,b,c,"MISC")};m.Sl=function(a,b){var c=this.A.ri;x(this,963,null,b,"VGA_ENABLE",c);return c};m.kn=function(a,b,c){this.A.ri=b;x(this,963,b,c,"VGA_ENABLE")};m.Pl=function(a,b){var c=this.A.$d;x(this,964,null,b,"SEQ.INDX",c);return c};m.hn=function(a,b,c){this.A.$d=b;x(this,964,b,c,"SEQ.INDX")};m.Ol=function(a,b){var c=this.A.Je[this.A.$d];b&&!z(this)||x(this,965,null,b,"SEQ."+this.A.Zg[this.A.$d],c);return c};
m.gn=function(a,b,c){c&&!z(this)||x(this,965,b,c,"SEQ."+this.A.Zg[this.A.$d]);this.A.Je[this.A.$d]=b;switch(this.A.$d){case 2:this.A.qb=Em[b&15];break;case 4:rn(this,qn(this))&&Xc(this,!0)}};m.ql=function(a,b){var c=this.A.pi;b&&!z(this)||x(this,966,null,b,"DAC.MASK",c);return c};m.Hm=function(a,b,c){c&&!z(this)||x(this,966,b,c,"DAC.MASK");this.A.pi=b};m.rl=function(a,b){var c=this.A.Kg;b&&!z(this)||x(this,967,null,b,"DAC.STATE",c);return c};
m.Im=function(a,b,c){c&&!z(this)||x(this,967,b,c,"DAC.READ");this.A.od=b;this.A.Kg=3;this.A.Ic=0};m.Jm=function(a,b,c){c&&!z(this)||x(this,968,b,c,"DAC.WRITE");this.A.od=b;this.A.Kg=0;this.A.Ic=0};m.pl=function(a,b){var c=this.A.tf[this.A.od]>>this.A.Ic&63;b&&!z(this)||x(this,969,null,b,"DAC.DATA["+t(this.A.od)+"]["+t(this.A.Ic)+"]",c);this.A.Ic+=6;12<this.A.Ic&&(this.A.Ic=0,this.A.od=this.A.od+1&255);return c};
m.Gm=function(a,b,c){a=this.A.tf[this.A.od];c&&!z(this)||x(this,969,b,c,"DAC.DATA["+t(this.A.od)+"]["+t(this.A.Ic)+"]");b=a&~(63<<this.A.Ic)|(b&63)<<this.A.Ic;a!==b&&(this.A.tf[this.A.od]=b,Nn(this,!1));this.A.Ic+=6;12<this.A.Ic&&(this.A.Ic=0,this.A.od=this.A.od+1&255)};m.Tl=function(a,b){var c=this.A.dg;x(this,970,null,b,"FEAT",c);return c};m.Tm=function(a,b,c){this.A.kk=b;x(this,970,b,c,"GRC2")};m.Ul=function(a,b){var c=this.A.uf;x(this,972,null,b,"MISC",c);return c};
m.Sm=function(a,b,c){this.A.jk=b;x(this,972,b,c,"GRC1")};m.xl=function(a,b){var c=this.A.Zd;x(this,974,null,b,"GRC.INDX",c);return c};m.Rm=function(a,b,c){this.A.Zd=b;x(this,974,b,c,"GRC.INDX")};m.wl=function(a,b){var c=this.A.Yd[this.A.Zd];b&&!z(this)||x(this,975,null,b,"GRC."+this.A.Yg[this.A.Zd],c);return c};
m.Qm=function(a,b,c){c&&!z(this)||x(this,975,b,c,"GRC."+this.A.Yg[this.A.Zd]);this.A.Yd[this.A.Zd]=b;switch(this.A.Zd){case 0:this.A.Wf=Em[b&15];this.A.ne=this.A.Wf&~this.A.Wd;break;case 1:this.A.Wd=~Em[b&15];this.A.ne=this.A.Wf&~this.A.Wd;break;case 2:this.A.uh=Em[b&15]&-2139062144;break;case 3:case 5:rn(this,qn(this));break;case 4:this.A.ji=(b&3)<<3;break;case 6:gn(this,!1);break;case 7:this.A.vh=Em[b&15]&-2139062144;break;case 8:this.A.Mb=b|b<<8|b<<16|b<<24}};
m.jl=function(a,b){return Qn(this,this.Y,a,b)};m.Bm=function(a,b,c){var d=this.Y;d.Jg=d.Ac;d.Ac=b&31;x(this,a,b,c,"CRTC.INDX")};m.il=function(a,b){return Rn(this,this.Y,a,b)};m.Am=function(a,b,c){Sn(this,this.Y,a,b,c)};m.kl=function(a,b){return Tn(this,this.Y,b)};m.Cm=function(a,b,c){a=this.Y;x(this,a.port+4,b,c,"MODE");a.hd=b;gn(this,!1)};m.hl=function(a,b){var c=this.Y.sf;b&&!z(this)||x(this,a,null,b,this.Y.type+".COLOR",c);return c};
m.zm=function(a,b,c){c&&!z(this)||x(this,a,b,c,this.Y.type+".COLOR");this.Y.sf!==b&&(this.Y.sf=b,Nn(this,!1))};m.ll=function(a,b){return Un(this,this.Y,b)};function Qn(a,b,c,d){var e;b.Fc&&(e=b.Ac);x(a,c,null,d,"CRTC.INDX",e);return e}function Rn(a,b,c,d){var e;b.Fc&&b.Ac<b.th&&(e=b.ub[b.Ac]);d&&!z(a)||x(a,c,null,d,"CRTC."+b.jg[b.Ac],e);return e}
function Sn(a,b,c,d,e){if(b.Ac<b.th){e&&!z(a)||x(a,c,d,e,"CRTC."+b.jg[b.Ac]);b.ub[b.Ac]=d;if(12==b.Ac||13==b.Ac)Pn(a,b)&1?b.Zf=(b.ub[12]<<8)+b.ub[13]|0:b.of||(b.of=b.ki);(9==b.Ac&&8!=b.Jg||18==b.Ac&&223==d)&&gn(a,!0);hn(a)}}function Tn(a,b,c){var d=b.hd;x(a,b.port+4,null,c,"MODE",d);return d}function Un(a,b,c){var d=Pn(a,b);b===a.A?(d|=b.ma&48^48,b.Xe=!1):d=(b.ma^=9)|240;b.ma=d;x(a,b.port+6,null,c,b===a.A?"STATUS1":"STATUS",d);return d}
var Tm={948:Z.prototype.El,949:Z.prototype.Dl,952:Z.prototype.Fl,954:Z.prototype.Gl},Um={948:Z.prototype.Ym,949:Z.prototype.Xm,952:Z.prototype.Zm},Vm={980:Z.prototype.jl,981:Z.prototype.il,984:Z.prototype.kl,985:Z.prototype.hl,986:Z.prototype.ll},Wm={980:Z.prototype.Bm,981:Z.prototype.Am,984:Z.prototype.Cm,985:Z.prototype.zm},Xm={960:Z.prototype.dl,961:Z.prototype.Ek,962:Z.prototype.Rl,964:Z.prototype.Pl,965:Z.prototype.Ol,974:Z.prototype.xl,975:Z.prototype.wl},Ym={954:Z.prototype.ik,960:Z.prototype.hk,
961:Z.prototype.hk,962:Z.prototype.$m,964:Z.prototype.hn,965:Z.prototype.gn,970:Z.prototype.Tm,972:Z.prototype.Sm,974:Z.prototype.Rm,975:Z.prototype.Qm,986:Z.prototype.ik},Zm={963:Z.prototype.Sl,966:Z.prototype.ql,967:Z.prototype.rl,969:Z.prototype.pl,970:Z.prototype.Tl,972:Z.prototype.Ul},$m={963:Z.prototype.kn,966:Z.prototype.Hm,967:Z.prototype.Im,968:Z.prototype.Jm,969:Z.prototype.Gm};
Qa(function(){for(var a=nb(document,"pcjs","video"),b=0;b<a.length;b++){var c=a[b],d=kb(c),e=document.createElement("canvas");if(void 0===e||!e.getContext){c.innerHTML="<br/>Missing &lt;canvas&gt; support. Please try a newer web browser.";break}e.setAttribute("class","pcjs-canvas");e.setAttribute("width",d.screenWidth);e.setAttribute("height",d.screenHeight);e.style.backgroundColor=d.screenColor;e.style.height="auto";0<=ya().indexOf("MSIE")&&(c.onresize=function(a,b,c,d){return function(){b.style.height=
(a.clientWidth*d/c|0)+"px"}}(c,e,d.screenWidth,d.screenHeight),c.onresize());c.appendChild(e);var f=document.createElement("textarea");Ha("iOS")&&(f.setAttribute("autocapitalize","off"),f.setAttribute("autocorrect","off"));c.appendChild(f);var g=e.getContext("2d"),d=new Z(d,e,g,f,c);mb(d,c)}});
function Vn(a){this.V=a.adapter;switch(this.V){case 1:this.L=956;this.C=7;break;case 2:this.L=888;this.C=7;break;case 3:this.L=632;this.C=5;break;default:w("Unrecognized parallel adapter #"+this.V);return}this.A=this.B=null;Ua.call(this,"ParallelPort",a,Vn,4194304);a=a.binding;"console"==a?this.B="":lb(this,a,Wn)}db(Vn);var Wn="buffer";m=Vn.prototype;m.Pb=function(a,b,c){switch(b){case Wn:return this.qa[b]=this.A=c,!0}return!1};
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.N=Eb(a,"ChipSet");hc(b,this,Xn,this.L);lc(b,this,Yn,this.L);sb(this)};m.kc=function(a,b){if(!b)if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};m.reset=function(){Zn(this)};m.save=function(){var a=new hf(this),b=0,c=[];c[b++]=this.da;c[b++]=this.Zb;c[b]=this.Df;N(a,0,c);return a.data()};m.restore=function(a){return Zn(this,a[0])};
function Zn(a,b){var c=0;void 0===b&&(b=[0,0,0]);a.da=b[c++];a.Zb=b[c++];a.Df=b[c];return!0}m.sl=function(a,b){var c=this.da;x(this,a,null,b,"DATA",c);return c};m.Ql=function(a,b){var c=this.Zb;x(this,a,null,b,"STAT",c);return c};m.ol=function(a,b){var c=this.Df;x(this,a,null,b,"CTRL",c);return c};
m.Km=function(a,b,c){x(this,a,b,c,"DATA");this.da=b;this.Zb|=64;if(this.A)8==b?this.A.value=this.A.value.slice(0,-1):(this.A.value+=String.fromCharCode(b),this.A.scrollTop=this.A.scrollHeight),a=!0;else if(null!=this.B){if(10==b||1024<=this.B.length)this.O(this.B),this.B="";10!=b&&(this.B+=String.fromCharCode(b));a=!0}else a=!1;a&&(this.Zb&=-65);$n(this)};m.Fm=function(a,b,c){x(this,a,b,c,"CTRL");this.Df=b;$n(this)};function $n(a){a.N&&a.C&&(a.Df&16&&!(a.Zb&64)?gg(a.N,a.C):fg(a.N,a.C))}
var Xn={0:Vn.prototype.sl,1:Vn.prototype.Ql,2:Vn.prototype.ol},Yn={0:Vn.prototype.Km,2:Vn.prototype.Fm};Qa(function(){for(var a=nb(document,"pcjs","parallel"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Vn(d);mb(d,c)}});
function ao(a){this.sa=a.adapter;switch(this.sa){case 1:this.ka=1016;this.fa=4;break;case 2:this.ka=760;this.fa=3;break;default:w("Unrecognized serial adapter #"+this.sa);return}this.L=this.U=null;this.Ca=a.tabSize;this.za=a.charBOL;this.W=0;Ua.call(this,"SerialPort",a,ao,8388608);a=a.binding;"console"==a?this.U="":lb(this,a,bo)}db(ao);var bo="buffer";m=ao.prototype;m.Bi=function(a,b){return a==this.be?(this.V=b,this):null};
m.Pb=function(a,b,c){var d=this;switch(b){case bo:return this.qa[b]=this.L=c,c.onkeydown=function(a){a=a||window.event;var b=a.keyCode;if(8===b||a.ctrlKey&&65<=b&&90>=b)a.preventDefault&&a.preventDefault(),64<b&&(b-=64),co(d,[b]);return!0},c.onkeypress=function(a){a=a||window.event;co(d,[a.which||a.keyCode]);a.preventDefault&&a.preventDefault();return!0},c.removeAttribute("readonly"),!0}return!1};
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.N=Eb(a,"ChipSet");hc(b,this,eo,this.ka);lc(b,this,fo,this.ka);sb(this)};m.kc=function(a,b){if(!b)if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};m.reset=function(){go(this)};
m.save=function(){var a=new hf(this),b=0,c=[];c[b++]=this.pa;c[b++]=this.wa;c[b++]=this.Y;c[b++]=this.ja;c[b++]=this.da;c[b++]=this.B;c[b++]=this.C;c[b++]=this.A;c[b++]=this.ua;c[b]=this.ga;N(a,0,c);return a.data()};m.restore=function(a){return go(this,a[0])};function go(a,b){var c=0;void 0===b&&(b=[0,0,384,0,1,0,0,96,48,[]]);a.pa=b[c++];a.wa=b[c++];a.Y=b[c++];a.ja=b[c++];a.da=b[c++];a.B=b[c++];a.C=b[c++];a.A=b[c++];a.ua=b[c++];a.ga=b[c];return!0}function co(a,b){a.ga=a.ga.concat(b);ho(a)}
function ho(a){0<a.ga.length&&!(a.A&1)&&(a.pa=a.ga.shift(),a.A|=1);var b=-1;a.A&1&&a.ja&1&&(b=4);0<=b?(a.da&=-8,a.da|=b,a.N&&a.fa&&gg(a.N,a.fa,100)):(a.da|=1,a.N&&a.fa&&fg(a.N,a.fa))}m.Nl=function(a,b){var c=this.B&128?this.Y&255:this.pa;x(this,a,null,b,this.B&128?"DLL":"RBR",c);this.A&=-2;ho(this);return c};m.yl=function(a,b){var c=this.B&128?this.Y>>8:this.ja;x(this,a,null,b,this.B&128?"DLM":"IER",c);return c};m.zl=function(a,b){var c=this.da;x(this,a,null,b,"IIR",c);return c};
m.Al=function(a,b){var c=this.B;x(this,a,null,b,"LCR",c);return c};m.Cl=function(a,b){var c=this.C;x(this,a,null,b,"MCR",c);return c};m.Bl=function(a,b){var c=this.A;x(this,a,null,b,"LSR",c);return c};m.Hl=function(a,b){var c=this.ua;x(this,a,null,b,"MSR",c);return c};
m.jn=function(a,b,c){x(this,a,b,c,this.B&128?"DLL":"THR");if(this.B&128)this.Y=this.Y&-256|b;else{this.wa=b;this.A&=-97;if(this.L)13==b?this.W=0:8==b?(this.L.value=this.L.value.slice(0,-1),0<this.W&&this.W--):(a=String.fromCharCode(b),c=32<=b?1:0,9==b&&(b=this.Ca||8,c=b-this.W%b,this.Ca&&(a=la("",c))),this.za&&!this.W&&c&&(a=String.fromCharCode(this.za)+a),this.L.value+=a,this.L.scrollTop=this.L.scrollHeight,this.W+=c),b=!0;else if(null!=this.U){if(10==b||1024<=this.U.length)this.O(this.U),this.U=
"";10!=b&&(this.U+=String.fromCharCode(b));b=!0}else b=!1;b&&(this.A|=96)}};m.Um=function(a,b,c){x(this,a,b,c,this.B&128?"DLM":"IER");this.B&128?this.Y=this.Y&255|b<<8:this.ja=b};m.Vm=function(a,b,c){x(this,a,b,c,"LCR");this.B=b};
m.Wm=function(a,b,c){var d=this.C;x(this,a,b,c,"MCR");this.C=b;this.V&&(d^b)&3&&(a=this.V,b=this.C,(c=3==(b&3))?a.Fc||(d=!1,a.C&2||(a.reset(),y(a,"serial mouse reset"),d=!0),a.C&1||(y(a,"serial mouse ID requested"),d=!0),d&&(co(a.N,[77,77]),y(a,"serial mouse ID sent")),io(a),a.Fc=c):a.Fc&&(y(a,"serial mouse inactive"),jo(a),a.Fc=c),a.C=b)};
var eo={0:ao.prototype.Nl,1:ao.prototype.yl,2:ao.prototype.zl,3:ao.prototype.Al,4:ao.prototype.Cl,5:ao.prototype.Bl,6:ao.prototype.Hl},fo={0:ao.prototype.jn,1:ao.prototype.Um,3:ao.prototype.Vm,4:ao.prototype.Wm};Qa(function(){for(var a=nb(document,"pcjs","serial"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new ao(d);mb(d,c)}});function ko(a){Ua.call(this,"Mouse",a,ko,16777216);if(this.ka=a.serial)this.pa="SerialPort";this.ja=this.ga=this.Fc=!1;this.B=[];this.A=[];sb(this)}db(ko);var cn=0;m=ko.prototype;
m.Gc=function(a,b,c,d){this.da=a;this.ea=b;this.F=c;this.ha=d;for(b=null;b=Eb(a,"Video",b);)this.B.push(b)};m.kc=function(a,b){if(!b){if(!a||!this.restore)this.reset();else if(!this.restore(a))return!1;if(this.pa&&!this.N){for(var c=null;(c=Eb(this.da,this.pa,c))&&(!c.Bi||!(this.N=c.Bi(this.ka,this))););if(this.N)for(this.A=[],c=0;c<this.B.length;c++){var d;d=this.B[c];d.V=this;(d=d.da)&&this.A.push(d)}else w(this.id+": "+this.pa+" "+this.ka+" unavailable")}this.Fc?io(this):jo(this)}return!0};
m.jc=function(a){return a?this.save():!0};m.reset=function(){lo(this)};m.save=function(){var a=new hf(this),b=0,c=[];c[b++]=this.Fc;c[b++]=this.L;c[b++]=this.V;c[b++]=this.U;c[b++]=this.W;c[b++]=this.Y;c[b++]=this.fa;c[b]=this.C;N(a,0,c);return a.data()};m.restore=function(a){return lo(this,a[0])};function lo(a,b){var c=0;void 0===b&&(b=[!1,-1,-1,0,0,!1,!1,0]);var d=b[c++];a.Fc=d;a.L=b[c++];a.V=b[c++];a.U=b[c++];a.W=b[c++];a.Y=b[c++];a.fa=b[c++];a.C=b[c];return!0}m.Xf=function(a){this.ga=a};
function io(a){if(!a.ja)for(var b=0;b<a.A.length;b++)mo(a,a.A[b])&&(a.ja=!0)}function jo(a){if(a.ja)for(var b=0;b<a.A.length;b++){var c=a.A[b];c&&(c.style.cursor="auto")}}function mo(a,b){return b?(b.addEventListener("mousemove",function(b){no(a,b)},!1),b.addEventListener("mousedown",function(b){no(a,b,!0)},!1),b.addEventListener("mouseup",function(b){no(a,b,!1)},!1),b.style.cursor="none",!0):!1}
function no(a,b,c){if(void 0!==c){var d;!(d=!1!==a.ga)&&(d=a.B.length)&&(d=a.B[0],d=d.Pg?d.Ae(!0):!1);d||(a.ga=null);a.ge(b.button,c)}else{if(0>a.L||0>a.V)a.L=b.clientX,a.V=b.clientY;a.ga?(c=b.movementX||b.mozMovementX||b.webkitMovementX||0,d=b.movementY||b.mozMovementY||b.webkitMovementY||0):(c=b.clientX-a.L,d=b.clientY-a.V);a.L=b.clientX;a.V=b.clientY;a.Jf(c,d,a.L,a.V)}}
m.ge=function(a,b){if(this.Fc&&this.F&&this.F.la.Ib){var c="mouse button"+a+" "+(b?"dn":"up");switch(a){case cn:if(this.Y!=b){this.Y=b;oo(this,c);return}break;case 2:if(this.fa!=b){this.fa=b;oo(this,c);return}}y(this,c+": ignored")}};m.Jf=function(a,b,c,d){this.Fc&&this.F&&this.F.la.Ib&&(a||b)&&(this.U=a,this.W=b,oo(this,null,c,d))};
function oo(a,b,c,d){var e=64|(a.Y?32:0)|(a.fa?16:0)|(a.W&192)>>4|(a.U&192)>>6,f=a.U&63,g=a.W&63;z(a,8388608)&&y(a,(b?b+": ":"")+(void 0!==d?"mouse ("+c+","+d+"): ":"")+"serial packet ["+t(e)+","+t(f)+","+t(g)+"]",0,!0);co(a.N,[e,f,g]);a.U=a.W=0}Qa(function(){for(var a=nb(document,"pcjs","mouse"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new ko(d);mb(d,c)}});
function po(a,b,c){Ua.call(this,"Disk",{id:a.ve+".disk"+r(++qo,4)},po,2097152);this.controller=a;this.da=a.da;this.ha=a.ha;this.B=b;this.ea=b.name;this.bf=b.bf;this.qg=this.N=!1;ro(this,c,b.Cb,b.tb,b.mb,b.Ta);this.U=[];this.fa=[];this.L=null;this.ja=0;this.ga=!1;sb(this)}var qo=0;db(po);function so(a,b,c,d,e,f){this.ya=a;this.nc=c;this.$g=d;this.Fi=e;this.te=f}var to=[0,2],uo=[24,2],vo=[60,4],wo=[0,2],xo=[4,2],yo=[6,2],zo=[28,2],Ao=[32,2],Bo=[34,2],Co=[38,2],Do=[44,4],Eo=[50,2];
function Fo(a,b,c){var d;c=c||2;var e=b&511,f=Go(a.ya,a.te[b>>9]);if(f){if(e+c<=f.length)return Ho(a.ya,f,e,c);for(e=d=0;c--;)d|=Fo(a,b++,1)<<e,e+=8}return d}function Io(a,b,c){return Fo(a,b[0]+(c||0),b[1])}function Jo(a,b,c){for(var d=0;!c||b<c;){var e=Fo(a,b,1);if(!e)break;var f;f=a;var g=b+1,h=e,k="";for(h||(h=-1);h--;){var l=Fo(f,g++,1);if(!l)break;k+=String.fromCharCode(l)}f=k;if(!f)break;b+=1+e;if(d){if(e=Fo(a,b),g=a.A[e])g=g[0],a.Ad[g]&&a.Ad[g].se[e].push(f)}else c||(a.fg=f);b+=2;d++}}
so.prototype.Wi=function(a,b){var c=null;if(this.Ad)for(var d in this.Ad){var e=this.Ad[d];if(a>=e.li&&a<=e.ek){d=a-=e.li;var f,g;for(g in e.se){var h=e.se[g],k=a-h[0];if(!k){c=this.fg+"!"+h[1];break}b&&0<k&&k<d&&(f=h,d=k)}!c&&f&&(c=this.fg+"!"+f[1]+"+"+u(d));break}}return c||this.nc+"+"+("0x"+r(a))};m=po.prototype;m.Gc=function(a,b,c,d){this.ha=d};m.kc=function(a,b){b||!this.qg||this.N||(sb(this,!1),this.load(this.ea,this.V,null,this.Rk,this));return!0};m.Rk=function(){sb(this,!0)};
m.jc=function(a,b){if(this.N){var c,d=0;if(this.ga&&!za("Disk writes are still in progress, shut down anyway?"))return!1;for(;c=Ko(this,!1);)if(d=c[0]){this.controller.Oa('Unable to save "'+this.ea+'" (error '+d+")");break}b&&this.N&&(c="action=close&volume="+this.V,c+="&machine="+this.controller.ff(),c+="&user="+this.controller.he(),wa(xa()+"/api/v1/disk?"+c,null,!0),this.N=!1);!d&&a&&this.controller.Oa(this.ea+" saved")}return!0};
function ro(a,b,c,d,e,f){a.mode=b;a.Cb=c;a.tb=d;a.mb=e;a.Ta=f;a.A=[];if("preload"!=a.mode){b=Array(a.Cb);for(c=0;c<b.length;c++){d=Array(a.tb);for(e=0;e<d.length;e++){f=Array(a.mb);for(var g=1;g<=f.length;g++)f[g-1]=Lo(null,c,e,g,a.Ta,"local"==a.mode?0:null);d[e]=f}b[c]=d}a.A=b}a.Y=null}
m.load=function(a,b,c,d,e){var f=b;if(this.W)return!0;this.ea=a;this.V=b;this.si=fa(b);var g=this;this.W=d;this.ka=e||this.controller;if(c){var h=new FileReader;h.onload=function(){var a=h.result,b,c=a?a.byteLength:0,d=ba[c];if(d){g.Cb=d[0];g.tb=d[1];g.mb=d[2];g.Ta=512;b=g.Ta>>2;var e=d=0,a=new DataView(a,0,c);g.A=Array(g.Cb);for(c=0;c<g.A.length;c++)for(var f=g.A[c]=Array(g.tb),F=0;F<f.length;F++)for(var v=f[F]=Array(g.mb),D=0;D<v.length;D++){for(var H=Lo(null,c,F,D+1,g.Ta,0),L=H.data,V=0;V<b;V++,
e+=4)var Q=L[V]=a.getInt32(e,!0),d=d+Q&-1;H.$c=b;v[D]=H}g.Y=d;b=g}else g.Oa("Unrecognized diskette format ("+c+" bytes)");g.W&&(g.W.call(g.controller,g.B,b,g.ea,g.V),g.W=null)};h.readAsArrayBuffer(c);return!0}0>b.indexOf("/api/v1/dump")&&(a=ha(b),"json"==a||"gz"==a?f=encodeURI(b):"demandrw"==this.mode||"demandro"==this.mode?(f=Mo(this,b),this.qg=!0):(c="path",d="&mbhd=10",!b.indexOf("http:")||!b.indexOf("ftp:")||0<="dsk ima img 360 720 12 144".split(" ").indexOf(a)?(c="disk",d="&mbhd=0"):ia(b,"/")&&
(c="dir"),f=xa()+"/api/v1/dump?"+c+"="+encodeURIComponent(b)+(this.bf?"":d)+"&format=json"));return!!wa(f,null,!0,function(a,b,c){No(g,a,b,c)})};
function No(a,b,c,d){var e=null;a.ef=!1;var f=0>d&&a.da&&!a.da.la.ec;if(a.qg)d?a.controller.Oa('Unable to connect to disk "'+a.V+'" (error '+d+": "+c+")",f):(a.N=!0,Oo(a),e=a);else if(d)a.controller.Oa('Unable to load disk "'+a.ea+'" (error '+d+": "+b+")",f);else{fb(a.controller.ve,b,c);try{if(0<fa(a.si,!0).toLowerCase().indexOf("-readonly"))a.ef=!0;else{var g=c.indexOf("\n");0<g&&1024>g&&0<c.substring(0,g).indexOf("write-protected")&&(a.ef=!0)}var h;"<"==c.substr(0,1)?h=["Missing disk image: "+a.ea]:
h=0>c.indexOf("0x")&&'["'!=c.substr(0,2)?JSON.parse(c.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+c+")");if(h.length)if(1==h.length)w(h[0]);else{a.Cb=h.length;a.tb=h[0].length;a.mb=h[0][0].length;var k=h[0][0][0];a.Ta=k&&k.length||512;for(d=c=0;d<a.Cb;d++)for(f=0;f<a.tb;f++)for(g=0;g<a.mb;g++)if(k=h[d][f][g]){var l=k.length;void 0===l&&(l=k.length=512);var l=l>>2,n=k.pattern;void 0===n&&(n=k.pattern=0);var q=k.data;if(void 0===q){var p=k.bytes;if(void 0!==p&&p.length){for(var A=
l<<2,F=p.length;F<A;F++)p[F]=n;Po(k,p,0)}else q=[],n=k.pattern=n|n<<8|n<<16|n<<24,k.data=q;delete k.bytes}Lo(k,d,f);for(A=0;A<q.length;A++)c=c+q[A]&-1}a.A=h;a.Y=c;Oo(a);e=a}else w("Empty disk image: "+a.ea)}catch(v){w("Disk image error ("+b+"): "+v.message)}}a.W&&(a.W.call(a.ka,a.B,e,a.ea,a.V),a.W=null)}
function Oo(a){var b,c,d={},e;if(a.C&&a.C.length)for(b=a.A,c=0;c<b.length;c++)for(var f=0;f<b[c].length;f++)for(e=0;e<b[c][f].length;e++){var g=b[c][f][e];g&&(delete g.file,delete g.mm)}a.C=[];d.$f=d.If=0;b=a.Cb*a.tb*a.mb*a.Ta;a.N&&a.log("ignore any synchronous XMLHttpRequest warnings here (for now)");if(e=Go(a,0)){d.Ta=Ho(a,e,11,2);f=!0;if(d.Ta!=a.Ta){f=!1;d.Hf=1;d.zg=12;d.qh=d.Hf+2;d.xg=1;d.Ta=a.Ta;if(163840==b&&254==Qo(a,d,0,0))d.If=320,d.Ah=64,f=!0;else if(327680==b&&255==Qo(a,d,0,0))d.If=640,
d.Ah=112,f=!0;else for(c=446,b=0;4>b;b++){if(128==Ho(a,e,c+0,1)){d.$f=Ho(a,e,c+8,4);(e=Go(a,d.$f))&&(f=!0);break}c+=16}if(!f)return}d.If||(d.If=Ho(a,e,19,2)||Ho(a,e,32,4),d.Hf=Ho(a,e,14,2),d.qh=d.Hf+Ho(a,e,22,2)*Ho(a,e,16,1),d.Ah=Ho(a,e,17,2),d.xg=Ho(a,e,13,1));d.oh=d.qh+((32*d.Ah+(d.Ta-1))/d.Ta|0);d.hm=(d.If-d.oh)/d.xg|0;d.zg=4084>=d.hm?12:16;d.Uk=12==d.zg?4086:65526;b=[];for(e=d.qh;e<d.oh;e++)b.push(d.$f+e);Ro(a,d,a.si,"",b);for(b=0;b<a.C.length;b++){d=a.C[b];for(e=c=0;e<d.te.length;e++){var f=
d.te[e],g=c,h=a.tb*a.mb,k=f%h,l=k/a.mb|0,k=k%a.mb,n=void 0,q=void 0,p=void 0;(n=a.A[f/h|0])&&(q=n[l])&&(p=q[k])&&!p.file&&(p.file=d,p.mm=g);c+=a.Ta}e=d;if((ia(e.nc,".EXE")||ia(e.nc,".DLL")||ia(e.nc,".DRV"))&&23117==Io(e,to)&&64==Io(e,uo)&&(c=Io(e,vo),17742==Io(e,wo,c))){l=Io(e,zo,c);g=Io(e,Bo,c);h=Io(e,Eo,c);if(g&&l){d=e;f=g+c;g=l;h=h||0;l=1;d.Ad=[];for(d.A=[];g--;){if(k=Fo(d,f)<<h)n=Fo(d,f+2)||65536,d.Ad[l++]={li:k,ek:k+n-1,se:[]};f+=8}d.Ad[254]={li:0,ek:0,se:[]}}g=Io(e,xo,c);h=Io(e,yo,c);if(g&&
h)for(d=e,f=g+=c,g=g+h,h=1;f<g;){k=Fo(d,f);l=k&255;if(!l)break;k=k>>8;f+=2;if(k)for(;l--;)Fo(d,f,1),254>=k?(n=k,q=Fo(d,f+1),f+=3):(n=Fo(d,f+3,1),q=Fo(d,f+4),f+=6),d.Ad[n]&&(d.Ad[n].se[h]=[q]),d.A[h]=[n,q],h++;else h+=l}(g=Io(e,Co,c))&&Jo(e,g+c);g=Io(e,Do,c);h=Io(e,Ao,c);g&&h&&Jo(e,g,g+h)}}}}
function Ro(a,b,c,d,e){var f,g=a.C.length,h=b.Ta/32|0;b.wo=d+"\\";for(var k=0;k<e.length;k++)for(var l=e[k],n=0;n<h;n++){var q=a,p=b;f=n;p.re&&p.ni&&p.ni==l||(p.ni=l,p.re=Go(q,p.ni));if(p.re){f*=32;var A=Ho(q,p.re,f,1);if(0==A)f=!1;else{if(229==A)p.nc=null;else{p.nc=na(So(q,p.re,f+0,8));A=na(So(q,p.re,f+8,3));A.length&&(p.nc+="."+A);p.$g=Ho(q,p.re,f+11,1);p.Fi=Ho(q,p.re,f+28,2);p.Tk=Ho(q,p.re,f+26,2);f=p;var A=[],F=p.Tk;if(F){do{if(2>F)break;for(var v=p.oh+(F-2)*p.xg,D=0;D<p.xg;D++)A.push(p.$f+v++);
F=Qo(q,p,F,0)|Qo(q,p,F,1)}while(F<=p.Uk)}f.te=A}f=!0}}else f=!1;if(!f){k=e.length;break}null!=b.nc&&"."!=b.nc&&".."!=b.nc&&(f=new so(a,0,b.nc,b.$g,b.Fi,b.te),a.C.push(f))}for(e=a.C.length;g<e;g++)f=a.C[g],f.$g&16&&f.te.length&&Ro(a,b,c,d+"\\"+f.nc,f.te)}function Qo(a,b,c,d){var e=0,f=8*b.Ta;c=b.zg*c+(d?8:0);var g=c/f|0;b.ti&&b.ph&&b.ph==b.Hf+g||(b.ph=b.Hf+g,b.ti=Go(a,b.$f+b.ph));b.ti&&(c=c%f|0,e=Ho(a,b.ti,c>>3,1),d?e=16==b.zg?e<<8:c&7?e<<4:(e&15)<<8:c&7&&(e>>=4));return e}
function Go(a,b){var c=a.tb*a.mb,d=b/c|0;return d<a.Cb?(c=b%c,a.seek(d,c/a.mb|0,c%a.mb+1)):null}function Ho(a,b,c,d){for(var e=0,f=0;d--;){var g=a.read(b,c++);if(0>g)break;e|=g<<f;f+=8}return e}function So(a,b,c,d){for(var e="";d--;){var f=a.read(b,c++);if(0>=f)break;e+=String.fromCharCode(f)}return e}function Lo(a,b,c,d,e,f){a||(a={sector:d,length:e,data:[],pattern:f});a.Vk=b;a.Wk=c;a.yd=a.$c=0;a.Ua=!1;return a}
function Mo(a,b){var c;c="action=open&volume="+b+("&mode="+a.mode);c+="&chs="+a.Cb+":"+a.tb+":"+a.mb+":"+a.Ta;c+="&machine="+a.controller.ff();c+="&user="+a.controller.he();return xa()+"/api/v1/disk?"+c}
function To(a,b,c,d,e,f,g){if(a.N){var h;h="action=read&volume="+a.V;h+="&chs="+a.Cb+":"+a.tb+":"+a.mb+":"+a.Ta;h=h+("&addr="+b+":"+c+":"+d+":"+e)+("&machine="+a.controller.ff());h+="&user="+a.controller.he();wa(xa()+"/api/v1/disk?"+h,null,f,function(h,l,n){h=[b,c,d,e,f,g];var q=!1,p=h[0],A=h[1],F=h[2],v=h[3];if(!n){l=JSON.parse(l);for(q=0;v--;){var D=a.seek(p,A,F,!0);if(!D)break;Po(D,l,q);q+=D.length;F++}q=h[4]}(h=h[5])&&h(n,q)})}else g&&g(-1,!1)}
function Uo(a,b,c,d,e,f,g){if(a.N){var h={};a.ga=!0;h.action="write";h.volume=a.V;h.chs=a.Cb+":"+a.tb+":"+a.mb+":"+a.Ta;h.addr=b+":"+c+":"+d+":"+e;h.machine=a.controller.ff();h.user=a.controller.he();h.data=JSON.stringify(f);wa(xa()+"/api/v1/disk",h,g,function(f,h,n){var q=[b,c,d,e,g];f=q[0];h=q[1];var p=q[2],A=q[3],q=q[4];a.ga=!1;if(0<=f&&f<a.A.length&&0<=h&&h<a.A[f].length)for(p=p-1;0<A--&&0<=p&&p<a.A[f][h].length;p++){var F=a.A[f][h][p];n?Vo(a,F,!1):F.Ua||(F.yd=F.$c=0)}q&&Wo(a)})}return!1}
function Vo(a,b,c){b.Ua=!0;var d=a.U.indexOf(b);0<=d&&(a.U.splice(d,1),a.fa.splice(d,1));a.U.push(b);a.fa.push(pa());c&&Wo(a)}function Wo(a){if(a.U.length){var b=a.fa[0]+2E3;a.L&&a.ja<b&&(clearTimeout(a.L),a.L=null);if(!a.L){var c=pa(),b=b-c;0>b&&(b=0);2E3<b&&(b=2E3);a.L=setTimeout(function(){Ko(a,!0)},b);a.ja=c+b}}else a.L&&(clearTimeout(a.L),a.L=null)}
function Ko(a,b){b&&(a.L=null);var c=a.U[0];if(c){for(var d=c.Vk,e=c.Wk,c=c.sector,f=0,g=[],h=c-1;h<a.A[d][e].length;h++){var k=a.A[d][e][h];if(!k.Ua)break;var l=a.U.indexOf(k);a.U.splice(l,1);a.fa.splice(l,1);g=g.concat(Xo(k));k.Ua=!1;f++}d=Uo(a,d,e,c,f,g,b);return b||d}return!1}m.info=function(){return this.A.length?[this.A.length,this.A[0].length,this.A[0][0].length,this.A[0][0][0].length]:[0,0,0,0]};
m.seek=function(a,b,c,d,e){var f=null,g=this.B,h=this.A[a];if(h){var k=h[b];if(!k&&g.bh&&b<g.tb)for(k=h[b]=Array(g.ee),h=0;h<k.length;h++)k[h]=Lo(null,a,b,h+1,g.Hb,0);if(k){for(h=0;h<k.length;h++)if(k[h]&&k[h].sector==c){f=k[h];if(null===f.pattern)if(d)f.pattern=0;else{for(d=1;++h<k.length;)null===k[h].pattern&&d++;To(this,a,b,c,d,null!=e,function(a,b){a&&(f=null);e&&e(f,b)});return e?null:f}break}!f&&g.bh&&9==g.xb&&(f=k[h]=Lo(null,a,b,g.xb,g.Hb,0))}}e&&e(f,!1);return f};
function Po(a,b,c){for(var d=a.length>>2,e=Array(d),f=0;f<d;f++)e[f]=b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24,c+=4;a.data=e}function Xo(a){var b=a.length,c=Array(b),d=0,b=b>>2,e=a.data;a=a.pattern;for(var f=0;f<b;f++){var g=f<e.length?e[f]:a;c[d++]=g&255;c[d++]=g>>8&255;c[d++]=g>>16&255;c[d++]=g>>24&255}return c}m.read=function(a,b){var c=-1;if(a&&b<a.length)var c=a.data,d=b>>2,c=(d<c.length?c[d]:a.pattern)>>((b&3)<<3)&255;return c};
m.write=function(a,b,c){if(this.ef)return!1;if(b<a.length){if(c!=this.read(a,b,!0)){var d=a.data,e=a.pattern,f=b>>2;b=(b&3)<<3;for(var g=d.length;g<=f;g++)d[g]=e;a.$c?f<a.yd?(a.$c+=a.yd-f,a.yd=f):f>=a.yd+a.$c&&(a.$c+=f-(a.yd+a.$c)+1):(a.yd=f,a.$c=1);d[f]=d[f]&~(255<<b)|c<<b;this.N&&Vo(this,a,!0)}return!0}return null};
m.save=function(){var a=0,b=[];b[a++]=[this.V,this.Y,this.Cb,this.tb,this.mb,this.Ta];if(!this.N&&!this.ef)for(var c=this.A,d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g&&g.$c){for(var h=[],k=0,l=g.yd,n=g.yd+g.$c;l<n;)h[k++]=g.data[l++];b[a++]=[d,e,f,g.yd,h]}}return b};
m.restore=function(a){var b=0,c="unsupported restore format";if(a&&0<a.length){var d=0,e=a[d++];e&&2<=e.length&&(!this.A.length&&6<=e.length?ro(this,"local",e[2],e[3],e[4],e[5]):null!=e[1]&&null!=this.Y&&e[1]!=this.Y&&(c="original checksum ("+e[1]+") differs from current checksum ("+this.Y+")",b=-2));for(this.A.length||(b=-1);d<a.length&&0<=b;){var f=0,g=a[d++],h=g[f++],k=g[f++],l=g[f++];if(h>=this.A.length||k>=this.A[h].length||l>=this.A[h][k].length){c="sector (CHS="+h+":"+k+":"+l+") out of range ("+
b+" changes applied)";b=-1;break}if(this.ef){c="unable to modify write-protected disk";b=-1;break}e=g[f++];f=g[f++];g=e+f.length;if(h=this.A[h][k][l]){for(k=h.data.length;k<e;)h.data[k++]=h.pattern;k=0;h.yd=e;for(h.$c=f.length;e<g;)h.data[e++]=f[k++];b++}}}0>b?-2!=b&&this.controller.Oa("Unable to restore disk '"+this.ea+": "+c):Oo(this);return b};
m.toJSON=function(){var a=JSON.stringify(this.A,function(a,c){return"file"==a?void 0:c}),a=a.replace(/,"length":512/gm,"").replace(/,"pattern":0/gm,""),a=a.replace(/"(sector|length|data|pattern)":/gm,"$1:"),a=a.replace(/,"[^"]*":([0-9]+|true|false)/gm,""),a=a.replace(/(sector|length|data|pattern):/gm,'"$1":');return a=a.replace(/([\]}]),/gm,"$1,\n")};
function Yo(a){Ua.call(this,"FDC",a,Yo,524288);this.dmaRead=this.yk;this.dmaWrite=this.zk;this.dmaFormat=this.Nk;this.U=a.autoMount||null;this.B=[];this.ga=!Ha("Mobi")&&window&&"FileReader"in window}db(Yo);aa={};var Zo={3:{Rd:3,fe:0,name:aa.Vn},4:{Rd:2,fe:1,name:aa.Tn},5:{Rd:9,fe:7,name:aa.co},6:{Rd:9,fe:7,name:aa.On},7:{Rd:2,fe:0,name:aa.Qn},8:{Rd:1,fe:2,name:aa.Un},10:{Rd:2,fe:7,name:aa.Pn},13:{Rd:6,fe:7,name:aa.Bn},15:{Rd:3,fe:0,name:aa.Sn}};m=Yo.prototype;
m.Pb=function(a,b,c){var d=this;switch(b){case "listDisks":return this.qa[b]=c,c.onchange=function(){var a=d.qa.descDisk,b=c.options[c.selectedIndex];if(a&&b){var g={};if(b=b.getAttribute("data-value"))try{g=eval("("+b+")")}catch(h){w("FDC option error: "+h.message)}b=g.desc;void 0===b&&(b="");g=g.href;void 0!==g&&(b='<a href="'+g+'" target="_blank">'+b+"</a>");a.innerHTML=b}},!0;case "descDisk":case "listDrives":return this.qa[b]=c,c.onchange=function(){var a=ca(c.value,10);null!=a&&$o(d,a)},!0;
case "loadDrive":return this.qa[b]=c,c.onclick=function(){var a=d.qa.listDisks;a&&ap(d,a.options[a.selectedIndex].text,a.value)},!0;case "saveDrive":if(!this.ga){c.parentNode.removeChild(c);break}this.qa[b]=c;c.onclick=function(){var a=d.qa.listDrives;if(a&&a.options&&d.A)if(a=ca(a.value,10),a=d.A[a])if(a.ya){for(var b=a.ya,c="",h=0,k;k=Go(b,h++);)for(var l=0,n=k.length;l<n;l++)c+=String.fromCharCode(Ho(b,k,l,1));a=Ia(btoa(c),"octet-stream",!0,a.ya.si.replace(".json",".img"));w(a)}else d.Oa("No disk loaded in drive");
else d.Oa("No drive selected")};return!0;case "mountDrive":if(!this.ga){c.parentNode.removeChild(c);break}this.qa[b]=c;c.addEventListener("change",function(){var a=c.children[0];a.children[1].disabled=!a.children[0].files.length});c.onsubmit=function(a){if(a=a.currentTarget[1].files[0]){var b=a.name;ap(d,fa(b,!0),b,a)}return!1};return!0}return!1};
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.da=a;this.N=Eb(a,"ChipSet");if((this.U=bp(this.da,"autoMount")||this.U)&&"string"==typeof this.U)try{this.U=eval("("+this.U+")")}catch(e){w("FDC auto-mount error: "+e.message+" ("+this.U+")"),this.U=null}cp(this);hc(b,this,dp);lc(b,this,ep);this.ga&&fp(this,"Local Disk","?");fp(this,"Remote Disk","??");gp(this)||sb(this)};
m.kc=function(a,b){if(!b){if(!a||!this.restore){if(this.reset(),this.da.ih){this.B=[];for(var c=0;c<this.A.length;c++)hp(this,c,!0);gp(this,!0)}}else if(!this.restore(a))return!1;if(c=this.qa.listDrives){for(;c.firstChild;)c.removeChild(c.firstChild);c.textContent="";for(var d=0;d<this.ja;d++){var e=document.createElement("option");e.value=d;e.textContent=String.fromCharCode(65+d)+":";c.appendChild(e)}0<this.ja&&(c.value="0",$o(this,0))}}return!0};m.jc=function(a){return a?this.save():!0};
m.reset=function(){cp(this)};
m.save=function(){var a=new hf(this),b=0,c=[];c[b++]=this.gb;c[b++]=0;c[b++]=this.ma;c[b++]=this.V;c[b++]=this.L;c[b++]=this.C;c[b++]=this.Y;for(var d=b++,e=0,f=[],g=0;g<this.A.length;g++){var h=e++,k=this.A[g],l=0,n=[];n[l++]=k.Db;n[l++]=[k.name,k.Cb,k.tb,k.mb,k.Ta,k.bf,k.yg,k.Pf,k.Qf];n[l++]=k.kb;n[l++]=k.de+100;n[l++]=k.Sb;n[l++]=k.xb;n[l++]=k.ee;n[l++]=k.Hb;n[l++]=k.eb;n[l++]=k.$e;n[l++]=k.mk;n[l]=k.Le;f[h]=n}c[d]=f;d=b++;for(e=0;e<this.A.length;e++)f=this.A[e],f.ya&&ip(this,f.Le,f.ya);c[d]=this.B;
c[b++]=this.W;c[b]=this.mc;N(a,0,c);return a.data()};m.restore=function(a){return cp(this,a[0])};
function cp(a,b){var c=0,d,e=!0;void 0===b&&(b=[0,0,128,Array(9),0,0,0,[]]);a.gb=b[c++];c++;a.ma=b[c++];a.V=b[c++];a.L=b[c++];a.C=b[c++];a.Y=b[c++];var f=b[c++];d=b[c++];null!=d&&(a.B=d);void 0===a.A&&(a.ja=4,a.N&&(a.ja=Yk(a.N)),a.A=Array(4));for(d=0;d<a.A.length;d++){var g=a.A[d];if(void 0===g){var g=a.A[d]={},h;if(a.N)a:{h=a.N;if(d<Yk(h)){if(!h.ka){h=360;break a}if(d<h.ka.length){h=h.ka[d];break a}}h=0}else h=0;switch(h){case 160:case 180:g.tb=1;default:g.Cb=40;g.mb=9;break;case 720:g.Cb=80;g.mb=
9;break;case 1200:g.Cb=80;g.mb=15;break;case 1440:g.Cb=80,g.mb=18}}var k=a,l=d,n=f[d],q=0;h=!0;g.gb=l;g.cd=g.$e=!1;void 0===n&&(n=[192,!0,0,2,0]);"boolean"==typeof n[1]&&(n[1]=["Floppy Drive",g.Cb||40,g.tb||n[3],g.mb||9,g.Ta||512,n[1],g.yg,g.Pf,g.Qf]);g.Db=n[q++];var p=n[q++];g.name=p[0];g.Cb=p[1];g.tb=p[2];g.mb=p[3];g.Ta=p[4];g.bf=p[5];(g.yg=p[6])?(g.Pf=p[7],g.Qf=p[8]):(g.yg=g.Cb,g.Pf=g.tb,g.Qf=g.mb);g.kb=n[q++];g.de=n[q++];g.Sb=n[q++];g.de=100<=g.de?g.de-100:g.de-g.Sb;g.xb=n[q++];g.ee=n[q++];g.Hb=
n[q++];g.eb=n[q++];g.pb=null;g.ya||(g.Le="");p=n[q++];102==p&&(p=!1);if("boolean"==typeof p){var A=p,p=n[q++],n=n[q];A?(q=p,p=k.A[l],hp(k,l,!0,!0),p.$e=!0,l=new po(k,p,"preload"),k.Li(p,l,q,n,!0)):jp(k,l,p,n,!0)?g.ya&&n&&kp(k,p,n,g.ya):sb(k,!1)}else void 0!==p&&g.ya&&0>g.ya.restore(p)&&(h=!1);h&&g.ya&&void 0!==g.eb&&(g.pb=g.ya.seek(g.Sb,g.kb,g.xb));h||(e=!1)}a.W=b[c++]||0;a.mc=b[c]||0;return e}m.Ki=function(a){var b;a=this.A[a];if(void 0!==a){b={};for(var c in a)b[c]=a[c]}return b};
m.nk=function(a,b,c){if(a.ya){var d=a.ya.info(),e=d[2],f=d[1]*e;if(b+c<=d[0]*f)return a.Sb=Math.floor(b/f),b%=f,a.kb=Math.floor(b/e),a.xb=b%e+1,a.Hb=c*d[3],a.Db=0,!0}return!1};
function gp(a,b){b||(a.fa=0);if(a.U)for(var c in a.U){var d=a.U[c],e=d.path,f;if(!(f=d.name))a:{if((f=a.qa.listDisks)&&f.options)for(var g=0;g<f.options.length;g++)if(f.options[g].value==e){f=f.options[g].innerText;break a}f=fa(e,!0)}if(e&&f&&(g=c.charCodeAt(0)-65,0<=g&&g<a.A.length)){!jp(a,g,f,e,!0)&&b&&sb(a,!1);continue}a.Oa("Incorrect auto-mount settings for drive "+c+" ("+JSON.stringify(d)+")")}return!!a.fa}
function ap(a,b,c,d){var e,f=a.qa.listDrives;if(f&&!isNaN(e=ca(f.value,10))&&0<=e&&e<a.A.length)if(c)if("?"==c)a.Oa('Use "Choose File" and "Mount" to select and load a local disk.');else{if("??"==c){c=window.prompt("Enter the URL of a remote disk image.","")||"";if(!c)return;b=fa(c)}for(;jp(a,e,b,c,!1,d)&&window.confirm("Click OK to reload the original disk.\n(WARNING: All disk changes will be discarded)");){for(var f=a,g=c,h=void 0,h=0;h<f.B.length;h++)if(f.B[h][1]==g){f.B.splice(h,1);break}hp(a,
e,!1,!0)}}else hp(a,e);else a.Oa("Unable to load the selected drive")}function jp(a,b,c,d,e,f){var g=a.A[b];if(d&&g.Le!=d){hp(a,b,e,!0);if(g.cd)return a.Oa("Drive "+b+" busy"),!0;g.cd=!0;e&&(g.xe=!0,a.fa++,z(a)&&y(a,"loading diskette '"+c+"'"));g.$e=!!f;if(!(new po(a,g,"preload")).load(c,d,f,a.Li))return!1}return!0}
m.Li=function(a,b,c,d,e){var f;a.cd=!1;b&&(f=b.info(),b&&f[0]>a.Cb||f[1]>a.tb)&&(this.Oa('Diskette "'+c+'" too large for drive '+String.fromCharCode(65+a.gb)),b=null);b?(a.ya=b,a.mk=c,a.Le=d,kp(this,c,d,b),f=b.info(),this.W|=128,this.Oa('Mounted diskette "'+c+'" in drive '+String.fromCharCode(65+a.gb),a.xe||e),a.yg=f[0],a.Pf=f[1],a.Qf=f[2]):a.$e=!1;a.xe&&(a.xe=!1,--this.fa||sb(this));$o(this,a.gb)};
function fp(a,b,c){if((a=a.qa.listDisks)&&a.options){for(var d=0;d<a.options.length;d++)if(a.options[d].value==c)return;d=document.createElement("option");d.value=c;d.textContent=b;a.appendChild(d)}}
function $o(a,b){if(0<=b&&b<a.A.length){var c=a.A[b],d=a.qa.listDisks,e=a.qa.listDrives;if(d&&e&&d.options&&e.options&&(e=ca(e.value,10),c=c.$e?"?":c.Le,!isNaN(e)&&e==b)){for(e=0;e<d.options.length;e++)if(d.options[e].value==c){d.selectedIndex!=e&&(d.selectedIndex=e);break}e==d.options.length&&(d.selectedIndex=0)}}}function hp(a,b,c,d){var e=a.A[b];e.ya&&(ip(a,e.Le,e.ya),e.mk="",e.Le="",e.ya=null,e.$e=!1,a.W|=128,d||a.Oa("Drive "+String.fromCharCode(65+b)+" unloaded",c),c||d||$o(a,b))}
function kp(a,b,c,d){var e;for(e=0;e<a.B.length;e++)if(a.B[e][1]==c){d.restore(a.B[e][2]);return}a.B[e]=[b,c,[]]}function ip(a,b,c){var d;for(d=0;d<a.B.length;d++)if(a.B[d][1]==b){a.B[d][2]=c.save();break}}m.Nm=function(a,b,c){x(this,a,b,c,"OUTPUT");b&4?this.Y&4||this.Y&8&&this.N&&gg(this.N,6):cp(this);this.Y=b};m.vl=function(a,b){x(this,a,null,b,"STATUS",this.ma);return this.ma};
m.tl=function(a,b){var c=0;this.L<this.C&&(c=this.V[this.L]);this.Y&8&&this.N&&fg(this.N,6);z(this)&&x(this,a,null,b,"DATA["+this.L+"]",c);++this.L>=this.C&&(this.ma&=-81,this.L=this.C=0);return c};
m.Mm=function(a,b,c){z(this)&&x(this,a,b,c,"DATA["+this.C+"]");this.C<this.V.length&&(this.V[this.C++]=b);a=this.V[0]&31;if(void 0!==Zo[a]&&this.C>=Zo[a].Rd){b=!1;this.L=0;a=lp(this);var d,e,f,g,h=a&31;switch(h){case 3:lp(this);lp(this);mp(this);break;case 4:c=lp(this);this.gb=c&3;d=this.A[this.gb];mp(this);np(this,(d.Db&-16777216)>>>24);break;case 5:case 6:c=lp(this);b=c>>2&1;this.gb=c&3;d=this.A[this.gb];d.kb=b;c=d.Sb=lp(this);e=lp(this);f=d.xb=lp(this);g=lp(this);d.Hb=128<<g;d.ee=lp(this);lp(this);
lp(this);6==h?(h=d,h.Db=72,h.ya&&(h.pb=null,h.Db=0,this.N&&(nl(this.N,2,this,"dmaRead",h),gl(this.N,2)))):(h=d,h.Db=72,h.ya&&(h.ya.ef?h.Db=576:(h.pb=null,h.Db=0,this.N&&(nl(this.N,2,this,"dmaWrite",h),gl(this.N,2)))));op(this,d,a,b,c,e,f,g);b=!0;break;case 7:c=lp(this);this.gb=c&3;d=this.A[this.gb];d.Sb=d.de=0;d.Db=268435488;mp(this);b=!0;break;case 8:d=this.A[this.gb];d.kb=0;mp(this);np(this,d.gb|d.kb<<2|d.Db&255);np(this,d.Sb);this.gb=this.gb+1&3;break;case 10:c=lp(this);b=c>>2&1;this.gb=c&3;d=
this.A[this.gb];c=d.Sb;e=d.kb=b;f=d.xb=1;g=0;d.Db=0;d.ya&&(d.pb=d.ya.seek(d.Sb,d.kb,d.xb))?g=d.pb.length>>8:d.Db=72;op(this,d,a,b,c,e,f,g);b=!0;break;case 13:c=lp(this);b=c>>2&1;this.gb=c&3;d=this.A[this.gb];c=d.Sb;e=d.kb=b;f=1;g=lp(this);d.Hb=128<<g;d.ee=lp(this);lp(this);d.Ci=lp(this);h=d;h.Db=72;h.ya&&(h.pb=null,h.Db=0,this.N&&(h.Ve=0,h.ld=Array(4),h.bh=!0,h.mg=0,nl(this.N,2,this,"dmaFormat",h),gl(this.N,2),h.bh=!1));op(this,d,a,b,c,e,f,g);b=!0;break;case 15:c=lp(this),this.gb=c&3,d=this.A[this.gb],
d.kb=c>>2&1,c=lp(this),d.Sb+=c-d.de,0>d.Sb&&(d.Sb=0),d.Sb>=d.Cb&&(d.Sb=d.Cb-1),d.de=c,d.Db=32,d.Sb||(d.Db|=268435456),mp(this),b=!0}0<this.C&&(this.ma|=80);this.Y&8&&(!d||d.Db&8||!b||this.N&&gg(this.N,6))}};m.ul=function(a,b){var c=this.W;this.W&=-129;x(this,a,null,b,"INPUT",c);return c};m.Lm=function(a,b,c){x(this,a,b,c,"CONTROL");this.mc=b};
function op(a,b,c,d,e,f,g,h){mp(a);np(a,b.gb|b.kb<<2|b.Db&255);np(a,(b.Db&65280)>>>8);np(a,(b.Db&16711680)>>>16);var k=0;if(e!=b.Sb||f!=b.kb)k=g=1;c&128&&(f^=k,d||(k=0));np(a,e+k);np(a,f);np(a,g);np(a,h)}function lp(a){var b=a.V[a.L];a.L++;return b}function mp(a){a.L=a.C=0}function np(a,b){a.V[a.C++]=b}
m.yk=function(a,b,c){if(void 0===b||0>b){b=-1;var d=null,e=0;if(!a.Db&&a.ya){do{if(a.pb&&(e=a.eb,0<=(b=a.ya.read(a.pb,a.eb++)))){d=a.pb;break}a.pb=a.ya.seek(a.Sb,a.kb,a.xb);if(!a.pb){a.Db=1088;break}a.eb=0;pp(a)}while(1)}c(b,!1,d,e)}else c(-1,!1)};m.zk=function(a,b){return void 0!==b&&0<=b?qp(a,b):-1};
m.Nk=function(a,b){var c;if(void 0!==b&&0<=b)a:if(c=b,a.Db)c=-1;else{a.ld[a.Ve++]=c;if(a.Ve==a.ld.length){a.Sb=a.ld[0];a.kb=a.ld[1];a.xb=a.ld[2];a.Hb=128<<a.ld[3];for(var d=a.Ve=0;d<a.Hb;d++)if(0>qp(a,a.Ci)){c=-1;break a}a.mg++}a.mg>=a.ee&&(c=-1)}else c=-1;return c};function qp(a,b){if(a.Db||!a.ya)return-1;do{if(a.pb&&a.ya.write(a.pb,a.eb++,b))break;a.pb=a.ya.seek(a.Sb,a.kb,a.xb);if(!a.pb){a.Db=8256;b=-1;break}a.eb=0;pp(a)}while(1);return b}
function pp(a){a.xb++;a.xb>=a.Qf+1&&(a.xb=1,a.kb++,a.kb>=a.Pf&&(a.kb=0,a.Sb++))}var dp={1012:Yo.prototype.vl,1013:Yo.prototype.tl,1015:Yo.prototype.ul},ep={1010:Yo.prototype.Nm,1013:Yo.prototype.Mm,1015:Yo.prototype.Lm};Qa(function(){for(var a=nb(document,"pcjs","fdc"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Yo(d);mb(d,c)}});
function rp(a){Ua.call(this,"HDC",a,rp,1048576);this.dmaRead=this.Ak;this.dmaWrite=this.Bk;this.dmaWriteBuffer=this.Ok;this.dmaWriteFormat=this.Pk;this.Ca=[];if(a.drives)try{this.Ca=eval("("+a.drives+")")}catch(b){w("HDC drive configuration error: "+b.message+" ("+a.drives+")")}this.ja="at"==a.type}db(rp);
var sp=["XTC","ATC","COMPAQ"],tp=[{0:[306,2],1:[375,8],2:[306,6],3:[306,4]},{1:[306,4],2:[615,4],3:[615,6],4:[940,8],5:[940,6],6:[615,4],7:[462,8],8:[733,5],9:[900,15],10:[820,3],11:[855,5],12:[855,7],13:[306,8],14:[733,7],16:[612,4],17:[977,5],18:[977,7],19:[1024,7],20:[733,5],21:[733,7],22:[733,5],23:[306,4]},{1:[306,4],2:[615,4],3:[615,6],4:[1023,8],5:[940,6],6:[697,5],7:[462,8],8:[925,5],9:[900,15],10:[980,5],11:[925,7],12:[925,9],13:[612,8],14:[980,4],16:[612,4],17:[980,5],18:[966,6],19:[1023,
8],20:[733,5],21:[733,7],22:[524,4,40],23:[924,8],24:[966,14],25:[966,16],26:[1023,14],27:[832,6,33],28:[1222,15,34],29:[1240,7,34],30:[615,4,25],31:[615,8,25],32:[905,9,25],33:[832,8,33],34:[966,7,34],35:[966,8,34],36:[966,9,34],37:[966,5,34],38:[612,16,63],39:[1023,11,33],40:[1023,15,34],41:[1630,15,52],42:[1023,16,63],43:[805,4,26],44:[805,2,26],45:[748,8,33],46:[748,6,33],47:[966,5,25]}];m=rp.prototype;m.Pb=function(){return!1};
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.ha=d;this.da=a;this.N=Eb(a,"ChipSet");this.U=0;this.Ga=3;hc(b,this,this.ja?up:vp);lc(b,this,this.ja?wp:xp);this.ja&&(this.U++,this.N&&5180==this.N.ia&&this.U++,this.Ga=2,b.Y[496]=2,b.fa[496]=2);cf(c,19,this.Yl.bind(this));cf(c,64,this.Zl.bind(this));this.reset();yp(this)||sb(this)};m.kc=function(a,b){if(!b)if(!a||!this.restore)zp(this),this.da.ih&&yp(this,!0);else if(!this.restore(a))return!1;return!0};m.jc=function(a){return a?this.save():!0};
m.ff=function(){return this.da?this.da.ff():""};m.he=function(){return this.da?this.da.he():""};m.reset=function(){zp(this,null,!0)};
m.save=function(){var a=new hf(this),b=0,c=[];this.ja?(c[b++]=this.W,c[b++]=this.Ma,c[b++]=this.Y,c[b++]=this.za,c[b++]=this.wa,c[b++]=this.ua,c[b++]=this.sa,c[b++]=this.ma,c[b++]=this.Fa,c[b++]=[this.ga,this.gb]):(c[b++]=this.pa,c[b++]=this.ma,c[b++]=this.V,c[b++]=this.L,c[b++]=this.C,c[b++]=this.Ka,c[b++]=this.Ja,c[b++]=this.Ha,c[b++]=this.ka);for(var d=0,e=[],f=0;f<this.A.length;f++){var g=d++,h=this.A[f],k=0,l=[];l[k++]=h.errorCode;l[k++]=h.pk;l[k++]=h.bf;l[k++]=h.Qe;l[k++]=h.Re;l[k++]=h.kb;l[k++]=
h.tb;l[k++]=h.ae;l[k++]=h.xb;l[k++]=h.ee;l[k++]=h.Hb;l[k++]=h.eb;l[k]=h.ya?h.ya.save():null;e[g]=l}c[b]=e;N(a,0,c);return a.data()};m.restore=function(a){return zp(this,a[0])};
function zp(a,b,c){var d=0,e=!0;a.gb=-1;if(a.ja){if(null==b&&(b=[0,0,0,0,0,0,0,64,0,[0,-1]]),a.W=b[d++],a.Ma=b[d++],a.Y=b[d++],a.za=b[d++],a.wa=b[d++],a.ua=b[d++],a.sa=b[d++],a.ma=b[d++],a.Fa=b[d++],a.ga=b[d++],"object"==typeof a.ga){var f=a.ga;a.ga=f[0];a.gb=f[1]}}else null==b&&(b=[0,0,Array(14),0,0]),a.pa=b[d++],a.ma=b[d++],a.V=b[d++],a.L=b[d++],a.C=b[d++],a.Ka=b[d++],a.Ja=b[d++],a.Ha=b[d++],f=b[d++],void 0!==f?a.ka=f:void 0===a.ka&&(a.ka=-1);void 0===a.A&&(a.A=Array(a.Ca.length));b=b[d];void 0===
b&&(b=[]);for(d=0;d<a.A.length;d++){void 0===a.A[d]&&(a.A[d]={});var f=a.A[d],g=a,h=d,k=f,l=a.Ca[d],n=b[d],q=c,p=0,A=!0;void 0===n&&(n=[0,0,!1,Array(8)]);k.gb=h;k.errorCode=n[p++];k.pk=n[p++];k.bf=n[p++];k.Qe=n[p++];k.Re=n[p++];k.kb=n[p++];k.tb=n[p++];k.ae=n[p++];k.xb=n[p++];k.ee=n[p++];k.Hb=n[p++];k.lg=g.ja?0:1;k.name=l.name;void 0===k.name&&(k.name="Hard Drive");k.path=l.path;k.mode=l.mode||(k.path?"preload":"local");"demandro"!=k.mode&&"demandrw"!=k.mode||g.he()||(k.mode="local");k.type=l.type;
if(void 0===k.type||void 0===tp[g.U][k.type])k.type=g.Ga;l=tp[g.U][k.type];k.mb=l[2]||17;k.Ta=l[3]||512;if(q&&g.N){var F=g.N,v=k.type;if(F.A){var q=null,l=void 0,D=F.A[18];15<v&&(q=v,v=15);h?(D=D&240|v,l=26):(D=D&15|v<<4,l=25);v=F;v.A&&(v.A[18]=D,Qk(v));null!=q&&F.A&&(F.A[l]=q,Qk(F))}}void 0===k.ya&&(k.ya=null,g.Oa("Type "+k.type+' "'+k.name+'" is fixed disk '+h,!0));Ap(g,k);k.eb=n[p++];k.pb=null;k.ya&&(g=n[p],void 0!==g&&0>k.ya.restore(g)&&(A=!1),A&&void 0!==k.eb&&(k.pb=k.ya.seek(k.ae,k.kb,k.xb+
k.lg)));A||(e=!1);null!=a.pa&&1>=d&&(a.pa|=(f.type&3)<<(1-d<<1))}0<=a.gb&&(a.B=a.A[a.gb]);return e}m.Ki=function(a){var b;a=this.A[a];if(void 0!==a){b={};for(var c in a)b[c]=a[c]}return b};
function Ap(a,b,c){if(b){var d=0,e=0;null==c&&((d=b.Qe[2])?e=b.Qe[0]<<8|b.Qe[1]:c=b.type);null==c||d||(d=tp[a.U][c][1],e=tp[a.U][c][0]);d&&((c=tp[a.U][b.type])&&e!=c[0]&&d!=c[1]&&a.Oa("Warning: drive parameters ("+e+","+d+") do not match drive type "+b.type+" ("+c[0]+","+c[1]+")"),b.Cb=e,b.tb=d,null==b.ya&&(b.ya=new po(a,b,b.mode)))}}
m.nk=function(a,b,c){if(a.ya){var d=a.ya.info(),e=d[0];if(e){var f=d[2],g=d[1]*f;if(b+c<=e*g)return a.ae=Math.floor(b/g),b%=g,a.kb=Math.floor(b/f),a.xb=b%f,a.Hb=c*d[3],a.errorCode=0,!0}}return!1};
function yp(a,b){b||(a.fa=0);for(var c=0;c<a.A.length;c++){var d=a.A[c];if(d.name&&d.path){if(!(b&&d.ya&&d.ya.qg)){var e;e=a;var f=d.name,d=d.path,g=e.A[c];g.cd?(e.Oa("Drive "+c+" busy"),e=!0):(g.cd=!0,g.xe=!0,e.fa++,z(e)&&y(e,"loading "+f),(g.ya||new po(e,g,g.mode)).load(f,d,null,e.Qk),e=!1);!e&&b&&sb(a,!1)}}else b&&void 0!==d.type&&(d.ya=null,Ap(a,d,d.type))}return!!a.fa}
m.Qk=function(a,b,c){a.cd=!1;if(a.ya=b)this.Oa('Mounted disk "'+c+'" in drive '+String.fromCharCode(67+a.gb),a.xe),b=b.info(),b[0]==a.Cb&&b[1]==a.tb&&b[2]==a.mb&&b[3]==a.Ta||this.Oa("Warning: disk geometry ("+b[0]+":"+b[1]+":"+b[2]+") does not match "+sp[this.U]+" drive type "+a.type+" ("+a.Cb+":"+a.tb+":"+a.mb+")");a.xe&&(a.xe=!1,--this.fa||sb(this))};
m.Wl=function(a,b){var c=0;this.L<this.C&&(c=this.V[this.L]);this.N&&fg(this.N,5);this.ma&=-33;x(this,a,null,b,"DATA["+this.L+"]",c);++this.L>=this.C&&(this.L=this.C=0,this.ma&=-15);return c};m.mn=function(a,b,c){x(this,a,b,c,"DATA["+this.C+"]");this.C<this.V.length&&(this.V[this.C++]=b);a=12!=this.V[0]?6:this.V.length;6==this.C&&(this.ma&=-2);this.C>=a&&(this.ma|=2,this.ma&=-2,Bp(this))};m.Xl=function(a,b){var c=this.ma;x(this,a,null,b,"STATUS",c);this.L<this.C&&(this.ma|=1);return c};
m.pn=function(a,b,c){x(this,a,b,c,"RESET");this.Ka=b;this.N&&fg(this.N,5);zp(this)};m.Vl=function(a,b){x(this,a,null,b,"CONFIG",this.pa);return this.pa};m.on=function(a,b,c){x(this,a,b,c,"PULSE");this.Ja=b;this.ma=13};m.nn=function(a,b,c){x(this,a,b,c,"PATTERN");this.Ha=b};m.mi=function(a,b,c){x(this,a,b,c,"NOISE")};
function Cp(a,b,c){var d=-1;a.B&&(d=Dp(a.B,function(){}),1==a.B.eb||a.B.eb==a.B.Ta)&&(z(a,1048832)&&x(a,b,null,c,"DATA["+a.B.eb+"]",d),1<a.B.eb&&(a.B.Hb-=a.B.Ta,a.Y=a.Y-1&255,a.B.Hb>=a.B.Ta?(a.ma=128,Dp(a.B,function(b){0<=b?(Ep(a),a.N&&5180==a.N.ia&&(a.ma=0),a.ma|=88):(a.ma=1,a.W=16)},!1)):a.ma=80));return d}m.Ck=function(a,b){return Cp(this,a,b)|Cp(this,a,b)<<8};
function Fp(a,b,c,d){if(a.B&&a.B.Hb>=a.B.Ta)if(0>Gp(a.B,c))a.ma=1,a.W=16;else if(1==a.B.eb||a.B.eb==a.B.Ta)z(a,1048832)&&x(a,b,c,d,"DATA["+a.B.eb+"]"),1<a.B.eb&&(a.B.Hb-=a.B.Ta,a.Y=a.Y-1&255,Ep(a),a.ma=80,a.B.Hb>=a.B.Ta&&(a.ma|=8))}m.tm=function(a,b,c){Fp(this,a,b&255,c);Fp(this,a,b>>8&255,c)};m.cl=function(a,b){var c=this.W;x(this,a,null,b,"ERROR",c);return c};m.ym=function(a,b,c){x(this,a,b,c,"WPREC");this.Ma=b};m.el=function(a,b){var c=this.Y;x(this,a,null,b,"SECCNT",c);return c};
m.wm=function(a,b,c){x(this,a,b,c,"SECCNT");this.Y=b};m.fl=function(a,b){var c=this.za;x(this,a,null,b,"SECNUM",c);return c};m.xm=function(a,b,c){x(this,a,b,c,"SECNUM");this.za=b};m.al=function(a,b){var c=this.wa;x(this,a,null,b,"CYLLO",c);return c};m.sm=function(a,b,c){x(this,a,b,c,"CYLLO");this.wa=b};m.$k=function(a,b){var c=this.ua;x(this,a,null,b,"CYLHI",c);return c};m.rm=function(a,b,c){x(this,a,b,c,"CYLHI");this.ua=b};m.bl=function(a,b){var c=this.sa;x(this,a,null,b,"DRVHD",c);return c};
m.um=function(a,b,c){x(this,a,b,c,"DRVHD");this.sa=b;this.ma=this.A[this.sa&16?1:0]?this.ma|80:this.ma&-65};m.gl=function(a,b){var c=this.ma;x(this,a,null,b,"STATUS",c);this.ma&64&&(this.ma&=-129);return c};m.qm=function(a,b,c){x(this,a,b,c,"COMMAND");this.Fa=b;this.N&&fg(this.N,14);Hp(this)};m.vm=function(a,b,c){x(this,a,b,c,"FDR");this.ga&4&&!(b&4)&&(this.W=1);this.ga=b};
function Hp(a){var b=!1,c=a.Fa,d=a.sa&16?1:0,e=a.sa&15,f=a.wa|(a.ua&3)<<8,g=a.za,h=a.Y||256;a.gb=-1;a.B=null;a.W=0;a.ma=80;var k=a.A[d];k?(k.ae=f,k.kb=e,k.xb=g,k.Hb=h*k.Ta,c=144<=c?c:c&240,k.pb=null,k.eb=0,k.errorCode=0,a.gb=d,a.B=k):c=-1;switch(c&240){case 16:b=!0;break;case 32:a.ma=128;Dp(k,function(b){0<=b&&a.N?(Ep(a),a.ma=88):(a.ma=1,a.W=16)},!1);break;case 48:a.ma=8;break;case 64:b=!0;break;case 112:b=!0;break;case 144:a.W=1;b=!0;break;case 145:k.tb=e+1,k.mb=h,b=!0}b&&Ep(a)}
function Ep(a){!a.N||a.ga&2||gg(a.N,14,120)}
function Bp(a){a.L=0;var b=Ip(a),c=Ip(a),d=c&32,e=d>>5,f=c&31,g=Ip(a),h=Ip(a),k=g<<2&768|h,l=g&63,n=Ip(a),q=Ip(a),p=a.A[e];p&&(p.ae=k,p.kb=f,p.xb=l,p.Hb=n*p.Ta);switch(b){case 3:Jp(a,p?p.errorCode:4);Kp(a,c);Kp(a,g);Kp(a,h);Kp(a,0|d);b=-1;break;case 12:for(c=0;0<=(b=Ip(a));)p&&c<p.Qe.length&&(p.Qe[c++]=b);p&&Ap(a,p);b=0;p||a.ka!=e||(a.ka=-1,b=2);Jp(a,b|d);b=-1;break;case 224:case 228:Jp(a,0|d),b=-1}if(0<=b)switch(void 0===p?b=-1:(p.errorCode=0,p.pk=0),b){case 0:Jp(a,0|d);break;case 1:p.Df=q;Jp(a,
0|d);break;case 5:Jp(a,0|d);break;case 8:Lp(a,p,function(b){Jp(a,b|d)});break;case 10:Mp(a,p,function(b){Jp(a,b|d)});break;case 15:Np(a,p,function(b){Jp(a,b|d)});break;default:Jp(a,2|d)}}function Ip(a){var b=-1;a.L<a.C&&(b=a.V[a.L++]);return b}function Jp(a,b){a.L=a.C=0;void 0!==b&&Kp(a,b);a.N&&gg(a.N,5);a.ma|=32}function Kp(a,b){a.V[a.C++]=b}m.Ak=function(a,b,c){void 0===b||0>b?Dp(a,c):c(-1,!1)};m.Bk=function(a,b){return void 0!==b&&0<=b?Gp(a,b):-1};
m.Ok=function(a,b){var c;void 0!==b&&0<=b?(c=b,a.eb<a.Re.length?a.Re[a.eb++]=c:(a.errorCode=20,c=-1)):c=-1;return c};m.Pk=function(a,b){var c;if(void 0!==b&&0<=b)a:if(c=b,a.errorCode)c=-1;else{a.ld[a.Ve++]=c;if(a.Ve==a.ld.length){a.ae=a.ld[0];a.kb=a.ld[1];a.xb=a.ld[2];a.Hb=128<<a.ld[3];for(var d=a.Ve=0;d<a.Hb;d++)if(0>Gp(a,a.Ci)){c=-1;break a}a.mg++}a.mg>=a.ee&&(c=-1)}else c=-1;return c};
function Lp(a,b,c){b.errorCode=4;if(b.ya&&(b.pb=null,a.N)){b.errorCode=0;nl(a.N,3,a,"dmaRead",b);gl(a.N,3,function(a){a||0!=b.errorCode||(b.errorCode=4);c(b.errorCode?2:0)});return}c(b.errorCode?2:0)}function Mp(a,b,c){b.errorCode=4;if(b.ya&&(b.pb=null,a.N)){b.errorCode=0;nl(a.N,3,a,"dmaWrite",b);gl(a.N,3,function(a){a||(0==b.errorCode&&(b.errorCode=4),20==b.errorCode&&(b.errorCode=0));c(b.errorCode?2:0)});return}c(b.errorCode?2:0)}
function Np(a,b,c){b.errorCode=4;b.Re&&b.Re.length==b.Hb||(b.Re=Array(b.Hb));b.eb=0;a.N?(b.errorCode=0,nl(a.N,3,a,"dmaWriteBuffer",b),gl(a.N,3,function(a){a||0!=b.errorCode||(b.errorCode=4);c(b.errorCode?2:0)})):c(b.errorCode?2:0)}
function Dp(a,b,c){var d=-1,e=null,f=0;if(a.errorCode)return b&&b(d,!1,e,f),d;var g=!1!==c?1:0;if(a.pb&&(f=a.eb,d=a.ya.read(a.pb,a.eb),a.eb+=g,0<=d))return e=a.pb,b&&b(d,!1,e,f),d;if(b){if(a.ya)return a.ya.seek(a.ae,a.kb,a.xb+a.lg,!1,function(c,k){(a.pb=c)?(e=c,f=a.eb=0,Op(a),d=a.ya.read(a.pb,a.eb),a.eb+=g):a.errorCode=20;b(d,k,e,f)}),d;a.errorCode=20;b(d,!1,e,f)}return d}
function Gp(a,b){if(a.errorCode)return-1;do{if(a.pb&&a.ya.write(a.pb,a.eb++,b))break;a.ya&&a.ya.seek(a.ae,a.kb,a.xb+a.lg,!0,function(b){a.pb=b});if(!a.pb){a.errorCode=20;b=-1;break}a.eb=0;Op(a)}while(1);return b}function Op(a){a.xb++;var b=1-a.lg;a.xb>=a.mb+b&&(a.xb=b,a.kb++,a.kb>=a.tb&&(a.kb=0,a.ae++))}m.Yl=function(){var a=this.F.M&255;!(this.F.G>>8)&&128<a&&(this.ka=a-128);return!0};m.Zl=function(){var a;(a=this.F.G>>8||!this.N)||(a=!(this.N.vc[0].Cd&64));return a?!0:!1};
var vp={800:rp.prototype.Wl,801:rp.prototype.Xl,802:rp.prototype.Vl},up={496:rp.prototype.Ck,497:rp.prototype.cl,498:rp.prototype.el,499:rp.prototype.fl,500:rp.prototype.al,501:rp.prototype.$k,502:rp.prototype.bl,503:rp.prototype.gl},xp={800:rp.prototype.mn,801:rp.prototype.pn,802:rp.prototype.on,803:rp.prototype.nn,807:rp.prototype.mi,811:rp.prototype.mi,815:rp.prototype.mi},wp={496:rp.prototype.tm,497:rp.prototype.ym,498:rp.prototype.wm,499:rp.prototype.xm,500:rp.prototype.sm,501:rp.prototype.rm,
502:rp.prototype.um,503:rp.prototype.qm,1014:rp.prototype.vm};Qa(function(){for(var a=nb(document,"pcjs","hdc"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new rp(d);mb(d,c)}});
function Pp(a){Ua.call(this,"Debugger",a,Pp);this.pa=this.za=this.fa=0;this.Ja=4;this.Ca=5;this.Ba=1048575;this.Y=Qp(this);this.sb=Qp(this);this.U=-1;this.L=[];this.Fa=!1;this.ua=Qp(this);this.B=[];this.wa={};this.A=this.sa=this.ga=[];Rp(this);this.Ma=0;Sp(this);this.Wa=[];Tp(this,a.messages);this.fb=a.commands;var b=this;window?void 0===window.$&&(window.$=function(a){return Up(b,a)}):void 0===global.$&&(global.$=function(a){return Up(b,a)})}db(Pp);
var Vp={16:262144,19:524288,21:32768,22:65536,28:2048,33:134217728,51:16777216},Wp=[26,28,40,42,109],Xp={"?":"help/print","a [#]":"assemble","b [#]":"breakpoint",c:"clear output","d [#]":"dump memory","e [#]":"edit memory",f:"frequencies","g [#]":"go [to #]",h:"halt","i [#]":"input port #","if":"eval expression",k:"stack trace",l:"load sector(s)",ln:"list nearest symbol(s)",m:"messages",mouse:"mouse action","o [#]":"output port #",p:"step over",print:"print expression",r:"dump/set registers",reset:"reset machine",
"t [#]":"trace","u [#]":"unassemble",x:"execution options",v:"print version","var":"assign variable"},Yp="INVALID AAA AAD AAM AAS ADC ADD AND ARPL AS: BOUND BSF BSR BT BTC BTR BTS CALL CBW CLC CLD CLI CLTS CMC CMP CMPSB CMPSW CS: CWD DAA DAS DEC DIV DS: ENTER ES: ESC FS: GS: HLT IBTS IDIV IMUL IN INC INS INT INT3 INTO IRET JBE JC JCXZ JG JGE JL JLE JMP JA JNC JNO JNP JNS JNZ JO JP JS JZ LAHF LAR LDS LEA LEAVE LES LFS LGDT LGS LIDT LLDT LMSW LOADALL LOCK LODSB LODSW LOOP LOOPNZ LOOPZ LSL LSS LTR MOV MOVSB MOVSW MOVSX MOVZX MUL NEG NOP NOT OR OS: OUT OUTS POP POPA POPF PUSHF PUSHA PUSH RCL RCR REPNZ REPZ RET RETF ROL ROR SAHF SALC SAR SBB SCASB SCASW SETBE SETC SETG SETGE SETL SETLE SETNBE SETNC SETNO SETNP SETNS SETNZ SETO SETP SETS SETZ SGDT SHL SHLD SHR SHRD SIDT SLDT SMSW SS: STC STD STI STOSB STOSW STR SUB TEST VERR VERW WAIT XBTS XCHG XLAT XOR".split(" "),
Zp="FLD FST FSTP FXCH FILD FIST FISTP FBLD FBSTP FADD FADDP FIADD FSUB FSUBP FISUB FSUBR FSUBRP FISUBR FMUL FMULP FIMUL FDIV FDIVP FIDIV FDIVR FDIVRP FIDIVR FSQRT FSCALE FPREM FRNDINT FXTRACT FABS FCHS FCOM FCOMP FCOMPP FICOM FICOMP FTST FXAM FPTAN FPATAN F2XM1 FYL2X FYL2XP1 FLDZ FLD1 FLDPI FLDL2T FLDL2E FLDLG2 FLDLN2 FINIT FNINIT FDISI FNDISI FENI FNENI FLDCW FSTCW FNSTCW FSTSW FNSTSW FCLEX FNCLEX FSTENV FNSTENV FLDENV FSAVE FNSAVE FRSTOR FINCSTP FDECSTP FFREE FFREEP FNOP FWAIT FSETPM FSINCOS FSTSWAX".split(" "),
$p=["VALID","ZERO ","SPEC ","EMPTY"],aq=[8086,80186,80286,80386],bq=["AL","CL","DL","BL","AH","CH","DH","BH","AX","CX","DX","BX","SP","BP","SI","DI","ES","CS","SS","DS","FS","GS","IP","PS","EAX","ECX","EDX","EBX","ESP","EBP","ESI","EDI","CR0","CR1","CR2","CR3",null,null,null,null,"DR0","DR1","DR2","DR3",null,null,"DR6","DR7",null,null,null,null,null,null,"TR6","TR7","EIP"],cq="BX+SI BX+DI BP+SI BP+DI SI DI BP BX EAX ECX EDX EBX ESP EBP ESI EDI".split(" "),dq={cpu:1,seg:2,desc:4,tss:8,"int":16,fault:32,
bus:64,mem:128,port:256,dma:512,pic:1024,timer:2048,cmos:4096,rtc:8192,8042:16384,chipset:32768,keyboard:65536,key:131072,video:262144,fdc:524288,hdc:1048576,disk:2097152,parallel:4194304,serial:8388608,mouse:16777216,speaker:33554432,computer:67108864,dos:134217728,data:268435456,log:536870912,warn:1073741824,halt:-2147483648},eq=[0,0],fq=[176,12291],gq=[[6,12417,4273],[6,12420,4276],[6,12465,4225],[6,12468,4228],[6,12385,4097],[6,14436,4100],[108,4211],[103,8307],[99,12417,4273],[99,12420,4276],
[99,12465,4225],[99,12468,4228],[99,12385,4097],[99,14436,4100],[108,4467],[103,8563],[5,12417,4273],[5,12420,4276],[5,12465,4225],[5,12468,4228],[5,12385,4097],[5,14436,4100],[108,4723],[103,8819],[120,12417,4273],[120,12420,4276],[120,12465,4225],[120,12468,4228],[120,12385,4097],[120,14436,4100],[108,4979],[103,9075],[7,12417,4273],[7,12420,4276],[7,12465,4225],[7,12468,4228],[7,12385,4097],[7,14436,4100],[35,8],[29],[154,12417,4273],[154,12420,4276],[154,12465,4225],[154,12468,4228],[154,12385,
4097],[154,14436,4100],[27,8],[30],[162,12417,4273],[162,12420,4276],[162,12465,4225],[162,12468,4228],[162,12385,4097],[162,14436,4100],[147,8],[1],[24,4225,4273],[24,4228,4276],[24,4273,4225],[24,4276,4228],[24,4193,4097],[24,6244,4100],[33,8],[4],[44,14436],[44,14692],[44,14948],[44,15204],[44,15460],[44,15716],[44,15972],[44,16228],[31,14436],[31,14692],[31,14948],[31,15204],[31,15460],[31,15716],[31,15972],[31,16228],[108,6244],[108,6500],[108,6756],[108,7012],[108,7268],[108,7524],[108,7780],
[108,8036],[103,10340],[103,10596],[103,10852],[103,11108],[103,11364],[103,11620],[103,11876],[103,12132],[107,32768],[104,32768],[10,37044,4228],[8,8323,4275],[37,49160],[38,49160],[100,49160],[9,49160],[108,36868],[42,45235,4228,4100],[108,36866],[42,41139,4228,4097],[45,41041,6756],[45,41044,6756],[102,39524,4161],[102,39524,4164],[64,4145],[60,4145],[51,4145],[59,4145],[67,4145],[63,4145],[50,4145],[58,4145],[66,4145],[62,4145],[65,4145],[61,4145],[55,4145],[54,4145],[56,4145],[53,4145],[163,
12417,4097],[164,12420,4100],[163,12417,4097],[165,12420,4097],[155,4225,4273],[155,4228,4276],[160,12465,12417],[160,12468,12420],[90,8321,4273],[90,8324,4276],[90,8369,4225],[90,8372,4228],[90,8324,4291],[71,8372,148],[90,8387,4228],[103,8324],[97],[160,14436,14692],[160,14436,14948],[160,14436,15204],[160,14436,15460],[160,14436,15716],[160,14436,15972],[160,14436,16228],[18],[28],[17,4103],[158],[106],[105],[117],[68],[90,8289,4129],[90,10340,4132],[90,8225,4193],[90,8228,6244],[91,8273,4161],
[92,8276,4164],[25,4177,4161],[26,4180,4164],[155,4193,4097],[155,6244,4100],[151,8273,4193],[152,8276,6244],[82,8289,4161],[83,10340,4164],[121,4193,4177],[122,6244,4180],[90,8289,4097],[90,8545,4097],[90,8801,4097],[90,9057,4097],[90,9313,4097],[90,9569,4097],[90,9825,4097],[90,10081,4097],[90,10340,4100],[90,10596,4100],[90,10852,4100],[90,11108,4100],[90,11364,4100],[90,11620,4100],[90,11876,4100],[90,12132,4100],[166,28801,4097],[167,28804,4097],[113,4099],[113],[73,8372,4246],[70,8372,4246],
[90,8321,4097],[90,8324,4100],[34,36867,4097],[72,32768],[114,4099],[114],[47],[46,4097],[48],[49],[168,12417,4113],[169,12420,4113],[170,12417,4449],[171,12420,4449],[3,1],[2,1],[118],[161],[36,4228],[36,4228],[36,4228],[36,4228],[36,4228],[36,4228],[36,4228],[36,4228],[85,4145],[86,4145],[84,4145],[52,4145],[43,8289,4097],[43,10340,4097],[101,4097,4193],[101,4097,6244],[17,4148],[57,4148],[57,4103],[57,4145],[43,8289,6759],[43,10340,6759],[101,6759,4193],[101,6759,6244],[81,8],[0],[111,8],[112,
8],[39],[23],[172,12417],[173,12420],[19],[148],[21],[150],[20],[149],[174,12417],[175,12420]],hq={0:[177,12419],1:[178,12419],2:[69,41139,4243],3:[87,41139,4243],5:[80,32768],6:[22,32768],7:[80,49152],32:[90,57509,4309],33:[90,57509,4325],34:[90,57557,4261],35:[90,57573,4261],36:[90,57509,4341],38:[90,57589,4261],128:[64,53300],129:[60,53300],130:[51,53300],131:[59,53300],132:[67,53300],133:[63,53300],134:[50,53300],135:[58,53300],136:[66,53300],137:[62,53300],138:[65,53300],139:[61,53300],140:[55,
53300],141:[54,53300],142:[56,53300],143:[53,53300],144:[135,57473],145:[131,57473],146:[124,57473],147:[130,57473],148:[138,57473],149:[134,57473],150:[123,57473],151:[129,57473],152:[137,57473],153:[133,57473],154:[136,57473],155:[132,57473],156:[127,57473],157:[126,57473],158:[128,57473],159:[125,57473],160:[108,54387],161:[103,58483],163:[13,53380,4276],164:[141,57476,4276,4097],165:[141,57476,4276,4449],166:[159,57524,4228,6244,4449],167:[40,57476,6244,4449,4276],168:[108,54643],169:[103,58739],
171:[16,57476,4276],172:[143,57476,4276,4097],173:[143,57476,4276,4449],175:[42,61572,4276],178:[88,8372,4246],179:[15,57476,4276],180:[74,8372,4246],181:[76,8372,4246],182:[94,57524,4225],183:[94,57525,4227],186:[179,61572,4097],187:[14,57476,4276],188:[11,57524,4228],189:[12,57524,4228],190:[93,57524,4225],191:[93,57525,4227]},iq={216:{0:[9,4235],1:[18,4235],2:[34,4235],3:[35,4235],4:[12,4235],5:[15,4235],6:[21,4235],7:[24,4235],48:[9,8297,4202],49:[18,8297,4202],50:[34,8297,4202],51:[35,8297,4202],
52:[12,8297,4202],53:[15,8297,4202],54:[21,8297,4202],55:[24,8297,4202]},217:{0:[0,4235],2:[1,8331],3:[2,8331],4:[68,4239],5:[59,4227],6:[66,8335],7:[60,8323],48:[0,8298],49:[3,8298],50:[76],51:[2,8298],64:[33],65:[32],68:[39],69:[40],80:[47],81:[49],82:[50],83:[48],84:[51],85:[52],86:[46],96:[43],97:[44],98:[41],99:[42],100:[31],102:[73],103:[72],112:[29],113:[45],114:[27],116:[30],117:[28]},218:{0:[11,4235],1:[20,4235],2:[37,4235],3:[38,4235],4:[14,4235],5:[17,4235],6:[23,4235],7:[26,4235]},219:{0:[4,
4235],2:[5,8331],3:[6,8331],5:[0,4237],7:[2,8333],64:[57],65:[55],66:[64],67:[53],68:[78,32768],115:[79,49152]},220:{0:[9,4236],1:[18,4236],2:[34,4236],3:[35,4236],4:[12,4236],5:[15,4236],6:[21,4236],7:[24,4236],48:[9,8298,4201],49:[18,8298,4201],50:[34,4202],51:[35,4202],52:[15,8298,4201],53:[12,8298,4201],54:[24,8298,4201],55:[21,8298,4201]},221:{0:[0,4236],2:[1,8332],3:[2,8332],4:[71,4239],6:[69,8335],7:[62,8323],48:[74,4202],49:[3,8298],50:[1,4202],51:[2,4202]},222:{0:[11,4227],1:[20,4227],2:[37,
4227],3:[38,4227],4:[14,4227],5:[17,4227],6:[23,4227],7:[26,4227],48:[10,8298,4201],49:[19,8298,4201],50:[35,4202],51:[36,4202],52:[16,8298,4201],53:[13,8298,4201],54:[25,8298,4201],55:[22,8298,4201]},223:{0:[4,4227],2:[5,8323],3:[6,8323],4:[7,4238],5:[4,4236],6:[8,8334],7:[6,8332],48:[75,4202],49:[3,8298],50:[2,4202],51:[2,4202],52:[80,32768]}},jq=[[[6,12417,4097],[99,12417,4097],[5,12417,4097],[120,12417,4097],[7,12417,4097],[154,12417,4097],[162,12417,4097],[24,4225,4097]],[[6,12420,4100],[99,
12420,4100],[5,12420,4100],[120,12420,4100],[7,12420,4100],[154,12420,4100],[162,12420,4100],[24,4228,4100]],[[6,12420,4098],[99,12420,4098],[5,12420,4098],[120,12420,4098],[7,12420,4098],[154,12420,4098],[162,12420,4098],[24,4228,4098]],[[115,45185,4097],[116,45185,4097],[109,45185,4097],[110,45185,4097],[140,45185,4097],[142,45185,4097],eq,[119,45185,4097]],[[115,45188,4097],[116,45188,4097],[109,45188,4097],[110,45188,4097],[140,45188,4097],[142,45188,4097],eq,[119,45188,4097]],[[115,12417,4113],
[116,12417,4113],[109,12417,4113],[110,12417,4113],[140,12417,4113],[142,12417,4113],eq,[119,12417,4113]],[[115,12420,4113],[116,12420,4113],[109,12420,4113],[110,12420,4113],[140,12420,4113],[142,12420,4113],eq,[119,12420,4113]],[[115,12417,4449],[116,12417,4449],[109,12417,4449],[110,12417,4449],[140,12417,4449],[142,12417,4449],eq,[119,12417,4449]],[[115,12420,4449],[116,12420,4449],[109,12420,4449],[110,12420,4449],[140,12420,4449],[142,12420,4449],eq,[119,12420,4449]],[[155,4225,4097],eq,[98,
12417],[96,12417],[95,4225],[42,12417],[32,4225],[41,12417]],[[155,4228,4100],eq,[98,12420],[96,12420],[95,4228],[42,12420],[32,4228],[41,12420]],[[44,12417],[31,12417],eq,eq,eq,eq,eq,eq],[[44,12420],[31,12420],[17,4228],[17,4231],[57,4228],[57,4231],[108,4228],eq],[],[[145,41091],[153,41091],[78,36995],[89,36995],[156,36995],[157,36995],eq,eq],[[139,41091],[144,41091],[75,36995],[77,36995],[146,41091],eq,[79,36995],eq],[eq,eq,eq,eq,[13,53380,4097],[16,57476,4097],[15,57476,4097],[14,57476,4097]]];
m=Pp.prototype;
m.Gc=function(a,b,c,d){this.ea=b;this.F=c;this.da=a;this.cc=Eb(a,"FDC");this.Kb=Eb(a,"HDC");this.Xb=Eb(a,"FPU");this.V=Eb(a,"Mouse");(a=bp(a,"messages"))&&Tp(this,a);this.Ca=b.N>>2;this.Ba=b.wg;this.Rb=new ed(this.F,7,"DBG");this.Ha=gq;80186<=this.F.ia&&(this.Ha=gq.slice(),this.Ha[15]=eq,80286<=this.F.ia&&(this.Ha[15]=fq,80386<=this.F.ia&&(this.Ja=8)));Ek(this,64,function(a){kq(d,d.F.kd,a[0])});Ek(this,128,function(a){kq(d,d.F.ra,a[0],d.F.ra!==d.F.kd)});Ek(this,4,function(a){if(a=a[0]){var b=lq(d,
a);if(void 0===b)d.O("invalid selector: "+a);else if(a=mq(d,b,2),d.O("dumpSel("+u(a?a.ba:b)+"): %"+r(a?a.Yb:null,d.Ca)),a){var c,b=!1;if(a.type&4096)a.type&2048?(c="code"+(a.type&512?",readable":",execonly"),a.type&1024&&(c+=",conforming")):(c="data"+(a.type&512?",writable":",readonly"),a.type&1024&&(c+=",expdown")),a.type&256&&(c+=",accessed");else{var h=nq[a.type];h&&(c=h[0],b=h[1])}!c||a.wb&32768||(c+=",not present");d.O((b?"seg="+u(a.Aa&65535)+" off="+u(a.Sa):"base="+r(a.Aa,d.Ca)+" limit="+oq(a.Sa))+
" type="+t(a.type>>8)+" ("+c+") ext="+u(a.ext&-65296)+" dpl="+t(a.Kc))}}else d.O("no selector")});Ek(this,8,function(a){a:{if(a=a[0]){var b=lq(d,a);if(void 0===b){d.O("invalid task selector: "+a);break a}a=mq(d,b,2)}else a=d.F.Qa;d.O("dumpTSS("+u(a?a.ba:b)+"): %"+r(a?a.Aa:null,d.Ca));if(a){var b="",c=a.type&-513,h=256==c?4:8,k=256==c?pq:qq,l,n,q,p;for(p in k)l=k[p],n=a.Aa+l,q=Jf(d.F,n,2),2304==c&&(q|=Jf(d.F,n+2,2)<<16),b&&(b+="\n"),b+=u(l)+" "+la(p+":",11)+r(q,h);if(2304==c)for(p=0,l=q>>>16;l<a.$b&&
1023>p;)n=a.Aa+l,q=Jf(d.F,n,2),b+="\n"+u(l)+" ports "+u(p)+"-"+u(p+15)+": "+ea(q,2),p+=16,l+=2;d.O(b)}}});Ek(this,134217728,function(a){var b;(a=a[0])&&(b=lq(d,a));if(void 0===b)d.O("invalid MCB");else for(d.O("dumpMCB("+u(b)+")");b;){a=Qp(d,0,b);var c=d.Ya(a,1),h=d.oa(a,2),k=d.oa(a,5);if(77!=c&&90!=c)break;d.O(rq(0,b)+": '"+String.fromCharCode(c)+"' PID="+u(h)+" LEN="+u(k)+' "'+sq(d,a,8)+'"');b+=1+k}});this.C=null;this.jb=0;this.bb=!1;cf(this.F,48,this.am.bind(this));cf(this.F,65,this.bm.bind(this));
this.ka=null;cf(this.F,104,this.cm.bind(this));sb(this)};function tq(a,b,c,d,e,f){b=sq(a,b);var g=mq(a,d),g=g?g.Sa+1:0,h=(e?"_CODE":"_DATA")+r(c,2);f&&z(a,128)&&a.message(b+" "+(e?"code":"data")+"("+r(c,4)+")=#"+r(d,4)+" len "+r(g));e=uq(a,b,c);e[b+h]=0;Ml(a,b,c,d,0,null,g,e)}
function vq(a,b,c,d){var e=a.oa(b,2),f=a.oa(b,2),g=a.na(b,4),h=a.na(b,4),k=Qp(a,a.na(b,4),a.oa(b,2));b=Qp(a,a.na(b,4),a.oa(b,2));b=sq(a,b).toUpperCase();var k=sq(a,k).toUpperCase(),l=(c?"_CODE":"_DATA")+r(e,2);d&&z(a,128)&&a.message((b==k?"":b+"!")+k+" "+(c?"code":"data")+"("+r(e,4)+")="+r(f,4)+":"+r(g)+" len "+r(h));c=uq(a,k,e);c[k+l]=g;Ml(a,k,e,f,g,null,h,c)}function wq(a,b,c){c=sq(a,c).toUpperCase();xq(a,c,b)}
m.am=function(){var a=this.F;if(null!=this.C&&2752554==a.G){var b=a.M&65535,c=a.K&65535,d=Qp(this,I(a)+12,a.ta.ba);switch(this.na(d)){case 336:vq(this,Qp(this,a.H,b),!c,!!this.C)}}return!0};
m.bm=function(a){var b=this.F,c=b.G&65535,d=b.H&65535,e=b.I&65535,f=b.M&65535,g=b.K&65535,h=b.J&65535,k=b.Va.ba;if(null==this.C)return 79==c&&df(b,a,function(a){return function(){62342!=(b.G&65535)?(b.G=b.G&-65536|62342,y(a,"INT 0x41 handling enabled",128),a.C=!0):(y(a,"INT 0x41 monitoring enabled",128),a.C=!1)}}(this)),!0;switch(c){case 79:this.C&&(b.G=b.G&-65536|62342,y(this,"INT 0x41 handling enabled",128));break;case 80:tq(this,Qp(this,h,k),d+1,e,!(g&1),!!this.C);break;case 82:xq(this,null,d);
break;case 127:this.C&&(b.G=b.G&-65536|(this.bb?0:1));break;case 131:this.C&&(a=Qp(this,b.M,e),this.jb++?(this.O("TRAPFAULT failed"),yq(this,this.A,a,!0,!0),this.jb=0,this.Wb()):(this.O("INT 0x41 TRAPFAULT: fault="+u(d)+" error="+("0x"+r(b.K))+" addr="+zq(a)),this.Od(this.A,a,!0),Sp(this,!0)));break;case 141:this.C&&(b.G=b.G&-65536|1);break;case 336:vq(this,Qp(this,b.H,f),!g,!!this.C);break;case 338:wq(this,d,Qp(this,b.J,f))}this.bb=!1;return!this.C};
m.cm=function(a){var b=this.F,c=b.G&255,d=b.G>>8&255,e=b.H&65535,f=b.I&65535,g=b.M&65535,h=b.J&65535,k=b.Va.ba;if(null==this.ka){if(67==d){if(609437257==b.na((b.va.ba<<4)+10)||1111835735==b.na((b.va.ba<<4)+95))return!0;df(b,a,function(a){return function(){62342!=(b.G&65535)?(b.G=b.G&-65536|62342,y(a,"INT 0x68 handling enabled",128),a.C=a.ka=!0):(y(a,"INT 0x68 monitoring enabled",128),a.ka=!1)}}(this))}return!0}switch(d){case 67:this.ka&&(b.G=b.G&-65536|62342);break;case 68:this.ka&&(a=gd(b.va,this.Jk.bind(this)))&&
(b.J=a[0],wd(b,a[1]));break;case 72:xq(this,null,e);break;case 80:32==c?tq(this,Qp(this,h,k),0,f,!0,!!this.ka):128>c?tq(this,Qp(this,h,k),e+1,c&64?g:f,!(c&1),!!this.ka):vq(this,Qp(this,h,k),!(c&1),!!this.ka),this.ka&&(b.G=b.G&-256|1)}return!this.ka};m.Jk=function(){var a=this.F;5==(a.G&255)&&(a.I=a.K=0,a.G=a.G&-256|1);return!1};
m.Pb=function(a,b,c){var d=this;switch(b){case "debugInput":return this.Ka=this.qa[b]=c,c.onkeydown=function(a){var b;if(13==a.keyCode)b=c.value,c.value="",Up(d,b,!0);else if(27==a.keyCode)c.value=b="";else if(38==a.keyCode?d.U<d.L.length-1&&(b=d.L[++d.U]):40==a.keyCode&&(0<d.U?b=d.L[--d.U]:(b="",d.U=-1)),null!=b){var g=b.length;c.value=b;c.setSelectionRange(g,g)}null!=b&&a.preventDefault&&a.preventDefault()},!0;case "debugEnter":return this.qa[b]=c,Ka(c,function(){if(d.Ka){var a=d.Ka.value;d.Ka.value=
"";Up(d,a,!0);return!0}return!1}),!0;case "step":return this.qa[b]=c,Ka(c,function(a){var b=!1;rb(d,!0)||(qb(d,!0),b=d.vf(a?1:0),qb(d,!1));return b}),!0}return!1};m.Tc=function(){this.Ka&&this.Ka.focus()};function Aq(a){return a.F&&!!(a.F.ab&1)&&!(a.F.aa&131072)}
function mq(a,b,c){var d=Aq(a)?2:1;c||(c=d);if(c==d){if(b===a.F.va.ba)return a.F.va;if(b===a.F.vb.ba)return a.F.vb;if(b===a.F.Va.ba)return a.F.Va;if(b===a.F.ta.ba)return a.F.ta;if(80386<=a.F.ia){if(b===a.F.Nb.ba)return a.F.Nb;if(b===a.F.Ob.ba)return a.F.Ob}if(a.cb&&2==c||!a.Rb)return null}a=a.Rb;if(2!=c)a.rh(b),a.Sa=65535,a.$b=65536;else{var e;c=a.F;b=b&65535;b&4?(d=c.Bc.Aa,e=d+c.Bc.Sa|0):(d=c.Dc,e=c.Bd);d=d+(b&65528)|0;if(e-d|0){e=Jf(c,d+0,2);var f=Jf(c,d+4,2),g=f&7936,h=Jf(c,d+2,2)|(f&255)<<16,
k=Jf(c,d+6,2);80386<=c.ia&&(h|=(k&65280)<<16,e|=(k&15)<<16,k&128&&(e=e<<12|4095));a.ba=b;a.Aa=h;a.Sa=e;a.$b=(e>>>0)+1;a.wb=f;a.type=g;a.ext=k;a.Yb=d;fd(a,!0,!0,!1)}}return a}m.fc=function(a,b,c){var d=a&&a.Ea;if(null==d&&(d=-1,a)){var e=mq(this,a.ba,a.type);e&&(b=a.Pa||0,c=c||1,d=e=-1===e.Yb||e.dd&&(b>>>0)+c>e.$b||!e.dd&&(b>>>0)+c<=e.$b?e.Aa+b|0:-1,a.Ea=d)}return d};m.Ya=function(a,b){var c=255,d=this.fc(a,!1,1);-1!==d&&(c=Jf(this.F,d,1,5==a.type)|0,b&&Bq(this,a,b));return c};
m.Bb=function(a,b){return a.Tb?this.na(a,b?4:0):this.oa(a,b?2:0)};m.oa=function(a,b){var c=65535,d=this.fc(a,!1,2);-1!==d&&(c=Jf(this.F,d,2,5==a.type),b&&Bq(this,a,b));return c};m.na=function(a,b){var c=-1,d=this.fc(a,!1,4);-1!==d&&(c=Jf(this.F,d,4,5==a.type),b&&Bq(this,a,b));return c};m.sc=function(a,b,c){var d=this.fc(a,!0,1);if(-1!==d){if(5!=a.type)this.F.sc(d,b);else{var e=this.ea;e.ra[(d&e.Gb)>>>e.La].wf(d&e.A,b&255,d)}c&&Bq(this,a,c);Pc(this.F,!0)}};
m.ib=function(a,b,c){var d=this.fc(a,!0,2);-1!==d&&(5!=a.type?this.F.ib(d,b):fc(this.ea,d,b),c&&Bq(this,a,c),Pc(this.F,!0))};function Qp(a,b,c,d,e,f,g){return Cq(a,{},b,c,d,e,f,g)}function Cq(a,b,c,d,e,f,g,h){b.Pa=c||0;b.ba=d;b.Ea=e;b.type=f||(Aq(a)?2:1);b.Tb=null!=g?g:a.F&&4==a.F.va.Z;b.rc=null!=h?h:a.F&&4==a.F.va.Mc;b.Td=!1;return b}function Dq(a){return[a.Pa,a.ba,a.Ea,a.Td,a.Tb,a.rc,a.Se,a.Sd]}function Eq(a){return{Pa:a[0],ba:a[1],Ea:a[2],Td:a[3],Tb:a[4],rc:a[5],Se:a[6],Sd:a[7]}}
function Fq(a,b,c){if(null!=b.ba&&(a=mq(a,b.ba,b.type))){var d=b.Pa&a.Ba;if(!a.dd){if(d>>>0>=a.$b)return!1}else if(d>>>0<a.$b)return!1;c&&(b.Pa=d,b.Tb=4==a.Z,b.rc=4==a.Mc)}return!0}
function Gq(a,b,c,d){var e,f=c?a.Y:a.sb;c=d?0:f.type;var g=f.Pa,h=f.ba,f=f.Ea;if(void 0!==b){b=Hq(a,b);e=b.charAt(0);f=b.indexOf(":");switch(e){case "&":c=1;break;case "#":c=2;break;case "%":c=4;e=b.charAt(1);"%"==e&&(c=5,e+=e);g=0;h=null;break;default:0<=f&&(c=0),e=""}e&&(b=b.substr(e.length),f-=e.length);e=b;var k;if(e.match(/^[a-z_][a-z0-9_]*$/i))for(var l=e.toUpperCase(),n=0;n<a.B.length;n++){e=a.B[n];var q=e.Nd[l];if(void 0!==q){l=q.o;void 0!==l&&(k=q.s,void 0===k&&(k=e.ba),k=Qp(a,l,k,q.p));
break}}if(e=k)return e;0>f?null!=h?(g=Iq(a,b,void 0),f=null):(f=Iq(a,b,void 0),null==f&&(g=null)):(h=Iq(a,b.substring(0,f),void 0),g=Iq(a,b.substring(f+1),void 0),f=null)}null!=g&&(e=Qp(a,g,h,f,c),d||Fq(a,e,!0)||(a.O("invalid offset: "+zq(e)),e=null));return e}function Jq(a,b,c){c&&(c=c.match(/(['"])(.*?)\1/))&&(b.Fk=Kq(a,b.lk=c[2]))}function Bq(a,b,c){c=c||1;null!=b.Ea&&(b.Ea+=c);null!=b.ba&&(b.Pa+=c,Fq(a,b)||(b.Pa=0,b.Ea=null))}
function rq(a,b,c){return null!=b?r(b,4)+":"+r(a,a&-65536||c?8:4):r(a)}function zq(a){var b;switch(a.type){case 1:case 3:b="&";break;case 2:b="#";break;case 4:b="%";break;case 5:b="%%";break;default:b=a.ba?"":"%"}return 4<=a.type||null==a.ba?b+r(a.Ea):b+rq(a.Pa,a.ba,a.rc)}function sq(a,b,c){var d="";for(c=c||256;d.length<c;){var e=a.Ya(b,1);if(!e||36==e||127<=e)break;d+=32<=e?String.fromCharCode(e):"."}return d}
function kq(a,b,c,d){var e=0,f=0,g=b.length;if(c){e=a.fc(Gq(a,c));if(-1===e){a.O("invalid address: "+c);return}f=e>>>a.F.La;g=1}a.O("blockid   "+(d?"linear  ":"physical")+"   blockaddr   used    size    type");a.O("--------  ---------  ----------  ------  ------  ----");c=-1;for(var h=0;g--;)(d=b[f])&&5==d.type&&(d=Fc(a.F,e,!1,!0)),d.type==c?h++||a.O("..."):(c=d.type,h=wc[c],6==c&&(d=d.Dd,h+=" -> "+wc[d.type]),d&&a.O(r(d.id)+"  %"+r(f<<a.F.La)+"  %%"+r(d.Ea)+"  "+u(d.Ne)+"  "+u(d.size)+"  "+h),c!=
rc&&5!=c&&(c=-1),h=0),e+=a.F.Jb,f++}function Lq(a,b,c){a=r(a)+" "+r(b)+" ";a=a+(c&&b&64?"D":"-")+(b&32?"A":"-");a+=b&4?"U":"S";a+=b&2?"W":"R";return a+=b&1?"P":"N"}
var nq={256:["tss286",!1],512:["ldt",!1],768:["busy tss286",!1],1024:["call gate",!0],1280:["task gate",!0],1536:["int gate286",!0],1792:["trap gate286",!0],2304:["tss386",!1],2816:["busy tss386",!1],3072:["call gate386",!0],3584:["int gate386",!0],3840:["trap gate386",!0]},pq={PREV_TSS:0,CPL0_SP:2,CPL0_SS:4,CPL1_SP:6,CPL1_SS:8,CPL2_SP:10,CPL2_SS:12,TASK_IP:14,TASK_PS:16,TASK_AX:18,TASK_CX:20,TASK_DX:22,TASK_BX:24,TASK_SP:26,TASK_BP:28,TASK_SI:30,TASK_DI:32,TASK_ES:34,TASK_CS:36,TASK_SS:38,TASK_DS:40,
TASK_LDT:42},qq={PREV_TSS:0,CPL0_ESP:4,CPL0_SS:8,CPL1_ESP:12,CPL1_SS:16,CPL2_ESP:20,CPL2_SS:24,TASK_CR3:28,TASK_EIP:32,TASK_PS:36,TASK_EAX:40,TASK_ECX:44,TASK_EDX:48,TASK_EBX:52,TASK_ESP:56,TASK_EBP:60,TASK_ESI:64,TASK_EDI:68,TASK_ES:72,TASK_CS:76,TASK_SS:80,TASK_DS:84,TASK_FS:88,TASK_GS:92,TASK_LDT:96,TASK_IOPM:100};
function uq(a,b,c){var d=[],e;for(e=null;e=Eb(a.da,"Disk",e);){var f=e,g=b,h=c,d=[];if(f.C)for(var k=0;k<f.C.length;k++){var l=f.C[k];if(l.fg==g&&(l=l.Ad[h])){for(var n in l.se)f=l.se[n],d[f[1]]=f[0];break}}if(d.length)break}return d}function Tp(a,b){a.ha=a;a.wc=a.Ik=1073741824;a.Ra=null;var c=Kq(a,b.replace("keys","key").replace("kbd","keyboard"),!1,"|");if(c.length)for(var d in dq)0<=ua(c,d)&&(a.wc|=dq[d],a.O(d+" messages enabled"));Sp(a)}
function Ek(a,b,c){for(var d in dq)if(b==dq[d]){a.Wa[d]=c;break}}function Mq(a,b){var c;a=a.toUpperCase();null==b?c=ua(bq,a):(c=ua(bq,a.substr(b,3)),0>c&&(c=ua(bq,a.substr(b,2))));return c}
function Nq(a,b){var c=0,d=Oq(a,b);if(void 0!==d)switch(b){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=2;break;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 22:case 16:case 17:case 18:case 19:case 20:case 21:c=4;break;case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 56:c=8;break;case 23:c=a.Ja}return c?r(d,c):"??"}
function Oq(a,b){var c;if(0<=b){var d=a.F;switch(b){case 0:c=d.G&255;break;case 1:c=d.I&255;break;case 2:c=d.M&255;break;case 3:c=d.H&255;break;case 4:c=d.G>>8&255;break;case 5:c=d.I>>8&255;break;case 6:c=d.M>>8&255;break;case 7:c=d.H>>8&255;break;case 8:c=d.G&65535;break;case 9:c=d.I&65535;break;case 10:c=d.M&65535;break;case 11:c=d.H&65535;break;case 12:c=I(d)&65535;break;case 13:c=d.P&65535;break;case 14:c=d.K&65535;break;case 15:c=d.J&65535;break;case 22:c=K(d)&65535;break;case 23:c=xd(d);break;
case 16:c=d.Va.ba;break;case 17:c=d.va.ba;break;case 18:c=d.ta.ba;break;case 19:c=d.vb.ba;break;default:if(80286==a.F.ia)32==b&&(c=d.ab);else if(80386<=a.F.ia)switch(b){case 24:c=d.G;break;case 25:c=d.I;break;case 26:c=d.M;break;case 27:c=d.H;break;case 28:c=I(d);break;case 29:c=d.P;break;case 30:c=d.K;break;case 31:c=d.J;break;case 32:c=d.ab;break;case 33:c=d.oi;break;case 34:c=d.qe;break;case 35:c=d.Md;break;case 20:c=d.Nb.ba;break;case 21:c=d.Ob.ba;break;case 56:c=K(d)}}}return c}
function Pq(a,b){b=Hq(a,b);for(var c=0,d,e;0<=(c=b.indexOf("@",c));)e=Mq(b,c+1),0<=e&&(b=b.substr(0,c)+Nq(a,e)+b.substr(c+1+bq[e].length)),c++;for(c=0;0<=(c=b.indexOf("#",c));)e=b.substr(c+1,2),d=ca(e,16),null!=d&&32<=d&&128>d?(d=e+" '"+String.fromCharCode(d)+"'",b=b.replace("#"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("$",c));)e=b.substr(c+1,9),(d=Gq(a,e))?(d=e+' "'+sq(a,d)+'"',b=b.replace("$"+e,d),c+=d.length):c++;for(c=0;0<=(c=b.indexOf("^",c));)e=b.substr(c+1,9),(d=Gq(a,e))?(Bq(a,d),d=e+
' "'+sq(a,d,11)+'"',b=b.replace("^"+e,d),c+=d.length):c++;return b}m=Pp.prototype;m.message=function(a,b){b&&(a+=" at "+zq(Qp(this,K(this.F),this.F.va.ba))+" (%"+r(this.F.Da)+")");if(!this.Ra||a!=this.Ra)if(this.O(a),this.Ra=a,this.F){this.wc&-2147483648&&this.Wb();var c=this.F;c.X.lf=0;c.fb-=c.A;c.A=0;Pc(c)}};
function ik(a,b,c,d){var e,f;if(!d&&(d=z(a,1)&&0>Wp.indexOf(b),!d)){var g=Vp[b];g&&(d=z(a,g)?!0:524288==g&&z(a,g=1048576))}d&&(e=a.F.G>>8&255,f=a.F.M&255,33==b&&11==e||524288==g&&128<=f||1048576==g&&128>f)&&(d=!1);d&&((g=(g=zb[b])&&g[e]||"")&&(g=" "+Pq(a,g)),a.message("INT "+t(b)+": AH="+t(e)+" at "+rq(c-2-a.F.va.Aa,a.F.va.ba)+g));return d}
function pb(a,b,c,d,e,f,g,h){h|=256;if(null==e||(a.wc&h)==h)h=null,null!=e&&(h=a.F.va.ba,e-=a.F.va.Aa),a.message(b.be+"."+(null!=d?"outPort":"inPort")+"("+u(c)+","+(f?f:"unknown")+(null!=d?","+t(d):"")+")"+(null!=g?": "+t(g):"")+(null!=e?" at "+rq(e,h):""))}m.nh=function(){this.O("Type ? for help with PCjs Debugger commands");this.pd();if(this.fb){var a=this.fb;this.fb=null;Up(this,a)}};
function Sp(a,b){var c;if(Vf(a)){if(!a.ja||!a.ja.length){a.ja=Array(1E3);for(c=0;c<a.ja.length;c++)a.ja[c]=Qp(a);a.Ga=0;b||a.O("instruction history buffer allocated")}if(!a.W||!a.W.length)for(a.W=Array(256),c=0;c<a.W.length;c++)a.W[c]=[c,0]}else a.ja&&a.ja.length&&!b&&a.O("instruction history buffer freed"),a.Ga=0,a.ja=[],a.W=[]}m.Ke=function(a){if(!Qq(this))return!1;this.F.Ke(a);return!0};
m.vf=function(a,b,c){if(!Qq(this))return!1;this.fa=0;do{a||Vf(this)&&Yf(this,this.F.Da,0);try{var d=this.F.vf(a);0<d&&(this.fa+=d,$c(this.F,d,!0),Uc(this.F,d),this.pa++)}catch(f){if("number"!=typeof f){var e=f;this.fa=0;ub(this.F,e.stack||e.message)}}}while(this.F.S&3312);!1!==c&&Pc(this.F);this.pd(b||!1);return 0<this.fa};m.Wb=function(a){this.F&&this.F.Wb(a)};m.pd=function(a){void 0===a&&(a=!0);this.Y=Qp(this,K(this.F),this.F.va.ba);a&&1!=this.N?Rq(this):Sq(this)};
function Qq(a){var b;if(b=a.F&&tb(a.F))b=a.F,b.la.ec?b=!0:(b.O(b.toString()+" not powered"),b=!1);b&&!rb(a.F)?(a=a.F,a.la.vd?(a.O(a.toString()+" error"),a=!0):a=!1,a=!a):a=!1;return a}m.kc=function(a,b){return!b&&(this.reset(!0),a&&this.restore&&!this.restore(a))?!1:!0};m.jc=function(a,b){b&&this.O(a?"suspending":"shutting down");return a?this.save():!0};m.reset=function(a){Sp(this);this.pa=this.za=0;this.Ra=null;this.fa=0;this.Y=Qp(this,K(this.F),this.F.va.ba);this.la.Ib=!1;Tq(this);a||this.pd()};
m.save=function(){var a=new hf(this);N(a,0,Dq(this.Y));N(a,1,Dq(this.ua));N(a,2,[this.L,this.Fa,this.wc]);N(a,3,this.B);return a.data()};m.restore=function(a){var b=0;void 0!==a[2]&&(this.Y=Eq(a[b++]),this.ua=Eq(a[b++]),this.L=a[b][0],"string"==typeof this.L&&(this.L=[this.L]),this.Fa=a[b][1],this.wc|=a[b][2]);a[3]&&(this.B=a[3]);return!0};m.start=function(a,b){this.N||this.O("running");this.la.Ib=!0;this.dc=a;this.zd=b};
m.stop=function(a,b){if(this.la.Ib){this.la.Ib=!1;this.fa=b-this.zd;if(!this.N){var c="stopped";if(this.fa){var d=a-this.dc,e=0<d?Math.round(1E3*this.fa/d):0,c=c+" (";Vf(this)&&(c+=this.pa+" opcodes, ",this.za-=this.pa,this.pa=0);c+=this.fa+" cycles, "+d+" ms, "+e+" hz)"}this.O(c)}this.pd(!0);this.Tc();Tq(this,this.F.Da)}};function Vf(a){return 1<a.A.length||!!a.Ma||z(a,16)}
function Yf(a,b,c){var d=a.F;if(0<c&&(a.Ma&&!--a.Ma||Uq(a,b,1,a.A)))return!0;0<=c&&a.W.length&&(a.pa++,b=Jf(d,b),null!=b&&(a.W[b][1]++,Cq(a,a.ja[a.Ga],K(d),d.va.ba),++a.Ga==a.ja.length&&(a.Ga=0)));return!1}function Cc(a,b,c){return Uq(a,b,c||1,a.sa)?(a.Wb(!0),!0):!1}function Ec(a,b,c){return Uq(a,b,c||1,a.ga)?(a.Wb(!0),!0):!1}function jc(a,b,c){a.O("break on input from port "+u(b)+": "+r(c));a.Wb(!0)}function nc(a,b,c){a.O("break on output to port "+u(b)+": "+r(c));a.Wb(!0)}
function Rp(a){var b,c;a.A=["bp"];if(void 0!==a.sa)for(b=1;b<a.sa.length;b++)c=a.sa[b],re(a.F,a.fc(c),!1,5==c.type);a.sa=["br"];if(void 0!==a.ga)for(b=1;b<a.ga.length;b++)c=a.ga[b],re(a.F,a.fc(c),!0,5==c.type);a.ga=["bw"];a.cb=0}
m.Od=function(a,b,c){var d=!0;c||yq(this,a,b,!1,!0);if(a!=this.A){var e=this.fc(b);if(-1===e)this.O("invalid address: "+zq(b)),d=!1;else{var f=this.F,g=5==b.type;(g?f.kd:f.ra)[e>>>f.La].Od(e&f.Ga,a==this.ga);g&&Vb(f)}}d&&(a.push(b),c?(null!=b.Ea&&(b.ba=null),b.Td=!0):(Vq(this,a,a.length-1,"set"),Sp(this)));return d};
function yq(a,b,c,d,e){for(var f=!1,g=Wq(a,a.fc(c)),h=1;h<b.length;h++){var k=b[h];if(-1!==g&&g==Wq(a,a.fc(k))||-1===g&&c.ba==k.ba&&c.Pa==k.Pa)if(!d||k.Td){f=!0;k.Td||e||Vq(a,b,h,"cleared");b.splice(h,1);b!=a.A&&re(a.F,g,b==a.ga,5==k.type);k.Td||Sp(a);break}}return f}function Xq(a,b){for(var c=1;c<b.length;c++)Vq(a,b,c);return b.length-1}function Vq(a,b,c,d){c=b[c];a.O(b[0]+" "+zq(c)+(d?" "+d:c.lk?' "'+c.lk+'"':""))}
function Tq(a,b){if(void 0!==b)Uq(a,b,1,a.A,!0),a.N=0;else for(var c=1;c<a.A.length;c++){var d=a.A[c];if(d.Td){if(!yq(a,a.A,d,!0))break;c=0}}}function Wq(a,b){if(-1!==b){var c=a.Ba&-65536;(b&c)==c&&(b&=1048575)}return b}
function Uq(a,b,c,d,e){var f=!1;if(!a.cb++){b=Wq(a,b);z(a,-2147483632)&&204==Jf(a.F,b)&&(f=!0);for(var g=1;!f&&g<d.length;g++){var h=d[g];if(!e||h.Td){null!=h.ba&&(h.Ea=null);for(var k=Wq(a,a.fc(h)),l=0;l<c;l++)if(b+l==k){var n,f=!0;h.Td&&(yq(a,d,h,!0),e=!0);if(n=h.Fk){for(var f=!1,q=0;q<n.length;q++)if(!Yq(a,n[q],!0)){if(n[q].indexOf("if")){f=!0;break}for(var p=q+1;p<n.length&&n[p].indexOf("else");p++)q++;if(p==n.length){f=!0;break}}a.F.la.Ib||(f=!0)}if(f){e||Vq(a,d,g,"hit");break}}}}}a.cb--;return f}
function Zq(a,b,c,d){for(var e=Qp(a,b.Pa,b.ba,b.Ea,b.type),f=a.Ya(b,1),g=4,h=0,k=!1,l=!1;(102==f||103==f)&&g--;)102==f?k||(b.Tb=!b.Tb,k=!0):l||(b.rc=!b.rc,l=!0),h++,f=a.Ya(b,1);var g=-1,n=Yp,k=a.Ha[f],l=k[0];176==l&&(l=a.Ya(b,1),k=hq[l]||eq,f|=l<<8,l=k[0]);if(36==l){var g=a.Ya(b,1),q;q=null;var p=g>>3&7,A=(3>(g>>6&3)?0:48)+p;(217==f||219==f)&&52<=A&&(A=p<<4|g&7);(p=iq[f])&&(q=p[A]);q&&(n=Zp,k=q,l=k[0])}l>=n.length&&(g=a.Ya(b,1),k=jq[l-n.length][g>>3&7],l=k[0]);n=n[l];p=k.length-1;q="";b.Tb&&(18==
l?n="CWDE":28==l?n="CDQ":104<=l&&107>=l&&(n+="D"));if(164<=f&&167>=f||170<=f&&175>=f)p=0,b.Tb&&"W"==n.slice(-1)&&(n=n.slice(0,-1)+"D");for(var f=null,A=!0,F=1;F<=p;F++){var v,D;v="";D=k[F];if(void 0!==D){null==f&&(f=D>>14);80==l&&(2==f?q="[%800]":3==f&&(q="ES:["+(b.rc?"E":"")+"DI]"));var H=D&15;if(0!=H)if(8==H)A=!1;else{var L=D&240;if(128<=L)if(0>g&&(g=a.Ya(b,1)),160>L){v=a;var V=p,H=b,Q="",$a=g>>6,ma=g&7;if(3>$a){var ga=void 0,L=0==n.indexOf("FI");if(!$a&&(!H.rc&&6==ma||H.rc&&5==ma))$a=2;else{if(H.rc)if(4!=
ma)ma+=8;else{var Q=v,ga=$a,Ga=H,Wa=Q.Ya(Ga,1),Ba=Wa>>6,Pb=Wa>>3&7,Wa=Wa&7,va="";if(ga||5!=Wa)va=cq[Wa+8];4!=Pb&&(va&&(va+="+"),va+=cq[Pb+8],Ba&&(va+="*"+(1<<Ba)));ga||5!=Wa||(va&&(va+="+"),va+=r(Q.na(Ga,4)));Q=va}Q||(Q=cq[ma])}1==$a?(ga=v.Ya(H,1),ga&128?(ga=ga<<24>>24,Q+="-"+r(-ga,2)):Q+="+"+r(ga,2)):2==$a&&(Q&&(Q+="+"),H.rc?(ga=v.na(H,4),Q+=r(ga)):(ga=v.oa(H,2),Q+=r(ga,4)));Q="["+Q+"]";if(1==V){v="";D&=15;4==D&&(D=H.Tb?5:3);switch(D){case 7:v="FAR";break;case 1:v="BYTE";break;case 3:if(L){v="INT16";
break}v="WORD";break;case 5:v="DWORD";break;case 11:if(L){v="INT32";break}case 11:v="REAL32";break;case 12:if(L){v="INT64";break}case 12:v="REAL64";break;case 13:v="REAL80";break;case 14:v="BCD80"}v&&(Q=v+" "+Q)}}else Q=$q(v,ma,D,H);v=Q}else v=160==L?$q(a,g&7,D,b):$q(a,g>>3&7,D,b);else if(16==L)v="1";else if(0==L){v=a;H=D;L=b;D=" ";switch(H&15){case 1:H&12288&&(D=r(v.Ya(L,1),2));break;case 2:D=r(v.Ya(L,1)<<24>>24,L.Tb?8:4);break;case 4:if(L.Tb){D=r(v.na(L,4));break}case 3:D=r(v.oa(L,2),4);break;case 7:L=
Qp(v,v.Bb(L,!0),v.oa(L,2),null,L.type,L.Tb,L.rc);D=zq(L);v=ar(v,L);v[0]&&(D+=" ("+v[0]+")");break;default:D="imm("+u(H)+")"}v=D}else 32==L?(b.rc?(v=8,D=a.na(b,4)):(v=4,D=a.oa(b,2)),v="["+r(D,v)+"]"):48==L?(v=1==H?a.Ya(b,1)<<24>>24:a.Bb(b,!0),D=b.Pa+v&(b.Tb?-1:65535),v=r(D,b.Tb?8:4),D=ar(a,Qp(a,D,b.ba)),D[0]&&(v+=" ("+D[0]+")")):96==L?v=9==H?"ST":10==H?"ST("+(g&7)+")":$q(a,(D&3840)>>8,D,b):112==L?v=$q(a,(D&3840)>>8,192,b):64==L?v="DS:[SI]":80==L&&(v="ES:[DI]");if(!v||!v.length){q="INVALID";break}0<
q.length&&(q+=",");q+=v||"???"}}}g="";k=zq(e)+" ";if(-1!==e.Ea&&-1!==b.Ea){do if(g+=r(a.Ya(e,1),2),null==e.Ea)break;while(e.Ea!=b.Ea)}k+=la(g,e.rc?24:16);k+=la(n,8);q&&(k+=" "+q);a.F.ia<aq[f]&&(c=aq[f]+" CPU only");c&&A&&(k=la(k,e.rc?74:56)+";"+c,k=a.F.la.Ye?k+("cycles="+Vc(a.F).toString()+" cs="+r(a.F.X.Kf)):k+(null!=d?"="+d.toString():""));br(b,A,h);return k}
function $q(a,b,c,d){var e=c&240;if(192==e){if(5<b||4<=b&&80386>a.F.ia)return"??";b+=16}else if(208==e)b+=32;else if(224==e)b+=40;else if(240==e)b+=48;else if(a=c&15,3<=a&&(8>b&&(b+=8),5==a||4==a&&d.Tb))b+=16;return bq[b]}
function cr(a,b){var c;switch(b){case "V":c=vf(a.F);break;case "D":c=a.F.aa&1024;break;case "I":c=a.F.aa&512;break;case "T":c=a.F.aa&256;break;case "S":c=uf(a.F);break;case "Z":c=tf(a.F);break;case "A":c=sf(a.F);break;case "P":c=rf(a.F);break;case "C":c=qf(a.F);break;default:c=0}return b+(c?"1":"0")+" "}function oq(a){return r(a,a&-65536?8:4)}function dr(a,b){8<=b&&15>=b&&4<a.Ja&&(b+=16);var c=bq[b];32==b&&80286==a.F.ia&&(c="MS");return c+"="+Nq(a,b)+" "}
function er(a,b,c){return b.nc+"="+r(b.ba,4)+(c?"["+r(b.Aa,a.Ca)+","+oq(b.Sa)+"]":"")}function fr(a,b,c,d,e){return b+"="+(null!=c?r(c,4):"")+"["+r(d,a.Ca)+","+r(e-d,4)+"]"}
function gr(a,b){var c;void 0===b&&(b=Aq(a));c=dr(a,8)+dr(a,11)+dr(a,9)+dr(a,10)+(4<a.Ja?"\n":"")+dr(a,12)+dr(a,13)+dr(a,14)+dr(a,15)+"\n"+er(a,a.F.ta,b)+" "+er(a,a.F.vb,b)+" "+er(a,a.F.Va,b)+" ";if(b){var d="TR="+r(a.F.Qa.ba,4),e=a.ea,e="A20="+(e.L||e.wg!=e.Gb?"OFF ":"ON ");80386>a.F.ia&&(d="\n"+d,c+=e,e="");c+="\n"+er(a,a.F.va,b)+" ";80386<=a.F.ia&&(e+="\n",c+=er(a,a.F.Nb,b)+" "+er(a,a.F.Ob,b)+"\n");c+=fr(a,"LD",a.F.Bc.ba,a.F.Bc.Aa,a.F.Bc.Aa+a.F.Bc.Sa)+" "+fr(a,"GD",null,a.F.Dc,a.F.Bd)+" "+fr(a,
"ID",null,a.F.Nc,a.F.Pd)+" ";c=c+(d+" "+e)+dr(a,32);80386<=a.F.ia&&(c+=dr(a,34)+dr(a,35))}else 80386<=a.F.ia&&(c+=er(a,a.F.Nb,b)+" "+er(a,a.F.Ob,b)+" ");return c+=dr(a,23)+cr(a,"V")+cr(a,"D")+cr(a,"I")+cr(a,"T")+cr(a,"S")+cr(a,"Z")+cr(a,"A")+cr(a,"P")+cr(a,"C")}var hr={"||":0,"&&":1,"|":2,"^":3,"&":4,"!=":5,"==":5,">=":6,">":6,"<=":6,"<":6,">>>":7,">>":7,"<<":7,"-":8,"+":8,"%":9,"/":9,"*":9};
function ir(a,b,c){for(c=c||-1;c--&&b.length;){var d=b.pop();if(2>a.length)return!1;var e=a.pop(),f=a.pop();switch(d){case "*":d=f*e;break;case "/":if(!e)return!1;d=f/e;break;case "%":if(!e)return!1;d=f%e;break;case "+":d=f+e;break;case "-":d=f-e;break;case "<<":d=f<<e;break;case ">>":d=f>>e;break;case ">>>":d=f>>>e;break;case "<":d=f<e?1:0;break;case "<=":d=f<=e?1:0;break;case ">":d=f>e?1:0;break;case ">=":d=f>=e?1:0;break;case "==":d=f==e?1:0;break;case "!=":d=f!=e?1:0;break;case "&":d=f&e;break;
case "^":d=f^e;break;case "|":d=f|e;break;case "&&":d=f&&e?1:0;break;case "||":d=f||e?1:0;break;default:return!1}a.push(d|0)}return!0}
function Iq(a,b,c){var d;if(b){b=Hq(a,b);for(var e=0,f=!1,g=b,h=[],k=[],l=b.split(/(\|\||&&|\||^|&|!=|==|>=|>>>|>>|>|<=|<<|<|-|\+|%|\/|\*)/);e<l.length;){var n=l[e++],q=n.length,n=na(n);if(!n){f=!0;break}n=lq(a,n,null,!1===c);if(void 0===n){f=!0;c=!1;break}h.push(n);if(e==l.length)break;var n=l[e++],p=n.length;k.length&&hr[n]<hr[k[k.length-1]]&&ir(h,k,1);k.push(n);b=b.substr(q+p)}ir(h,k)&&1==h.length||(f=!0);f?c&&a.O("error parsing '"+g+"' at character "+(g.length-b.length)):(d=h.pop(),c&&jr(a,null,
d))}return d}function Hq(a,b){for(var c;(c=b.match(/\{(.*?)}/))&&!(0<=c[1].indexOf("{"));){var d=Iq(a,c[1]);b=b.replace("{"+c[1]+"}",null!=d?r(d):"undefined")}for(;(c=b.match(/\[(.*?)]/))&&!(0<=c[1].indexOf("["));)d=Gq(a,c[1]),b=b.replace("["+c[1]+"]",d?r(a.Bb(d),d.Tb?8:4):"undefined");for(c=b;d=c.match(/\$([a-z]+)/i);){var e=null;switch(d[1].toLowerCase()){case "ops":e=a.pa-a.za}if(null==e)break;c=c.replace(d[0],e.toString())}return c}
function lq(a,b,c,d){var e;void 0!==b?(e=Mq(b),0<=e?e=Oq(a,e):(e=a.wa[b],void 0===e&&(e=ca(b))),void 0!==e||d||a.O("invalid "+(c?c:"value")+": "+b)):d||a.O("missing "+(c||"value"));return e}function jr(a,b,c){var d,e=!1;void 0!==c&&(e=!0,d="0x"+r(c)+" "+c+". ("+ea(c)+")");a.O((null!=b?b+": ":"")+d);return e}function kr(a,b){if(b)return jr(a,b,a.wa[b]);var c=0;for(b in a.wa)jr(a,b,a.wa[b]),c++;return 0<c}Pp.prototype.rb=function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0};
function Ml(a,b,c,d,e,f,g,h){var k={},l=[],n;for(n in h){var q=h[n];"number"==typeof q&&(h[n]=q={o:q});var p=q.o,A=q.s,F=q.a;if(void 0!==p){void 0!==A&&(k.Pa=p,k.ba=A,k.Ea=null,a.fc(k),(k.Ea&-65536)==(a.ea.wg&-65536)&&(k.Ea&=1048575),q.p=k.Ea);var A=l,p=[p>>>0,n],v=oa(A,p,a.rb);0>v&&A.splice(-(v+1),0,p)}F&&(q.a=F.replace(/''/g,'"'))}a.B.push({fg:b,lm:c,ba:d,Pa:e,Ea:f,dm:g,Nd:h,wi:l})}
function xq(a,b,c){for(var d=0;d<a.B.length;d++){var e=a.B[d];if(!b||e.fg==b)if(b&&c==e.lm||!b&&c==e.ba){a.B.splice(d,1);break}}}function ar(a,b,c){for(var d=[],e=b.Pa>>>0,f=a.fc(b)>>>0,g=0;g<a.B.length;g++){var h=a.B[g],k=h.ba,l=h.Pa>>>0,n=h.Ea;null!=n&&(n>>>=0);var q=h.dm;48==k&&(k=40);if(k==b.ba&&e>=l&&e<l+q||null!=n&&f>=n&&f<n+q){b=oa(h.wi,[e],a.rb);0<=b?lr(a,g,b,d):c&&(b=~b,lr(a,g,b-1,d),lr(a,g,b,d));break}}!d.length&&(a=a.ea.Wi(f,!0))&&(d.push(a),d.push(f));return d}
function lr(a,b,c,d){var e={},f=a.B[b].wi,g=0,h=null;0<=c&&c<f.length&&(g=f[c][0],h=f[c][1]);h&&(e=a.B[b].Nd[h],h="."==h.charAt(0)?null:e.l||h);d.push(h);d.push(g);d.push(e.a);d.push(e.c)}function mr(a){a.Ff&&(a.Ff.value="")}
function nr(a,b){if("?"==b)a.O("frequency commands:"),a.O("\tclear\tclear all frequency counts");else{var c,d=0;if(a.W)if("clear"==b){for(c=0;c<a.W.length;c++)a.W[c]=[c,0];a.O("frequency data cleared");d++}else if(void 0!==b)a.O("unknown frequency command: "+b),d++;else{var e=a.W.slice();e.sort(function(a,b){return b[1]-a[1]});for(c=0;c<e.length;c++){var f=e[c][0],g=e[c][1];g&&(a.O((Yp[a.Ha[f][0]]+"  ").substr(0,5)+" ("+t(f)+"): "+g+" times"),d++)}}d||a.O("no frequency data available")}}
function or(a,b){var c=b.match(/^\s*([A-Z_]?[A-Z0-9_]*)\s*(=?)\s*(.*)$/i);if(c){if(!c[1])return kr(a)||a.O("no variables"),!0;if(!c[2])return kr(a,c[1]);if(!c[3])return delete a.wa[c[1]],!0;var d=Iq(a,c[3]);return void 0!==d?(a.wa[c[1]]=d,!0):!1}a.O("invalid assignment:"+b);return!1}
function pr(a,b,c){var d=null;if(b=Gq(a,b,!0)){a.fc(b);var e=ar(a,b,!0);if(e.length){var f,g;e[0]&&(g="",(f=b.Pa-e[1])&&(g=" + "+u(f)),f=e[0]+" ("+rq(e[1],b.ba)+")"+g,c&&a.O(f),d=f);4<e.length&&e[4]&&(g="",(f=e[5]-b.Pa)&&(g=" - "+u(f)),f=e[4]+" ("+rq(e[5],b.ba)+")"+g,c&&a.O(f),d||(d=f))}else c&&a.O("no symbols")}return d}
function qr(a,b){if(b[1]&&"?"!=b[1]){var c="json"==b[1],d,e=0,f=0,g=c?{}:Gq(a,b[1]);if(g&&(d=lq(a,b[2],"drive #"),void 0!==d)){if(!c){e=lq(a,b[3],"sector #");if(void 0===e)return;f=lq(a,b[4],"# of sectors");void 0===f&&(f=1)}var h=a.cc;2<=d&&a.Kb&&(d-=2,h=a.Kb);if(h){var k=h.Ki(d);if(k)if(k.ya)if(c)mr(a),a.O(k.ya.toJSON());else if(h.nk(k,e,f)){for(var l=0,n=!1,c=zq(g);!n&&0<k.Hb--;)(function(a,b){h.lc(k,function(c){0>c?(a.O("out of data at address "+zq(b)),n=!0):(a.sc(b,c,1),l++)})})(a,g);a.O(l+" bytes read at "+
c)}else a.O("sector "+e+" request out of range");else a.O("drive "+d+" not loaded");else a.O("invalid drive: "+d)}else a.O("disk controller not present")}}else a.O("list/load commands:"),a.O("\tl [address] [drive #] [sector #] [# sectors]")}
function Rq(a,b){var c;if(b&&"?"==b[1])a.O("register commands:"),a.O("\tr\tdump registers"),a.Xb&&a.O("\trfp\tdump floating-point registers"),a.O("\trp\tdump all registers"),a.O("\trx [#]\tset flag or register x to [#]");else{var d;null==c&&(c=!0);if(null!=b&&1<b.length){var e=b[1];if(a.Xb&&"fp"==e){c=a.Xb;d=ag(c);for(var f=c.mc,g=0;8>g;g++){var h=c,e=null;if(g<h.L.length){var e=[],k=h.B+g&7;e[0]=k;e[1]=yg(h,k);e[2]=h.L[k];k<<=1;e[3]=h.Y[k];e[4]=h.Y[k+1];h=Cg(h,e[3],e[4]);e[5]=h[0];e[6]=h[1];e[7]=
h[2]}if(!e)break;a.O("ST"+g+": "+la(e[2].toFixed(15),24,!0)+"  "+r(e[4])+","+r(e[3])+"  ["+e[0]+":"+$p[e[1]]+"]")}a.O("    B3SSS210ESPUOZDI               xxxIRRPPIxPUOZDI");a.O("SW: "+da(d,16)+" ("+u(d)+")  CW: "+da(f,16)+" ("+u(f)+")");return}if("p"==e)d=80286<=a.F.ia;else{f=null;g=e.indexOf("=");if(0<g)f=e.substr(g+1),e=e.substr(0,g);else if(2<b.length)f=b[2];else{a.O("missing value for "+b[1]);return}g=!1;h=Iq(a,f);if(void 0!==h)switch(g=!0,k=e.toUpperCase(),"E"==k.charAt(0)&&4>=a.Ja&&(k=null),
k){case "AL":a.F.G=a.F.G&-256|h&255;break;case "AH":a.F.G=a.F.G&-65281|h<<8&255;break;case "AX":a.F.G=a.F.G&-65536|h&65535;break;case "BL":a.F.H=a.F.H&-256|h&255;break;case "BH":a.F.H=a.F.H&-65281|h<<8&255;break;case "BX":a.F.H=a.F.H&-65536|h&65535;break;case "CL":a.F.I=a.F.I&-256|h&255;break;case "CH":a.F.I=a.F.I&-65281|h<<8&255;break;case "CX":a.F.I=a.F.I&-65536|h&65535;break;case "DL":a.F.M=a.F.M&-256|h&255;break;case "DH":a.F.M=a.F.M&-65281|h<<8&255;break;case "DX":a.F.M=a.F.M&-65536|h&65535;
break;case "SP":G(a.F,I(a.F)&-65536|h&65535);break;case "BP":a.F.P=a.F.P&-65536|h&65535;break;case "SI":a.F.K=a.F.K&-65536|h&65535;break;case "DI":a.F.J=a.F.J&-65536|h&65535;break;case "DS":vd(a.F,h);break;case "ES":wd(a.F,h);break;case "SS":kd(a.F,h);break;case "CS":kf(a.F,h);a.Y=Qp(a,K(a.F),a.F.va.ba);break;case "IP":case "EIP":O(a.F,h);a.Y=Qp(a,K(a.F),a.F.va.ba);break;case "PC":case "PS":yd(a.F,h);break;case "C":h?xf(a.F):yf(a.F);break;case "P":h?(e=a.F,e.resultType&=-3,e.aa|=4):(e=a.F,e.resultType&=
-3,e.aa&=-5);break;case "A":h?Ff(a.F):Df(a.F);break;case "Z":h?Gf(a.F):Ef(a.F);break;case "S":h?(e=a.F,e.resultType&=-17,e.aa|=128):(e=a.F,e.resultType&=-17,e.aa&=-129);break;case "I":h?(e=a.F,e.aa|=512):(e=a.F,e.aa&=-513);break;case "D":h?(e=a.F,e.aa|=1024):(e=a.F,e.aa&=-1025);break;case "V":h?zf(a.F):Af(a.F);break;default:var l=!0;if(80286<=a.F.ia)switch(l=!1,k){case "MS":Hf(a.F,h);break;case "TR":-1===a.F.Qa.load(h)&&(g=!1);break;default:if(l=!0,80386<=a.F.ia)switch(l=!1,k){case "EAX":a.F.G=h;
break;case "EBX":a.F.H=h;break;case "ECX":a.F.I=h;break;case "EDX":a.F.M=h;break;case "ESP":G(a.F,h);break;case "EBP":a.F.P=h;break;case "ESI":a.F.K=h;break;case "EDI":a.F.J=h;break;case "FS":a.F.Nb.load(h);break;case "GS":a.F.Ob.load(h);break;case "CR0":a.F.ab=h;oj.call(a.F,h);break;case "CR2":a.F.qe=h;break;case "CR3":a.F.Md=h;Ad.call(a.F,h);break;default:l=!0}}if(l){a.O("unknown register: "+e);return}}if(!g){a.O("invalid value: "+f);return}Pc(a.F);a.O("updated registers:")}}a.O(gr(a,d));c&&(a.Y=
Qp(a,K(a.F),a.F.va.ba),Sq(a,zq(a.Y)))}}function rr(a,b){b=na(b);var c=b.match(/^(['"])(.*?)\1$/);c?a.O(Pq(a,c[2])):Iq(a,b,!0)}function sr(a,b,c){for(var d=null,e=b.Pa,f=e,g=1;6>=g&&e;g++){if(2<g){b.Pa=e;b.Ea=null;var h=Zq(a,b);if(0<h.indexOf("CALL")||c&&0<h.indexOf("INT")){var k=h.indexOf(" ");if(e+(h.indexOf(" ",k+1)-k-1)/2==f){d=h;break}}}e--}b.Pa=f;return d}
function tr(a,b,c){var d="t"!=b;c=lq(a,c,null,!0)||1;var e=1==c?0:1;"tc"==b&&(e=c,c=1);Ja(c,function(){return qb(a,!0)&&a.vf(e,d,!1)},function(){Pc(a.F);qb(a,!1)})}function br(a,b,c){if(a.Sd=b)null!=a.Oi&&(a.Tb=a.Oi),null!=a.Ni&&(a.rc=a.Ni),a.Oi=a.Tb,a.Ni=a.rc;a.Se=c||0}
function Sq(a,b,c,d){if(b=Gq(a,b,!0)){void 0===d&&(d=1);var e=256;if(void 0!==c){d=Gq(a,c,!0);if(!d||d.Pa<b.Pa)return;e=d.Pa-b.Pa;if(256<e){a.O("range too large");return}d=-1}c=0;var f;for(br(b,!0);0<e&&d--;){f=rb(a,!1)||a.N?a.fa:null;var g=null!=f?"cycles":null,h=ar(a,b),k=b.Ea;if(h[0]&&d&&(!c&&d||0>h[0].indexOf("+"))){var l=h[0]+":";h[2]&&(l+=" "+h[2]);a.O(l)}h[3]&&(g=h[3],f=null);f=Zq(a,b,g,f);b.Sd||d||d++;a.O(f);a.Y=b;e-=b.Ea-k;c++}}}
function Kq(a,b,c,d){if(c)if(b){0>a.U&&a.L.length&&(a.U=0);if(0>a.U||b!=a.L[a.U])a.L.splice(0,0,b),a.U=0;a.U--}else b=a.L[a.U+1];a=[];if(b){b=b.toLowerCase().replace(/""/g,"'");c=0;var e=null;d=d||";";for(var f=0;f<=b.length;f++){var g=b.charAt(f);if('"'==g||"'"==g)e?g==e&&(e=null):e=g;else if(g==d&&!e||!g)a.push(na(b.substring(c,f))),c=f+1}}return a}
function Yq(a,b,c){var d=!0;try{if(!b.length||"end"==b)a.Fa&&(a.O("ended assemble at "+zq(a.ua)),a.Y=a.ua,a.Fa=!1),b="";else if(!c){var e=">> ";a.F.ab&1&&(e=a.F.aa&131072?"-- ":"## ");a.O(e+b)}var f=b.charAt(0);if('"'==f||"'"==f)return!0;a.Ra=null;if(tb(a)&&0<b.length){a.Fa&&(b="a "+zq(a.ua)+" "+b);var g=b.replace(/ +/g," ").split(" ");if(g&&g.length)for(var h=g[0],k=h.charAt(0),l=1;l<h.length;l++){var n=h.charAt(l);if("?"==k||"r"==k||"a">n||"z"<n){g[0]=h.substr(l);g.unshift(h.substr(0,l));break}}switch(g[0].charAt(0)){case "a":var q=
Gq(a,g[1],!0);if(q)if(a.ua=q,void 0===g[2])a.O("begin assemble at "+zq(q)),a.Fa=!0,Pc(a.F);else{var p;a.O("not supported yet");p=[];if(p.length){for(var A=0;A<p.length;A++)a.sc(q,p[A],1);a.O(Zq(a,a.ua))}}break;case "b":a:{var F=g[0],v=g[1],D=b;if("?"==v)a.O("breakpoint commands:"),a.O("\tbi [p]\ttoggle break on input port [p]"),a.O("\tbo [p]\ttoggle break on output port [p]"),a.O("\tbp [a]\tset exec breakpoint at addr [a]"),a.O("\tbr [a]\tset read breakpoint at addr [a]"),a.O("\tbw [a]\tset write breakpoint at addr [a]"),
a.O("\tbc [a]\tclear breakpoint at addr [a]"),a.O("\tbl\tlist all breakpoints"),a.O("\tbn [n]\tbreak after [n] instruction(s)");else{var H=F.charAt(1);if("l"==H){var L=0,L=L+Xq(a,a.A),L=L+Xq(a,a.sa);(L+=Xq(a,a.ga))||a.O("no breakpoints")}else if("n"==H)a.Ma=lq(a,v),a.O("break after "+a.Ma+" instruction(s)");else if(void 0===v)a.O("missing breakpoint address");else{var V={};if("*"!=v&&(V=Gq(a,v,!0,!0),!V))break a;v=null==V.Pa?v:u(V.Pa);"c"==H?null==V.Pa?(Rp(a),a.O("all breakpoints cleared")):yq(a,
a.A,V)||yq(a,a.sa,V)||yq(a,a.ga,V)||a.O("breakpoint missing: "+zq(V)):"i"==H?a.O("breakpoint "+(gc(a.ea,V.Pa)?"enabled":"cleared")+": port "+v+" (input)"):"o"==H?a.O("breakpoint "+(kc(a.ea,V.Pa)?"enabled":"cleared")+": port "+v+" (output)"):null!=V.Pa&&(Jq(a,V,D),"p"==H?a.Od(a.A,V):"r"==H?a.Od(a.sa,V):"w"==H?a.Od(a.ga,V):a.O("unknown breakpoint command: "+H))}}}break;case "c":mr(a);break;case "d":a:{var Q=g,$a,ma=Q[0],ga=Q[1],Ga=Q[2],Wa=Q[3];if("?"==ga){var Ba="";for($a in dq)a.Wa[$a]&&(Ba&&(Ba+=
","),Ba+=$a);Ba+=",state,symbols";a.O("dump memory commands:");a.O("\tdb [a] [#]    dump # bytes at address a");a.O("\tdw [a] [#]    dump # words at address a");a.O("\tdd [a] [#]    dump # dwords at address a");a.O("\tdh [#] [#]    dump # instructions from history");a.O("\tds [#]        dump descriptor info for selector #");Ba.length&&a.O("dump extension commands:\n\t"+Ba)}else if("state"==ga){var Pb=ur(a.da,!0);"console"==Ga?console.log(Pb):(mr(a),a.O(Pb))}else if("symbols"==ga)for(var va=0;va<a.B.length;va++){var Rd=
a.B[va],Qc;for(Qc in Rd.Nd)if("."!=Qc.charAt(0)){var Sd=Rd.Nd[Qc],Ie=Sd.o;if(void 0!==Ie){var Td=Sd.s;void 0===Td&&(Td=Rd.ba);var Je=Rd.Nd[Qc].l;Je&&(Qc=Je);a.O(rq(Ie,Td)+" "+Qc)}}}else{if("ds"==ma||"dg"==ma||"dl"==ma)ma="d",Q=[ma,"desc",ga];"d"==ma&&"page"==ga&&(ma="dp",Q.shift());if("dp"==ma){Q.shift();var gi=Q[0];if(gi){var Ue=a.fc(Gq(a,gi));if(-1===Ue)a.O("invalid address: "+gi);else{var Zd,Da=null;if(80386<=a.F.ia){var $d=a.ea,Da={};Da.fk=(Ue&-4194304)>>>20;Da.zi=a.F.Md+Da.fk;Da.yb=$d.ra[(Da.zi&
$d.Gb)>>>$d.La];Da.Yi=Da.yb.Kd(Da.fk);Da.gk=(Ue&4190208)>>>10;Da.Ai=(Da.Yi&-4096)+Da.gk;Da.zb=$d.ra[(Da.Ai&$d.Gb)>>>$d.La];Da.Zi=Da.zb.Kd(Da.gk);Da.Hk=(Da.Zi&-4096)+(Ue&4095)}if(Zd=Da){a.O("linear     PDE addr   PDE             PTE addr   PTE             physical");a.O("---------  ---------- --------        ---------- --------        ----------");var nd="%"+r(Ue),nd=nd+("  %%"+Lq(Zd.zi,Zd.Yi)),nd=nd+("  %%"+Lq(Zd.Ai,Zd.Zi,!0)),nd=nd+("  %%"+r(Zd.Hk));a.O(nd)}else a.O("unsupported operation")}}else a.O("missing address")}else{if("d"==
ma){if("disk"==ga){Q[0]="l";Q[1]="json";qr(a,Q);break a}for($a in dq)if(Q[1]==$a){var sn=a.Wa[$a];sn?(Q.shift(),Q.shift(),sn(Q)):a.O("no dump registered for "+ga);break a}ga||(ma=a.Jc||"db")}else a.Jc=ma;if("dh"==ma){var tn=ga,un=Ga,vn="",wn=0,ob=a.Ga,sc=a.ja;if(sc.length){var yb=+tn||a.Qb,ae=+un||10;isNaN(yb)?yb=ae:vn="more ";yb>sc.length&&(a.O("note: only "+sc.length+" available"),yb=sc.length);ob-=yb;0>ob&&(null==sc[sc.length-1].ba?(yb=ob+yb,ob=0):ob+=sc.length);var hi=[];"call"==un&&(ae=1E5,hi=
["CALL"]);for(void 0!==tn&&a.O(yb+" instructions earlier:");0<ae&&ob!=a.Ga;){var od=sc[ob++];if(null==od.ba)break;var Ve=Qp(a,od.Pa,od.ba,od.Ea,od.type,od.Tb,od.rc),Or=yb--,xn=Zq(a,Ve,"history",Or);(!hi.length||0<=xn.indexOf(hi[0]))&&a.O(xn);Ve.Se&&(ob+=Ve.Se,ae-=Ve.Se,yb-=Ve.Se);ob>=sc.length&&(ob=0);a.Qb=yb;wn++;ae--}}wn||(a.O("no "+vn+"history available"),a.Qb=void 0)}else if("di"==ma)Q.shift(),a.O("no information");else{var be=Gq(a,ga);if(be&&(null!=be.ba||null!=be.Ea)){var pg=0;Ga&&("l"==Ga.charAt(0)&&
(Ga=Ga.substr(1)||Wa),pg=lq(a,Ga)>>>0,65536<pg&&(pg=65536));for(var pd="",Pr=(pg||128)+15>>4||1,ii="dd"==ma?4:"dw"==ma?2:1,yn=0;yn<Pr;yn++){for(var qg=0,ji=0,We="",ki="",ga=zq(be),li=0;16>li;li++){var rg=a.Ya(be,1),qg=qg|rg<<(ji++<<3);ji==ii&&(We+=r(qg,2*ii),We+=1==ii?7==li?"-":" ":"  ",qg=ji=0);ki+=32<=rg&&128>rg?String.fromCharCode(rg):"."}pd&&(pd+="\n");pd+=ga+"  "+We+" "+ki}pd&&a.O(pd);a.sb=be}}}}}break;case "e":if("else"==g[0])break;var sg=1,zn=255,An=a.Ya,Bn=a.sc;"ew"==g[0]&&(sg=2,zn=65535,
An=a.oa,Bn=a.ib);var Cn=sg<<1,Dn=g[1];if(null==Dn)a.O("edit memory commands:"),a.O("\teb [a] [...]  edit bytes at address a"),a.O("\tew [a] [...]  edit words at address a");else{var tg=Gq(a,Dn);if(tg)for(var ug=2;ug<g.length;ug++){var Xe=Iq(a,g[ug]);if(void 0===Xe){a.O("unrecognized value: "+g[ug]);break}Xe&~zn&&a.O("warning: "+r(Xe)+" exceeds "+sg+"-byte value");var Qr=An.call(a,tg);a.O("changing "+zq(tg)+" from 0x"+r(Qr,Cn)+" to 0x"+r(Xe,Cn));Bn.call(a,tg,Xe,sg)}}break;case "f":nr(a,g[1]);break;
case "g":a:{var En=g[1],Rr=b;"gt"==g[0]&&(a.bb=!0);if(void 0!==En){var mi=Gq(a,En,!0);if(!mi)break a;Jq(a,mi,Rr);a.Od(a.A,mi,!0)}a.Ke(!0)||c||a.O("cpu busy or unavailable, run command ignored")}break;case "h":var ni;a.la.Ib?(ni="halting",a.Wb()):ni="already halted";c||a.O(ni);break;case "i":if("if"==g[0]){var oi;var Ye=b.substr(2),Ye=na(Ye);Iq(a,Ye)?(c||a.O("true: "+Ye),oi=!0):(c||a.O("false: "+Ye),oi=!1);oi||(d=!1);break}if("int"==g[0]){var vg;a:switch(lq(a,g[1])){case 19:ik(a,19,a.F.Da,!0);a.za=
a.pa;vg=!0;break a;case 33:ik(a,33,a.F.Da,!0);a.za=a.pa;vg=!0;break a;default:vg=!1}vg||(d=!1);break}var pi=g[1];if(pi&&"?"!=pi){var qi=lq(a,pi);if(void 0!==qi){var Sr=ic(a.ea,qi,1);a.O(u(qi)+": "+t(Sr))}}else a.O("input commands:"),a.O("\ti [p]\tread port [p]"),a.O("warning: port accesses can affect hardware state");break;case "k":var Tr=g[0];if("?"==g[1])a.O("stack trace commands:"),a.O("\tk\tshow frame addresses"),a.O("\tks\tshow symbol information");else{var ri=0,Fn=a.F.va.ba,Ze=Qp(a),Sc=Qp(a,
I(a.F),a.F.ta.ba);for(a.O("stack trace for "+zq(Sc));10>ri;){for(var tc=null,Ur=256;Sc.Pa>>>0<a.F.Lg>>>0;){Ze.Pa=a.Bb(Sc,!0);if(null==Sc.Ea||!Ur--)break;Ze.ba=Fn;if(tc=sr(a,Ze))break;Ze.ba=a.Bb(Sc);if(tc=sr(a,Ze,!0)){Fn=a.Bb(Sc,!0);0<tc.indexOf("INT")&&a.Bb(Sc,!0);break}}if(!tc||null==tc)break;var Gn=null;if("ks"==Tr){var Hn=tc.match(/[0-9A-F]+$/);Hn&&(Gn=pr(a,Hn[0]))}tc=la(tc,50)+"  ;"+(Gn||"stack="+zq(Sc));a.O(tc);ri++}ri||a.O("no return addresses found")}break;case "l":if("ln"==g[0]){pr(a,g[1],
!0);break}qr(a,g);break;case "m":if("mouse"==g[0]){var si=g[1],wg=g[2];if(a.V){var In=1;"-"==wg.charAt(0)&&(In=-1,wg=wg.substr(1));var qd=lq(a,wg,si);if(void 0!==qd)switch(qd=qd*In|0,si){case "x":a.V.Jf(qd,0);break;case "y":a.V.Jf(0,qd);break;case "click":a.V.ge(qd,!0);a.V.ge(qd,!1);break;default:a.O("unknown action: "+si)}}else a.O("no mouse");break}a:{var uc,vc=null,Na=g[1];"?"==Na&&(Na=void 0);if(void 0!==Na){var rd=0;if("all"==Na)rd=1610481663,Na=null;else if("on"==Na)vc=!0,Na=null;else if("off"==
Na)vc=!1,Na=null;else{"keys"==Na&&(Na="key");"kbd"==Na&&(Na="keyboard");for(uc in dq)if(Na==uc){rd=dq[uc];vc=!!(a.wc&rd);break}if(!rd){a.O("unknown message category: "+Na);break a}}rd&&("on"==g[2]?(a.wc|=rd,vc=!0):"off"==g[2]&&(a.wc&=~rd,vc=!1))}var Vr=0,Tc="";for(uc in dq)if(!Na||Na==uc){var Wr=!!(a.wc&dq[uc]);if(null===vc||vc==Wr)Tc&&(Tc+=","),++Vr%10||(Tc+="\n\t"),"key"==uc&&(uc="keys"),Tc+=uc}void 0===Na&&a.O("message commands:\n\tm [category] [on|off]\tturn categories on/off");a.O((null!==vc?
vc?"messages on:  ":"messages off: ":"message categories:\n\t")+(Tc||"none"));Sp(a)}break;case "o":var ti=g[1],Xr=g[2];if(ti&&"?"!=ti){var ui=lq(a,ti,"port #"),vi=lq(a,Xr);void 0!==ui&&void 0!==vi&&(mc(a.ea,ui,1,vi),a.O(u(ui)+": "+t(vi)))}else a.O("output commands:"),a.O("\to [p] [b]\twrite byte [b] to port [p]"),a.O("warning: port accesses can affect hardware state");break;case "p":if("print"==g[0]){rr(a,b.substr(5));break}var Jn="pr"==g[0]?1:0,ce=1+Jn;if(a.N)a.O("step in progress");else{var xg,
Kn=!1,jb=Qp(a,K(a.F),a.F.va.ba);do switch(xg=!1,a.Ya(jb)){case 38:case 46:case 54:case 62:case 100:case 101:case 102:case 103:case 240:Bq(a,jb,1);xg=!0;break;case 204:case 206:a.N=ce;Bq(a,jb,1);break;case 205:case 224:case 225:case 226:a.N=ce;Bq(a,jb,jb.Tb?4:2);break;case 232:a.N=ce;Bq(a,jb,jb.Tb?5:3);break;case 154:a.N=ce;Bq(a,jb,jb.Tb?7:5);break;case 255:var Ln=a.Bb(jb)&14591;if(4351==Ln||6399==Ln)a.N=ce,Zq(a,jb);break;case 243:case 242:Bq(a,jb,1);Kn=xg=!0;break;case 108:case 109:case 110:case 111:case 164:case 165:case 166:case 167:case 170:case 171:case 172:case 173:case 174:case 175:Kn&&
(a.N=ce,Bq(a,jb,1))}while(xg);a.N?(a.Od(a.A,jb,!0),a.Ke()||(a.F.Tc(),a.N=0)):tr(a,Jn?"tr":"t")}break;case "r":if("reset"==b){a.da&&a.da.reset();break}Rq(a,g);break;case "t":tr(a,g[0],g[1]);break;case "u":Sq(a,g[1],g[2],8);break;case "v":if("var"==g[0]){or(a,b.substr(3))||(d=!1);break}a.O("PCjs version 1.21.0 ("+a.F.ia+",RELEASE,PREFETCH"+(vb?",TYPEDARRAYS":",LONGARRAYS")+",NOBACKTRACK)");a.O(ya());break;case "x":a:if(g[1]&&"?"!=g[1])switch(g[1]){case "cs":var $e;void 0!==g[3]&&($e=+g[3]);switch(g[2]){case "int":a.F.X.hf=
$e;break;case "start":a.F.X.Lf=$e;break;case "stop":a.F.X.kf=$e;break;default:a.O("unknown cs option");break a}void 0!==$e&&Oc(a.F);a.O("checksums "+(a.F.la.Ye?"enabled":"disabled"));break;case "sp":void 0!==g[2]&&(Yc(a.F,+g[2])||a.O("warning: using 1x multiplier, previous target not reached"));a.O("target speed: "+(a.F.X.De.toFixed(2)+"Mhz")+" ("+a.F.X.Ud+"x)");break;default:a.O("unknown option: "+g[1])}else a.O("execution options:"),a.O("\tcs int #\tset checksum cycle interval to #"),a.O("\tcs start #\tset checksum cycle start count to #"),
a.O("\tcs stop #\tset checksum cycle stop count to #"),a.O("\tsp #\t\tset speed multiplier to #");break;case "?":if(g[1]){rr(a,b.substr(1));break}var af="commands:",wi;for(wi in Xp)af+="\n"+la(wi,7)+Xp[wi];Vf(a)||(af+="\nnote: frequency/history disabled if no exec breakpoints");a.O(af);break;default:a.O("unknown command: "+b),d=!1}}}catch(Mn){a.O("debugger error: "+(Mn.stack||Mn.message)),d=!1}return d}function Up(a,b,c){b=Kq(a,b,c);for(var d in b)if(!Yq(a,b[d]))return!1;return!0}
Qa(function(){for(var a=nb(document,"pcjs","debugger"),b=0;b<a.length;b++){var c=a[b],d=kb(c),d=new Pp(d);mb(d,c)}});function hf(a,b,c){this.id=a.id;this.key=vr(a,b,c);this.ha=a.ha;wr(this,a.wk)}function vr(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}
hf.prototype={constructor:hf,value:function(){return this[this.id]},data:function(){return this[this.id]},load:function(a){return a?(this[this.id]=a,this.A=!0):this.A?!0:Ca()&&(a=Ea(this.key))?(this[this.id]=a,this.A=!0):!1},toString:function(){var a=this[this.id];return"string"==typeof a?a:JSON.stringify(a)},clear:function(a){wr(this);var b=[];try{for(var c=0,d=window.localStorage.length;c<d;c++)b.push(window.localStorage.key(c))}catch(e){}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==
this.key)){try{window.localStorage.removeItem(d)}catch(e){}b.splice(c,1);c=0}}};function wr(a,b){a[a.id]={};b&&N(a,"parms",b);a.A=!1}function xr(a){var b=!0;if(Ca()){var c=JSON.stringify(a[a.id]);Fa(a.key,c)||(w("Unable to store "+c.length+" bytes in browser local storage"),b=!1)}return b}function yr(a){var b=!0;try{a[a.id]=JSON.parse(a[a.id])}catch(c){w(c.message||c),b=!1}return b}function zr(a,b){return a[a.id][b]||null}function N(a,b,c){try{a[a.id][b]=c}catch(d){}}
function Ar(a,b,c){Ua.call(this,"Computer",a,Ar,67108864);this.la.ec=!1;Br(this,b);this.Y=bp(this,"autoPower",a);this.C=0;this.pa=a.busWidth||a.buswidth;this.A=Cr;this.U=null;this.L=this.ka=!1;this.sa=bp(this,"url")||"";this.ua=(Math.random()+.1).toString(36).substr(2,12);this.B=Dr(this);if(this.F=ib("CPU",this.id)){this.ha=ib("Debugger",this.id);this.ea=new Lb({id:this.ve+".bus",buswidth:this.pa},this.F,this.ha);var d,e=gb(this.id);if((this.Xd=ib("Panel",this.id))&&this.Xd.Ff)for(b=0;b<e.length;b++)d=
e[b],d.Oa=this.Xd.Oa,d.O=this.Xd.O,d.Ff=this.Xd.Ff;for(b=0;b<e.length;b++)d=e[b],d.Gc&&d.Gc(this,this.ea,this.F,this.ha);b=null;d=a.resume;void 0!==d&&(1<d.length?b=this.V=d:this.A=parseInt(d,10));var f;if(a=Ya&&Ya.state||bp(this,"state")||(f=!0,a.state))b=this.fa=a,f||(this.L=!0,this.A=Cr),this.A&&(this.W=new hf(this,Er),this.W.load()?b=null:delete this.W);!b&&this.A&&(b=Fr(this))&&(this.L=!0);if(b){var g=this;wa(b,null,!0,function(a,b,c){c?(g.V=null,g.L=!1,g.Oa("Unable to load machine state from server (error "+
c+(b?": "+na(b):"")+")")):(g.U=b,g.ka=!0);sb(g)})}else sb(this);this.qa.power||(this.Y=!0);!c&&this.Y&&Gr(this,this.ag)}else w("Unable to find CPU component")}db(Ar);var Er="1.21.0",Cr=0;m=Ar.prototype;m.ff=function(){return this.ua};function Br(a,b){if(!b){var c;if("object"==typeof resources&&(c=resources.parms))try{b=eval("("+c+")")}catch(d){w(d.message+" ("+c+")")}}a.da=b}
function bp(a,b,c){var d;a.da&&(d=a.da[b]);void 0===d&&c&&(d=c[b]);void 0===d&&"object"==typeof resources&&resources[b]&&(d=b);return d}m.he=function(){return this.B||""};function Gr(a,b,c){for(var d=gb(a.id),e=0;e<=d.length;e++){var f=e<d.length?d[e]:a;if(!tb(f)){tb(f,function(){Gr(a,b,c)});return}}b.call(a,c)}
function Hr(a,b){var c=new hf(a,Er,"validate");if(c.load()&&yr(c)){var d=zr(c,"timestamp"),e=b?zr(b,"timestamp"):"unknown";d!=e&&(a.Oa("Machine state may be out-of-date\n("+d+" vs. "+e+")\nCheck your browser's local storage limits"),b||c.clear())}}
m.ag=function(a){void 0===a&&(a=this.A||(this.U?1:Cr));if(!this.C){this.C++;var b=!1,c=!1;this.ja=!1;var d=this.W||new hf(this,Er);if(-1==a)b=!0;else if(a>Cr){if(d.load(this.U)){this.N=new hf(this,Er,"failsafe");this.N.load()&&(Ir(this,d),a=2,wr(this.N));N(this.N,"timestamp",qa());xr(this.N);var e=this.A&&!this.L;if(1==a||za("Click OK to restore the previous PCjs machine state, or CANCEL to reset the machine.")){if(c=yr(d)){var f=zr(d,"code"),g=zr(d,"data");f&&("ok"==f?d.load(g):("error"==f&&"no machine state"!=
g?(this.Oa("Error: "+g),"unable to verify user"==g&&(Fa("user",""),this.B=null)):this.O(f+": "+g),wr(d),d.load()?(c=yr(d),e=!0):c=!1))}e&&Hr(this,c?d:null)}else 2==a&&d.clear()}else Hr(this);delete this.U;delete this.W}e=gb(this.id);for(f=0;f<e.length;f++)g=e[f],g!==this&&g!=this.F&&(c=Jr(this,g,d,b,c));b=[d,a,c];-1!=a?Gr(this,this.Mi,b):this.Mi(b)}};
function Jr(a,b,c,d,e){if(!b.la.ec){b.la.ec=!0;if(b.kc){var f=null;e&&((f=zr(c,b.id))||(f=zr(c,b.id.replace(/[a-z0-9]\./i,"."))));"string"===typeof f&&(f=null);!b.kc(f,d)&&f&&(w("Unable to restore state for "+b.type),a.fa&&!a.ka?(c.clear(),a.A=Cr,window&&window.location.reload()):a.ja=!0,b.kc(null),e=!1)}if(!d&&b.vk)for(a=b.vk.split("|"),c=0;c<a.length;c++)b.status(a[c])}return e}
m.Mi=function(a){var b=a[0],c=0>a[1];a=a[2];this.la.ec=!0;var d=this.qa.power;d&&(d.textContent="Shutdown");this.ga||(this.O("PCjs v"+Er+"\nCopyright \u00a9 2012-2016 Jeff Parsons <Jeff@pcjs.org>\nLicense: GPL version 3 or later <http://gnu.org/licenses/gpl.html>"),this.ga=!0);this.F&&(Jr(this,this.F,b,c,a),Rc(this.F));this.ja&&(Ir(this,b),b.clear());!c&&this.N&&(this.N.clear(),delete this.N);this.C=0};
function Ir(a,b){if(za("There may be a problem with your PCjs machine.\n\nTo help us diagnose it, click OK to send this PCjs machine state to http://www.pcjs.org.")){var c=a.sa,d=a.he(),e=b.toString(),f={app:"PCjs"};f.ver=Er;f.url=c;f.user=d;f.type="bug";f.data=e;wa("http://www.pcjs.org/api/v1/report",f,!0)}}
function ur(a,b,c){var d,e="none";if(a.C)return null;a.C--;var f=new hf(a,Er),g=new hf(a,Er,"validate"),h=qa();N(g,"timestamp",h);N(f,"timestamp",h);N(f,"version","1.21.0");N(f,"url",window?window.location.href:null);N(f,"browser",ya());a.F&&a.F.jc&&(c&&a.F.Wb(),d=a.F.jc(b,c),"object"===typeof d&&N(f,a.F.id,d),c&&(a.F.la.ec=!1,!1===d&&(e=null)));for(var h=gb(a.id),k=0;k<h.length;k++){var l=h[k];l.la.ec&&(l.jc&&(d=l.jc(b,c),"object"===typeof d&&N(f,l.id,d)),c&&(l.la.ec=!1,!1===d&&(e=null)))}e&&(c?
(h=d=!1,b?(a.B&&Kr(a,a.B,f.toString()),xr(g)&&xr(f)||(e=null,d=h=!0)):a.A&&(d=!0,h=3==a.A),d&&f.clear(h)):e=f.toString());c&&(a.la.ec=!1,b=a.qa.power)&&(b.textContent="Power");a.C=0;return e}m.reset=function(){this.ea&&this.ea.reset&&(y(this,"Resetting "+this.ea.type),this.ea.reset());for(var a=gb(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.ea&&c.reset&&(y(this,"Resetting "+c.type),c.reset())}};
m.start=function(a,b){for(var c=gb(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.start&&e.start(a,b)}};m.stop=function(a,b){for(var c=gb(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.stop&&e.stop(a,b)}};
m.Pb=function(a,b,c){var d=this;switch(b){case "power":return this.qa[b]=c,c.onclick=function(){d.C||(d.la.ec?ur(d,!1,!0):Gr(d,d.ag))},!0;case "reset":return this.qa[b]=c,c.onclick=function(){if(d.la.ec&&!d.C)if(d.A&&!d.V){var a=za("Click OK to save changes to this PCjs machine.\n\nWARNING: If you CANCEL, all disk changes will be discarded.");ur(d,a,!0);!a&&d.fa?window&&window.location.reload():(a||(d.ih=!0),d.ag(Cr),d.ih=!1)}else d.reset(),d.F&&Rc(d.F)},!0;case "save":if(ia(xa(),"pcjs.org")){c.parentNode.removeChild(c);
break}this.qa[b]=c;c.onclick=function(){var a=Dr(d,!0);if(a){var b=!!(d.A&&!d.V||d.fa),c=ur(d,b);b?Kr(d,a,c):d.Oa("Resume disabled, machine state not saved")}};return!0}return!1};
function Dr(a,b){var c=a.B;c||(c=Ea("user"),void 0!==c?!c&&b&&(c=null,window&&(c=window.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c&&((c=Lr(a,c))||a.Oa("The user ID is invalid."))):b&&a.Oa("Browser local storage is not available"));return c}
function Lr(a,b){a.B=null;var c=wa(xa()+"/api/v1/user?req=verify&user="+b),d=c[1];if(!c[0]&&d)try{c=eval("("+d+")"),c.code&&"ok"==c.code&&(Fa("user",c.data),a.B=c.data)}catch(e){w(e.message+" ("+d+")")}return a.B}function Fr(a){var b=null;a.B&&(b=xa()+"/api/v1/user?req=load&user="+a.B+"&state="+vr(a,Er));return b}
function Kr(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=vr(a,Er);d.data=c;b=wa(xa()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var e=d.indexOf("\n");0<e&&(d=d.substr(0,e));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.Oa("Machine state saved to server"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.Oa(c),Fa("user",""),a.B=null)}}
function Eb(a,b,c){a=gb(a.id);for(var d=0;d<a.length;d++){var e=a[d];if(c)c==e&&(c=null);else if(e.type==b)return e}return null}Qa(function(){for(var a=nb(document,"pcjs-machine"),b=0;b<a.length;b++)for(var c=a[b],d=kb(c),c=nb(c,"pcjs","computer"),e=0;e<c.length;e++){var f=c[e],g=kb(f),g=new Ar(g,d,!0);mb(g,f);g.Y&&Gr(g,g.ag)}});La.show.push(function(){for(var a=nb(document,"pcjs","computer"),b=0;b<a.length;b++){var c=kb(a[b]);(c=ib("Computer",c.id))&&c.ga&&!c.la.ec&&c.ag(-1)}});
La.exit.push(function(){for(var a=nb(document,"pcjs","computer"),b=0;b<a.length;b++){var c=kb(a[b]);(c=ib("Computer",c.id))&&c.la.ec&&ur(c,!(!c.A||c.V),!0)}});var Mr=0;function Nr(a,b,c,d,e,f){e("Loading "+a+"...");wa(a,null,!0,function(g,h,k){k?(h||(h="unable to load "+a+" ("+k+")"),f(h,null)):Yr(h,a,b,c,d,e,f)})}
function Yr(a,b,c,d,e,f,g){function h(a,f){if(f)g(f,null);else{if(c){fb(c,b,a);var h=b;h&&0>h.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(h=window.location.pathname+h);d?"}"==d.slice(-1)?(d=d.slice(0,-1),1<d.length&&(d+=",")):d='{state:"'+d+'",':d="{";d+='url:"'+h+'"}';"object"==typeof resources&&(h=null);a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(d?" parms='"+d+"'":"")+(h?' url="'+h+'"':""))}h=null;if("<"==a.charAt(0))try{e||(a=a.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,
"")),window.ActiveXObject||"ActiveXObject"in window?(h=new window.ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(a)):h=(new window.DOMParser).parseFromString(a,"text/xml")}catch(q){h=null,a=q.message}else a="unrecognized XML: "+(255<a.length?a.substr(0,255)+"...":a);g(a,h)}}a?e?Zr(a,f,h):h(a,null):g("no data"+(b?" for file: "+b:""),null)}
function Zr(a,b,c){var d;if(d=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(a)){var e=d[2];b("Loading "+e+"...");wa(e,null,!0,function(f,g,h){if(h||!g)c(a,"unable to resolve XML reference: "+d[0]+" ("+h+")");else{if(f=d[3])if(h=g.match(new RegExp("<"+d[1]+"[^>]*>"))){for(var k=h[0],l,n=/( [a-z]+=)(['"])(.*?)\2/g;l=n.exec(f);)k=0>k.indexOf(l[1])?k.replace(">",l[0]+">"):k.replace(new RegExp(l[1]+"(['\"])(.*?)\\1"),l[0]);h[0]!=k&&(g=g.replace(h[0],k))}else{c(a,"missing <"+d[1]+"> in "+e);return}g=g.replace(/<\?xml[^>]*>[\r\n]*/,
"");a=a.replace(d[0],g);Zr(a,b,c)}})}else c(a,null)}
function $r(a,b,c,d){function e(a){if(void 0===h){var b=g&&nb(g,"machine-warning");h=b&&b[0]||g}h&&(h.innerHTML=ka(a))}function f(a){e("Error: "+a);k&&(--Mr||Sa(!0));k=!1}var g,h,k=!0;Mr++;eb[a]={};try{if(g=document.getElementById(a)){var l;if("object"==typeof resources&&(l=resources.css)){var n=document.head||document.getElementsByTagName("head")[0],q=document.createElement("style");q.type="text/css";q.styleSheet?q.styleSheet.cssText=l:q.appendChild(document.createTextNode(l));n.appendChild(q)}c||
(c="/versions/pcjs/1.21.0/components.xsl");l=function(d,h){h?Nr(c,null,null,!1,e,function(d,k){if(k)if(fb(a,c,d),e("Processing "+b+"..."),window.ActiveXObject||"ActiveXObject"in window){var l=h.transformNode(k);l?(g.outerHTML=l,--Mr||Sa(!0)):f("transformNodeToObject failed")}else document.implementation&&document.implementation.createDocument?(l=new XSLTProcessor,l.importStylesheet(k),(l=l.transformToFragment(h,document))?g.parentNode?(g.parentNode.replaceChild(l,g),--Mr||Sa(!0)):f("invalid machine element: "+
a):f("transformToFragment failed")):f("unable to transform XML: unsupported browser");else f(d)}):f(d)};"<"!=b.charAt(0)?Nr(b,a,d,!0,e,l):Yr(b,null,a,d,!1,e,l)}else f("missing machine element: "+a)}catch(p){f(p.message)}return k}window.embedPC=function(a,b,c,d){Sa(!1);return $r(a,b,c,d)};window.enableEvents=Sa;window.sendEvent=Ta;
function as(a,b,c,d){if(!c&&b){d.push(b);a=eb[d[0]];b=null;for(var e in a)if(ia(e,"components.xsl")){b=e.replace(".xsl",".css");break}b?wa(b,null,!0,function(a,b){bs(b,d)}):bs(null,d)}else w("Error ("+c+") requesting "+a)}
function bs(a,b){var c,d,e,f=b[0],g=b[1];c=b[4];c=c.match(/^(\s*\(function\(\)\{)([\s\S]*)(}\)\(\);\s*)$/);var h=eb[f],k={},l;for(l in h){var n=h[l],q=ha(l);if("xml"==q){for(q=/[ \t]*<disk [^>]*path=(['"])(.*?)\1.*?<\/disk>\n?/g;d=q.exec(h[l]);){var p=d[2];p&&(h[p]||(n=n.replace(d[0],"")))}d=l=fa(l)}else"xsl"==q&&(e=l=fa(l));k[l]=n}a&&(k[l="css"]=a);b[2]&&(k[l="parms"]=b[2]);b[3]&&(k[l="state"]=b[3]);d&&e?(l=JSON.stringify(k),g+=".js",c=c[1]+"var resources="+l+";"+c[2]+c[3],c=c.replace(/\u00A9/g,
"&#xA9;"),c=Ia(c,"javascript",!1,g),c=c+(', copy it to your web server as "'+g+'", and then add the following to your web page:\n\n')+('<div id="'+f+'"></div>\n'),c+="...\n",c+='<script type="text/javascript" src="'+g+'">\x3c/script>\n',c+='<script type="text/javascript">embedPC("'+f+'","'+d+'","'+e+'");\x3c/script>\n\n',c+="The machine should appear where the <div> is located.",w(c)):w("Missing XML/XSL resources")}
window.savePC=function(a,b){var c=ib("Computer",a),d=ib("Debugger",a);if(c){var e=ur(c,!0),f=c.da?JSON.stringify(c.da):null;b||(b="/versions/pcjs/1.21.0/pc"+(d?"-dbg":"")+".js");wa(b,null,!0,function(c,d,k){as(c,d,k,[a,fa(b,!0),f,e])});return!0}w("Unable to identify machine '"+a+"'");return!1};})();
