(function(){var f;function aa(a,b){var c="";void 0===b?b=8:8<b&&(b=8);if(isNaN(a))for(;0<b--;)c="?"+c;else for(;0<b--;){var d=a&15,d=d+(0<=d&&9>=d?48:55),c=String.fromCharCode(d)+c;a>>=4}return c}function h(a){return aa(a,2)}function p(a){return aa(a,4)}function ba(a){var b=a,c=a.lastIndexOf("/");0<=c&&(b=a.substr(c+1));return b}var ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function da(a){return a.replace(/[&<>"']/g,function(a){return ca[a]})}function r(){return Date.now()||+new Date}
function s(a,b,c,d,e){b=!!b;var g=0,k=null,n=ba(a),m=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");b&&(m.onreadystatechange=function(){4===m.readyState&&(m.onreadystatechange=void 0,k=m.responseText,200!=m.status&&(g=m.status||-1),d&&e&&e.call(d,n,k,g,void 0))});if(c){var l="",q;for(q in c)c.hasOwnProperty(q)&&(l&&(l+="&"),l+=q+"="+encodeURIComponent(c[q]));l=l.replace(/%20/g,"+");m.open("POST",a,b);m.setRequestHeader("Content-type","application/x-www-form-urlencoded");
m.send(l)}else m.open("GET",a,b),m.send();a=[];b||(k=m.responseText,200!=m.status&&(g=m.status||-1),d&&e&&e.call(d,n,k,g,void 0),a=[g,k]);return a}function u(a){window?window.alert(a):console.log(a)}function v(a){if(window){var b=window?window.navigator.userAgent:"";return"iOS"==a&&b.match(/(iPod|iPhone|iPad)/)&&b.match(/AppleWebKit/)||"MSIE"==a&&b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)?!0:!1}return!1}function ea(a,b,c){function d(){a-=1;0<=a&&(b()||(a=0));0<a?setTimeout(d,0):c()}d()}
function fa(a,b){function c(){b(100===d)&&(e=setTimeout(c,d),d=100)}var d=0,e=null,g=!1;a.onmousedown=function(){g||e||(d=500,c())};a.ontouchstart=function(){e||(d=500,c())};a.onmouseup=a.onmouseout=function(){e&&(clearTimeout(e),e=null)};a.ontouchend=a.ontouchcancel=function(){e&&(clearTimeout(e),e=null);g=!0}}var w={init:[],show:[],exit:[]},ga=!0;function ha(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function x(a){w.init.push(a)}
function y(a){if(ga)for(var b=0;b<a.length;b++)a[b]()}ha("onload",function(){y(w.init)});ha("onpageshow",function(){y(w.show)});ha(v("Opera")||v("iOS")?"onunload":"onbeforeunload",function(){y(w.exit)});
function z(a,b,c){this.type=a;b||(b={id:"",name:""});this.id=b.id;this.name=b.name;void 0===this.id&&(this.id="");b=this.id.indexOf(".");0<b?(this.Dd=this.id.substr(0,b),this.Cd=this.id.substr(b+1)):this.Cd=this.id;this[a]=c;this.tc=null;this.ib=this.Ra=this.rc=this.Sb=!1;this.q={};this.l=null;ia(this);A[A.length]=this}var ja=void 0;if(window){ja||(ja=window.location.search.substr(1));for(var ka,la=/\+/g,ma=/([^&=]+)=?([^&]*)/g;ka=ma.exec(ja);)ka[1].replace(la," "),ka[2].replace(la," ")}
function na(){var a=z.prototype;function b(){}if(window){if(!a)throw new TypeError;if(Object.create)return Object.create(a);var c=typeof a;if("object"!==c&&"function"!==c)throw new TypeError;}b.prototype=a;return new b}function B(a){a.prototype=na()}var A=[];function oa(){}function pa(a,b){b||u(a)}function C(a,b){if(void 0!==a){var c;b&&0<(c=b.indexOf("."))&&(a=b.substr(0,c+1)+a);for(c=0;c<A.length;c++)if(A[c].id===a)return A[c]}return null}
function D(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("({"+a+"})")}catch(c){u(c.message+" ("+a+")")}return b}
function E(a,b){var c,d;d=F(b.parentNode,"c1pjs-control");for(c=0;c<d.length;c++){var e,g;g=d[c].childNodes;for(e=0;e<g.length;e++){var k=g[e];if(k.nodeType===window.document.ELEMENT_NODE){var n=k.getAttribute("class");if(n){var m,l;l=n.split(" ");for(m=0;m<l.length;m++)switch(n=l[m],n){case "c1pjs-input":case "c1pjs-output":(l=D(k))&&l.binding&&a.H(n,l.type,l.binding,k),l=[]}}}}}}
function F(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var e=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)e.test(a[b].className)&&c.push(a[b]);return c}
z.prototype={toString:function(){return this.name?this.name:this.id||this.type},H:function(a,b,c,d){switch(c){case "clear":return this.q[c]||(this.q[c]=d,d.onclick=function(a){return function(){a.q.print&&(a.q.print.value="")}}(this)),!0;case "print":return this.q[c]||(this.q[c]=d,d.value="",oa=function(a){return function(b,c){8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096));a.value+=(void 0!==c?c+": ":"")+(b||"")+"\n";a.scrollTop=a.scrollHeight}}(d),pa=function(a,b,c){oa(a,"notice",
c)}),!0}return!1},log:function(){},status:function(a){G(this,this.Cd+": "+a)},O:function(a){!this.ib&&(this.Sb=!1!==a)&&(this.name&&this.log("ready"),a=this.tc,this.tc=null,a&&a())}};function H(a,b){if(a.rc)return a.Ra&&(a.Ra=!1),a.rc=!1;if(a.ib)return G(a,a.toString()+" error"),!1;a.Ra=b;return a.Ra}function I(a,b){a.Ra&&(b?a.rc=!0:void 0===b&&G(a,a.toString()+" busy"));return a.Ra}function J(a,b){b&&(a.Sb?b():a.tc=b);return a.Sb}function K(a,b){a.ib=!0;pa("Fatal error: "+b,void 0,a.id)}
function G(a,b){oa(b,void 0,a.id)}function ia(a){var b=1;a.Dd&&(a=a.Dd.match(/\d+/),null!==a&&(b=parseInt(a[0],10)));return b}window&&!window.document.ELEMENT_NODE&&(window.document.ELEMENT_NODE=1);function qa(a){z.call(this,"C1PPanel",a);this.B=!1}B(qa);qa.prototype.H=function(a,b,c,d){return this.M&&this.M.H(a,b,c,d)||this.k&&this.k.H(a,b,c,d)||this.F&&this.F.H(a,b,c,d)||this.l&&this.l.H(a,b,c,d)?!0:z.prototype.H.call(this,a,b,c,d)};
qa.prototype.aa=function(a,b){a&&!this.B&&(this.B=!0,this.M=b,this.k=L(b,"cpu"),this.F=L(b,"keyboard"),this.l=L(b,"debugger"),ra())};function ra(){for(var a=!1,b=F(window.document,"c1pjs","panel"),c=0;c<b.length;c++){var d=b[c],e=D(d),g=C(e.id);g||(a=!0,g=new qa(e));E(g,d);a&&g.O()}}x(ra);
function sa(a){z.call(this,"C1PCPU",a);ta(this);this.fa=this.B=!1;this.zd=a.autoStart;this.Gb=0;this.nd=1;this.La=2;this.speed=this.Gb;this.ob=1E6;this.zc=this.Bc=30;this.yc=5;this.Nf=1;this.lb=8;this.td=["Slow","Fast","Max"];this.Af=["("+this.Nf+"Mhz)","(up to "+this.lb+"Mhz)","(unlimited)"];this.Ba=[];this.ra=[];this.lc=65536;this.mc=0;this.Kb=65536;this.Lb=0;this.ne=128;this.oe=64;this.je=16;this.le=8;this.me=4;this.pe=2;this.ke=1;this.wf=65532;this.Fb=32;this.ec=2;this.tf=0;this.md=1;this.s=[this.Ag,
this.Uh,this.Li,this.i,this.i,this.Wh,this.qg,this.i,this.Zh,this.Th,this.pg,this.i,this.i,this.Qh,this.ng,this.i,this.zg,this.Vh,this.i,this.i,this.i,this.Xh,this.rg,this.i,this.Dg,this.Sh,this.i,this.i,this.i,this.Rh,this.og,this.i,this.rh,this.jg,this.i,this.i,this.wg,this.lg,this.ei,this.i,this.ai,this.ig,this.di,this.i,this.vg,this.fg,this.bi,this.i,this.xg,this.kg,this.i,this.i,this.i,this.mg,this.fi,this.i,this.vi,this.hg,this.i,this.i,this.i,this.gg,this.ci,this.i,this.li,this.fh,this.i,this.i,
this.i,this.hh,this.Nh,this.i,this.Yh,this.eh,this.Mh,this.i,this.qh,this.ah,this.Kh,this.i,this.Bg,this.gh,this.i,this.i,this.i,this.ih,this.Oh,this.i,this.Fg,this.dh,this.i,this.i,this.i,this.bh,this.Lh,this.i,this.mi,this.Sd,this.i,this.i,this.i,this.Ud,this.ji,this.i,this.$h,this.Rd,this.ii,this.i,this.ph,this.Od,this.gi,this.i,this.Cg,this.Td,this.i,this.i,this.i,this.Vd,this.ki,this.i,this.xi,this.Qd,this.i,this.i,this.i,this.Pd,this.hi,this.i,this.i,this.Bi,this.i,this.i,this.Ji,this.Di,this.Gi,
this.i,this.$g,this.i,this.Pi,this.i,this.Ii,this.yi,this.Fi,this.i,this.sg,this.Ci,this.i,this.i,this.Ki,this.Ei,this.Hi,this.i,this.Ri,this.Ai,this.Qi,this.i,this.i,this.zi,this.i,this.i,this.Hh,this.wh,this.Ch,this.i,this.Ih,this.yh,this.Dh,this.i,this.Ni,this.vh,this.Mi,this.i,this.Fh,this.sh,this.Ah,this.i,this.tg,this.xh,this.i,this.i,this.Jh,this.zh,this.Eh,this.i,this.Gg,this.uh,this.Oi,this.i,this.Gh,this.th,this.Bh,this.i,this.Tg,this.Lg,this.i,this.i,this.Ug,this.Ng,this.Xg,this.i,this.oh,
this.Kg,this.Zg,this.i,this.Sg,this.Hg,this.Vg,this.i,this.yg,this.Mg,this.i,this.i,this.i,this.Og,this.Yg,this.i,this.Eg,this.Jg,this.i,this.i,this.i,this.Ig,this.Wg,this.i,this.Qg,this.$d,this.i,this.i,this.Rg,this.be,this.lh,this.i,this.nh,this.Zd,this.Ph,this.i,this.Pg,this.Wd,this.jh,this.i,this.ug,this.ae,this.i,this.i,this.i,this.ce,this.mh,this.i,this.wi,this.Yd,this.i,this.i,this.i,this.Xd,this.kh,this.i];this.zf=[7,6,0,0,0,3,5,0,3,2,2,0,0,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0,3,6,0,0,3,
3,5,0,4,2,2,0,4,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0,6,6,0,0,0,3,5,0,3,2,2,0,3,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0,6,6,0,0,0,3,5,0,4,2,2,0,5,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0,0,6,0,0,3,3,3,0,2,0,2,0,4,4,4,0,2,5,0,0,4,4,4,0,2,4,2,0,0,4,0,0,2,6,2,0,3,3,3,0,2,2,2,0,4,4,4,0,2,5,0,0,4,4,4,0,2,4,2,0,4,4,4,0,2,6,0,0,3,3,5,0,2,2,2,0,4,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0,2,6,0,0,3,3,5,0,2,2,2,0,4,4,6,0,2,5,0,0,0,4,6,0,2,4,0,0,0,4,7,0]}B(sa);f=sa.prototype;
f.reset=function(a){this.fa&&this.S();ta(this);var b=this.wf;this.d=this.a[b]|this.a[b+1]<<8;this.ib=!1;this.l?this.l.reset():a&&(!0===this.zd||null===this.zd&&!this.l&&void 0===this.q.run)&&this.xa()};
f.H=function(a,b,c,d){a=!1;switch(c){case "run":this.q[c]=d;d.onclick=function(a){return function(){a.fa?a.S():a.xa()}}(this);a=!0;break;case "A":case "X":case "Y":case "S":case "PC":case "C":case "Z":case "I":case "D":case "B":case "V":case "N":case "speed":this.q[c]=d;a=!0;break;case "setSpeed":this.q[c]=d,d.onclick=function(a){return function(){M(a,a.speed>=a.La?a.Gb:a.speed+1,!0)}}(this),a=!0}return a};
f.U=function(a,b,c){this.a=a;this.Z=b;this.pc=c-b+1;this.Xa=this.Z+this.pc;this.Z?u("unsupported CPU address buffer offset ("+this.Z+")"):this.O()};f.aa=function(a,b){if(a&&!this.B){this.M=b;(this.l=L(b,"debugger"))&&this.l.Kf();var c=L(b,"video");c&&(this.qc=function(a){return function(){ua(a)}}(c),this.V=function(a){return function(){a.V()}}(c));this.B=!0;this.reset(!0);this.update()}};function va(a,b,c,d,e){0>wa(a.Ba,b,c,d,e)&&(a.lc>b&&(a.lc=b),a.mc<c&&(a.mc=c),a.Ba.push([b,c,d,e]))}
function xa(a,b,c){for(var d=0;d<a.Ba.length;d++)b>=a.Ba[d][0]&&b<=a.Ba[d][1]&&a.Ba[d][3].call(a.Ba[d][2],b,c)}function N(a,b,c,d,e){0>wa(a.ra,b,c,d,e)&&(a.Kb>b&&(a.Kb=b),a.Lb<c&&(a.Lb=c),a.ra.push([b,c,d,e]))}function za(a,b,c){for(var d=0;d<a.ra.length;d++)b>=a.ra[d][0]&&b<=a.ra[d][1]&&a.ra[d][3].call(a.ra[d][2],b,c)}function wa(a,b,c,d,e){for(var g=0;g<a.length;g++)if(a[g][0]==b&&a[g][1]==c&&a[g][2]==d&&a[g][3]==e)return g;return-1}
function M(a,b,c){void 0!==b&&(a.speed=b,a.q.setSpeed&&(a.q.setSpeed.innerHTML=a.td[2<=b?0:b+1]),G(a,"running at "+a.td[b].toLowerCase()+" speed "+a.Af[b]),c&&a.V());a.Wa=0;a.Ed=r();Aa(a)}f.qc=function(){};f.V=function(){};function O(a,b,c,d){void 0!==a.q[b]&&(void 0===d&&(d=1),c="0000"+c.toString(16),a.q[b].innerHTML=c.slice(c.length-d).toUpperCase())}
function Ba(a){O(a,"A",a.e,2);O(a,"X",a.m,2);O(a,"Y",a.o,2);var b=Ca(a);O(a,"C",b&a.ke?1:0);O(a,"Z",b&a.pe?1:0);O(a,"I",b&a.me?1:0);O(a,"D",b&a.le?1:0);O(a,"B",b&a.je?1:0);O(a,"V",b&a.oe?1:0);O(a,"N",b&a.ne?1:0);O(a,"S",a.p,4);O(a,"PC",a.d,4);a.q.speed&&a.ta&&(a.q.speed.innerHTML=a.ta.toFixed(1)+"Mhz")}
function Aa(a,b){var c=a.Bc;c<a.zc&&(c=a.zc);c<a.yc&&(c=a.yc);var d=1;b&&a.speed>a.Gb&&a.ta&&(d=a.ta);d>a.lb&&a.speed<a.La&&(d=a.lb);a.Pf=Math.round(1E3/a.Bc);a.Vb=Math.floor(a.ob/c*d);a.uc=Math.floor(a.ob/a.Bc*d);a.Gd=Math.floor(a.ob/a.zc*d);a.Fd=Math.floor(a.ob/a.yc*d);b||(a.Ua=a.uc,a.nb=a.Gd,a.mb=a.Fd);a.xc=0}
function Da(a){var b=r(),c=a.Pf;a.pb&&(c=Math.round(c*a.pb/a.uc));c-=b-a.Sf;if(b-=a.Ed)a.ta=Math.round(a.Wa/(100*b))/10,864E5<=b&&M(a);0>c?c=0:a.speed==a.nd?a.ta<=a.lb&&(c=0):a.speed==a.La&&(c=0);a.xc+=a.pb;return c}
f.xa=function(){if(H(this,!0)){this.fa||(M(this),this.M&&this.M.start(),this.fa=!0,this.q.run&&(this.q.run.innerHTML="Halt"),this.V());this.xc>=this.ob&&Aa(this,!0);this.pb=0;this.Sf=r();try{do{this.step(this.Vb);var a=this.ua-this.D;this.Wa+=a;this.pb+=a;this.ua=this.D=0;this.nb-=this.Vb;0>=this.nb&&(this.nb+=this.Gd,this.qc());this.mb-=this.Vb;0>=this.mb&&(this.mb+=this.Fd,Ba(this));this.Ua-=this.Vb;if(0>=this.Ua){this.Ua+=this.uc;break}}while(this.fa)}catch(b){this.S();this.update();H(this,!1);
K(this,b.message||b);return}setTimeout(function(a){return function(){a.xa()}}(this),Da(this))}else this.update(),this.M&&this.M.stop(this.Ed,this.Wa)};
f.step=function(a){var b=!0;this.b=this.h=-1;var c;if(c=a)if(c=this.l)c=this.l,c=0<c.qa.length||0<c.Aa.length||0<c.Da.length;this.ua=this.D=a;do{a=this.a[this.d];var d;if(d=c){d=this.l;var e=a,g=!1;Ea(d,this.d,d.qa,"exec")?g=!0:(d.Oa++,d.ea[e][1]++,d.Ca[d.jb++]=d.k.d,d.jb>=d.Ca.length&&(d.jb=0));d=!!g}if(d){b=void 0;this.S();break}this.d++;this.s[a].call(this);if(0<=this.b){this.b>=this.lc&&this.b<=this.mc&&xa(this,this.b,this.d);if(d=c)d=this.l,e=!1,Ea(d,this.b,d.Aa,"read")&&(e=!0),d=!!e;if(d){b=
!1;this.S();break}this.b=-1}else if(0<=this.h){this.h>=this.Kb&&this.h<=this.Lb&&za(this,this.h,this.d);if(d=c){d=this.l;var e=this.h,g=this.a[this.h],k=!1;(g&255)!=g&&(G(d,"invalid value at "+p(e)+": "+g),k=!0);Ea(d,e,d.Da,"write")&&(k=!0);d=!!k}if(d){b=!1;this.S();break}this.h=-1}this.D-=this.zf[a]}while(0<this.D);return b};function Fa(a){a.Ua=0;a.ua-=a.D;a.D=0}f.S=function(){I(this,!0);this.ua-=this.D;this.D=0;this.fa&&(this.fa=!1,this.q.run&&(this.q.run.innerHTML="Run"))};
f.update=function(){this.qc();Ba(this)};function Ga(a){return a.fa?a.Wa+a.ua-a.D:0}f.G=function(a){return this.a[a]};f.N=function(a,b){this.a[a]=b};function Ca(a){var b=a.c&256?1:0,b=b|(a.g&255?0:2),b=b|((a.t&255^a.u^a.t>>1)&128?64:0),b=b|(a.f&128?128:0);return a.v&60|b}
function Ha(a){a.v|=8;a.s[97]=a.bg;a.s[101]=a.dg;a.s[105]=a.ag;a.s[109]=a.Yf;a.s[113]=a.cg;a.s[117]=a.eg;a.s[121]=a.$f;a.s[125]=a.Zf;a.s[225]=a.ri;a.s[229]=a.ti;a.s[233]=a.qi;a.s[237]=a.ni;a.s[241]=a.si;a.s[245]=a.ui;a.s[249]=a.pi;a.s[253]=a.oi}function Ia(a){a.v&=-9;a.s[97]=a.Sd;a.s[101]=a.Ud;a.s[105]=a.Rd;a.s[109]=a.Od;a.s[113]=a.Td;a.s[117]=a.Vd;a.s[121]=a.Qd;a.s[125]=a.Pd;a.s[225]=a.$d;a.s[229]=a.be;a.s[233]=a.Zd;a.s[237]=a.Wd;a.s[241]=a.ae;a.s[245]=a.ce;a.s[249]=a.Yd;a.s[253]=a.Xd}
function P(a,b,c){var d=a.c&256?1:0,e=(b&15)+(c&15)+d;10<=e&&(e=e+6&15|16);e+=(b&240)+(c&240);a.u=b^c;a.t=e;a.f=e&255;160<=e&&(e+=96);512<=e&&(e-=256);a.c=e;a.g=b+c+d&255;a.D--;return e&255}function Q(a,b,c){var d=a.c&256?0:1,e=(b&15)-(c&15)-d;0>e&&(e=(e-6&15)-16);e+=(b&240)-(c&240);0>e&&(e-=96);a.f=a.g=(a.c=b-c-d)&255;a.u=b^c;a.t=a.c;a.c^=256;a.D--;return e&255}function ta(a){a.e=0;a.m=0;a.o=0;a.p=256;a.v=0;a.f=0;a.g=0;a.u=0;a.t=0;a.c=0;a.d=0;a.b=-1;a.h=-1;a.ta=0;a.Wa=a.ua=a.D=0}
f.Ag=function(){this.d++;this.a[this.p--]=this.d>>8;this.p|=256;this.a[this.p--]=this.d&255;this.p|=256;this.v|=16;this.v=Ca(this);this.a[this.p--]=this.v;this.p|=256;this.v&=239;this.b=65534;this.d=this.a[this.b]|this.a[this.b+1]<<8};f.Uh=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.f=this.g=this.e|=this.a[this.b]};f.Wh=function(){this.b=this.a[this.d++];this.f=this.g=this.e|=this.a[this.b]};
f.qg=function(){this.h=this.a[this.d++];this.c=this.a[this.h]<<1;this.f=this.g=this.a[this.h]=this.c&255};f.Zh=function(){this.v=Ca(this);this.a[this.p--]=this.v;this.p|=256};f.Th=function(){this.b=this.d++;this.f=this.g=this.e|=this.a[this.b]};f.pg=function(){this.c=this.e<<1;this.f=this.g=this.e=this.c&255};f.Qh=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.e|=this.a[this.b]};
f.ng=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.a[this.h]<<1;this.f=this.g=this.a[this.h]=this.c&255};f.zg=function(){this.d+=(this.f&128?0:(this.D--,this.a[this.d]<<24>>24))+1};f.Vh=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.f=this.g=this.e|=this.a[this.b]};f.Xh=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.e|=this.a[this.b]};
f.rg=function(){this.h=this.a[this.d++]+this.m&255;this.c=this.a[this.h]<<1;this.f=this.g=this.a[this.h]=this.c&255};f.Dg=function(){this.c=0};f.Sh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.e|=this.a[this.b]};f.Rh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.e|=this.a[this.b]};f.og=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.a[this.h]<<1;this.f=this.g=this.a[this.h]=this.c&255};
f.rh=function(){this.b=this.d++;this.a[this.p--]=this.d>>8;this.p|=256;this.a[this.p--]=this.d&255;this.p|=256;this.d=this.a[this.b]|this.a[this.b+1]<<8};f.jg=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.f=this.g=this.e&=this.a[this.b]};f.wg=function(){this.b=this.a[this.d++];this.g=this.e&this.a[this.b];this.f=this.f&127|this.a[this.b]&128;this.t=0;this.u=this.a[this.b]&64?128:0};f.lg=function(){this.b=this.a[this.d++];this.f=this.g=this.e&=this.a[this.b]};
f.ei=function(){this.h=this.a[this.d++];this.c=this.c&65280|this.a[this.h];this.c<<=1;this.c=this.c&65534|(this.c&512?1:0);this.f=this.g=this.a[this.h]=this.c&255};f.ai=function(){this.p=this.p+1&255|256;this.v=this.a[this.p];this.c=this.v&1?256:0;this.g=this.v&2?0:1;this.f=this.v&128;this.t=0;this.u=this.v&64?128:0};f.ig=function(){this.b=this.d++;this.f=this.g=this.e&=this.a[this.b]};
f.di=function(){this.c=this.c&65280|this.e;this.c<<=1;this.c=this.c&65534|(this.c&512?1:0);this.f=this.g=this.e=this.c&255};f.vg=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.g=this.e&this.a[this.b];this.f=this.f&127|this.a[this.b]&128;this.t=0;this.u=this.a[this.b]&64?128:0};f.fg=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.e&=this.a[this.b]};
f.bi=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.c&65280|this.a[this.h];this.c<<=1;this.c=this.c&65534|(this.c&512?1:0);this.f=this.g=this.a[this.h]=this.c&255};f.xg=function(){this.d+=(this.f&128?(this.D--,this.a[this.d]<<24>>24):0)+1};f.kg=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.f=this.g=this.e&=this.a[this.b]};f.mg=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.e&=this.a[this.b]};
f.fi=function(){this.h=this.a[this.d++]+this.m&255;this.c=this.c&65280|this.a[this.h];this.c<<=1;this.c=this.c&65534|(this.c&512?1:0);this.f=this.g=this.a[this.h]=this.c&255};f.vi=function(){this.c=256};f.hg=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.e&=this.a[this.b]};f.gg=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.e&=this.a[this.b]};
f.ci=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.c&65280|this.a[this.h];this.c<<=1;this.c=this.c&65534|(this.c&512?1:0);this.f=this.g=this.a[this.h]=this.c&255};f.li=function(){this.p=this.p+1&255|256;this.v=this.a[this.p];this.c=this.v&1?256:0;this.g=this.v&2?0:1;this.f=this.v&128;this.t=0;this.u=this.v&64?128:0;this.p=this.p+2&255|256;this.d=this.a[this.p-1|256]|this.a[this.p]<<8};
f.fh=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.f=this.g=this.e^=this.a[this.b]};f.hh=function(){this.b=this.a[this.d++];this.f=this.g=this.e^=this.a[this.b]};f.Nh=function(){this.h=this.a[this.d++];this.c=this.c&65279|(this.a[this.h]&1?256:0);this.a[this.h]=(this.c=this.c&65280|this.a[this.h]>>1)&255;this.f=this.g=this.c&255};f.Yh=function(){this.a[this.p--]=this.e;this.p|=256};f.eh=function(){this.b=this.d++;this.f=this.g=this.e^=this.a[this.b]};
f.Mh=function(){this.c=this.c&65279|(this.e&1?256:0);this.e=(this.c=this.c&65280|this.e>>1)&255;this.f=this.g=this.c&255};f.qh=function(){this.b=this.d;this.d=this.a[this.b]|this.a[this.b+1]<<8};f.ah=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.e^=this.a[this.b]};f.Kh=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.c&65279|(this.a[this.h]&1?256:0);this.a[this.h]=(this.c=this.c&65280|this.a[this.h]>>1)&255;this.f=this.g=this.c&255};
f.Bg=function(){this.d+=((this.t&255^this.u^this.t>>1)&128?0:(this.D--,this.a[this.d]<<24>>24))+1};f.gh=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.f=this.g=this.e^=this.a[this.b]};f.ih=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.e^=this.a[this.b]};f.Oh=function(){this.h=this.a[this.d++]+this.m&255;this.c=this.c&65279|(this.a[this.h]&1?256:0);this.a[this.h]=(this.c=this.c&65280|this.a[this.h]>>1)&255;this.f=this.g=this.c&255};
f.Fg=function(){this.v&=251};f.dh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.e^=this.a[this.b]};f.bh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.e^=this.a[this.b]};f.Lh=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.c&65279|(this.a[this.h]&1?256:0);this.a[this.h]=(this.c=this.c&65280|this.a[this.h]>>1)&255;this.f=this.g=this.c&255};
f.mi=function(){this.p=this.p+2&255|256;this.d=(this.a[this.p-1|256]|this.a[this.p]<<8)+1};f.Sd=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.bg=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.e=P(this,this.e,this.a[this.b])};
f.Ud=function(){this.b=this.a[this.d++];this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.dg=function(){this.b=this.a[this.d++];this.e=P(this,this.e,this.a[this.b])};f.ji=function(){this.h=this.a[this.d++];this.c=this.c&65280|this.a[this.h];this.c=this.c&65023|(this.c&1?512:0);this.c>>=1;this.f=this.g=this.a[this.h]=this.c&255};f.$h=function(){this.p=this.p+1&255|256;this.f=this.g=this.e=this.a[this.p]};
f.Rd=function(){this.b=this.d++;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.ag=function(){this.b=this.d++;this.e=P(this,this.e,this.a[this.b])};f.ii=function(){this.c=this.c&65280|this.e;this.c=this.c&65023|(this.c&1?512:0);this.c>>=1;this.f=this.g=this.e=this.c&255};f.ph=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.d=this.a[this.b]|this.a[this.b+1]<<8};
f.Od=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.Yf=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.e=P(this,this.e,this.a[this.b])};f.gi=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.c&65280|this.a[this.h];this.c=this.c&65023|(this.c&1?512:0);this.c>>=1;this.f=this.g=this.a[this.h]=this.c&255};
f.Cg=function(){this.d+=((this.t&255^this.u^this.t>>1)&128?(this.D--,this.a[this.d]<<24>>24):0)+1};f.Td=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.cg=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.e=P(this,this.e,this.a[this.b])};
f.Vd=function(){this.b=this.a[this.d++]+this.m&255;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.eg=function(){this.b=this.a[this.d++]+this.m&255;this.e=P(this,this.e,this.a[this.b])};f.ki=function(){this.h=this.a[this.d++]+this.m&255;this.c=this.c&65280|this.a[this.h];this.c=this.c&65023|(this.c&1?512:0);this.c>>=1;this.f=this.g=this.a[this.h]=this.c&255};f.xi=function(){this.v|=4};
f.Qd=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};f.$f=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.e=P(this,this.e,this.a[this.b])};f.Pd=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.e+this.a[this.b]+(this.c&256?1:0);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255};
f.Zf=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.e=P(this,this.e,this.a[this.b])};f.hi=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.c&65280|this.a[this.h];this.c=this.c&65023|(this.c&1?512:0);this.c>>=1;this.f=this.g=this.a[this.h]=this.c&255};f.Bi=function(){this.h=this.a[this.d++]+this.m&255;this.h=this.a[this.h]|this.a[this.h+1]<<8;this.a[this.h]=this.e};f.Ji=function(){this.h=this.a[this.d++];this.a[this.h]=this.o};
f.Di=function(){this.h=this.a[this.d++];this.a[this.h]=this.e};f.Gi=function(){this.h=this.a[this.d++];this.a[this.h]=this.m};f.$g=function(){this.f=this.g=this.o=this.o-1&255};f.Pi=function(){this.f=this.g=this.e=this.m};f.Ii=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.a[this.h]=this.o};f.yi=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.a[this.h]=this.e};f.Fi=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.a[this.h]=this.m};
f.sg=function(){this.d+=(this.c&256?0:(this.D--,this.a[this.d]<<24>>24))+1};f.Ci=function(){this.h=this.a[this.d++];this.h=(this.a[this.h]|this.a[this.h+1]<<8)+this.o;this.a[this.h]=this.e};f.Ki=function(){this.h=this.a[this.d++]+this.m&255;this.a[this.h]=this.o};f.Ei=function(){this.h=this.a[this.d++]+this.m&255;this.a[this.h]=this.e};f.Hi=function(){this.h=this.a[this.d++]+this.o&255;this.a[this.h]=this.m};f.Ri=function(){this.f=this.g=this.e=this.o};
f.Ai=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.a[this.h]=this.e};f.Qi=function(){this.p=this.m|256};f.zi=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.a[this.h]=this.e};f.Hh=function(){this.b=this.d++;this.f=this.g=this.o=this.a[this.b]};f.wh=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.f=this.g=this.e=this.a[this.b]};f.Ch=function(){this.b=this.d++;this.f=this.g=this.m=this.a[this.b]};
f.Ih=function(){this.b=this.a[this.d++];this.f=this.g=this.o=this.a[this.b]};f.yh=function(){this.b=this.a[this.d++];this.f=this.g=this.e=this.a[this.b]};f.Dh=function(){this.b=this.a[this.d++];this.f=this.g=this.m=this.a[this.b]};f.Ni=function(){this.f=this.g=this.o=this.e};f.vh=function(){this.b=this.d++;this.f=this.g=this.e=this.a[this.b]};f.Mi=function(){this.f=this.g=this.m=this.e};f.Fh=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.o=this.a[this.b]};
f.sh=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.e=this.a[this.b]};f.Ah=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.m=this.a[this.b]};f.tg=function(){this.d+=(this.c&256?(this.D--,this.a[this.d]<<24>>24):0)+1};f.xh=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.f=this.g=this.e=this.a[this.b]};f.Jh=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.o=this.a[this.b]};
f.zh=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.e=this.a[this.b]};f.Eh=function(){this.b=this.a[this.d++]+this.o&255;this.f=this.g=this.m=this.a[this.b]};f.Gg=function(){this.u=this.t=0};f.uh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.e=this.a[this.b]};f.Oi=function(){this.f=this.g=this.m=this.p&255};f.Gh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.o=this.a[this.b]};
f.th=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.e=this.a[this.b]};f.Bh=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.m=this.a[this.b]};f.Tg=function(){this.b=this.d++;this.f=this.g=this.c=this.o-this.a[this.b];this.c^=256};f.Lg=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};
f.Ug=function(){this.b=this.a[this.d++];this.f=this.g=this.c=this.o-this.a[this.b];this.c^=256};f.Ng=function(){this.b=this.a[this.d++];this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Xg=function(){this.h=this.a[this.d++];this.f=this.g=this.a[this.h]=this.a[this.h]-1&255};f.oh=function(){this.f=this.g=this.o=this.o+1&255};f.Kg=function(){this.b=this.d++;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Zg=function(){this.f=this.g=this.m=this.m-1&255};
f.Sg=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.c=this.o-this.a[this.b];this.c^=256};f.Hg=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Vg=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.a[this.h]=this.a[this.h]-1&255};f.yg=function(){this.d+=(this.g&255?(this.D--,this.a[this.d]<<24>>24):0)+1};
f.Mg=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Og=function(){this.b=this.a[this.d++]+this.m&255;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Yg=function(){this.h=this.a[this.d++]+this.m&255;this.f=this.g=this.a[this.h]=this.a[this.h]-1&255};f.Eg=function(){Ia(this)};
f.Jg=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Ig=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.c=this.e-this.a[this.b];this.c^=256};f.Wg=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.a[this.h]=this.a[this.h]-1&255};f.Qg=function(){this.b=this.d++;this.f=this.g=this.c=this.m-this.a[this.b];this.c^=256};
f.$d=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.ri=function(){this.b=this.a[this.d++]+this.m&255;this.b=this.a[this.b]|this.a[this.b+1]<<8;this.e=Q(this,this.e,this.a[this.b])};f.Rg=function(){this.b=this.a[this.d++];this.f=this.g=this.c=this.m-this.a[this.b];this.c^=256};
f.be=function(){this.b=this.a[this.d++];this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.ti=function(){this.b=this.a[this.d++];this.e=Q(this,this.e,this.a[this.b])};f.lh=function(){this.h=this.a[this.d++];this.f=this.g=this.a[this.h]=this.a[this.h]+1&255};f.nh=function(){this.f=this.g=this.m=this.m+1&255};
f.Zd=function(){this.b=this.d++;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.qi=function(){this.b=this.d++;this.e=Q(this,this.e,this.a[this.b])};f.Ph=function(){};f.Pg=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.c=this.m-this.a[this.b];this.c^=256};
f.Wd=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.ni=function(){this.b=this.a[this.d++]|this.a[this.d++]<<8;this.e=Q(this,this.e,this.a[this.b])};f.jh=function(){this.h=this.a[this.d++]|this.a[this.d++]<<8;this.f=this.g=this.a[this.h]=this.a[this.h]+1&255};f.ug=function(){this.d+=(this.g&255?0:(this.D--,this.a[this.d]<<24>>24))+1};
f.ae=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.si=function(){this.b=this.a[this.d++];this.b=(this.a[this.b]|this.a[this.b+1]<<8)+this.o;this.e=Q(this,this.e,this.a[this.b])};
f.ce=function(){this.b=this.a[this.d++]+this.m&255;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.ui=function(){this.b=this.a[this.d++]+this.m&255;this.e=Q(this,this.e,this.a[this.b])};f.mh=function(){this.h=this.a[this.d++]+this.m&255;this.f=this.g=this.a[this.h]=this.a[this.h]+1&255};f.wi=function(){Ha(this)};
f.Yd=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.pi=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.o;this.e=Q(this,this.e,this.a[this.b])};
f.Xd=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.c=this.e-this.a[this.b]-(this.c&256?0:1);this.u=this.e^this.a[this.b];this.t=this.c;this.f=this.g=this.e=this.c&255;this.c^=256};f.oi=function(){this.b=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.e=Q(this,this.e,this.a[this.b])};f.kh=function(){this.h=(this.a[this.d++]|this.a[this.d++]<<8)+this.m;this.f=this.g=this.a[this.h]=this.a[this.h]+1&255};
f.Li=function(){var a;a=this.a[this.d++];switch(a){case this.tf:G(this,"HALT");this.S();break;case this.md:a=this.d;for(var b="";a<this.a.length;){var c=this.a[a++];if(!c)break;b+=String.fromCharCode(c)}this.d=a;b=b.replace(/%A/g,h(this.e)).replace(/%X/g,h(this.m)).replace(/%Y/g,h(this.o));G(this,b);Fa(this);break;default:this.d-=2,G(this,"undefined opSim: "+h(a)+" at "+p(this.d)),this.S()}};f.i=function(){var a=this.a[--this.d];G(this,"undefined opcode: "+h(a)+" at "+p(this.d));this.S()};
x(function(){for(var a=F(window.document,"c1pjs","cpu"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new sa(d);E(d,c)}});function R(a){z.call(this,"C1PROM",a);this.sa=this.a=null;this.Pa=a.size;if(this.sb=a.image){a=this.sb;var b;b=this.sb;var c="",d=b.lastIndexOf(".");0<=d&&(c=b.substr(d+1).toLowerCase());b=c;"json"!=b&&"hex"!=b&&(a="http://"+window.location.host+"/api/v1/dump?file="+this.sb);s(a,!0,null,this,this.Ff)}}B(R);
R.prototype.U=function(a,b,c,d){this.a=a;this.Dc=b;a=c-b+1;this.Pa||(this.Pa=a);a!=this.Pa?K(this,"computer-specified ROM size ("+p(a)+") does not match component-specified size ("+p(this.Pa)+")"):(d&&(this.k=d,N(d,b,c,this,this.N)),Ja(this))};R.prototype.aa=function(a,b){a&&!this.B&&(this.B=!0,this.l=L(b,"debugger"))};R.prototype.N=function(a,b){if(void 0!==b){this.l&&S(this.l,this,a,b,this.l.bc,!0);var c=a-this.Dc;this.a[this.Dc+c]=this.sa?this.sa[c]:0}};
R.prototype.Ff=function(a,b,c){if(c)G(this,"ROM load error ("+c+")");else{if("["==b[0])try{this.sa=eval("("+b+")")}catch(d){G(this,"ROM data error: "+(d.message||d));return}else for(a=b.replace(/\n/gm," ").replace(/ +$/,"").split(" "),this.sa=Array(a.length),b=0;b<a.length;b++)this.sa[b]=parseInt(a[b],16);Ja(this)}};
function Ja(a){if(!J(a))if(!a.sb)a.O();else if(a.sa&&a.a){var b=a.sa.length;if(b!=a.Pa)K(a,"ROM image size ("+p(b)+") does not match component-specified size ("+p(a.Pa)+")");else{for(var c=0;c<b;c++)a.a[a.Dc+c]=a.sa[c];a.O()}}}x(function(){for(var a=F(window.document,"c1pjs","rom"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new R(d);E(d,c)}});function Ka(a){z.call(this,"C1PRAM",a)}B(Ka);Ka.prototype.U=function(a){this.a=a;this.O()};
x(function(){for(var a=F(window.document,"c1pjs","ram"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new Ka(d);E(d,c)}});
function La(a){z.call(this,"C1PKeyboard",a);this.B=!1;this.vc=a.model;this.Nc=8;this.De=9;this.Be=10;this.Ae=13;this.Ce=16;this.ze=17;this.we=18;this.xe=20;this.Oc=27;this.ye=91;this.te=this.Nc;this.ue=this.Be;this.qe=this.Ae;this.Ic=this.Oc;this.R=224;this.n=this.Ce+this.R;this.yb=this.ze+this.R;this.ac=this.we+this.R;this.Jc=this.xe+this.R;this.Hc=0+this.R;this.re=3;this.se=15;this.xb=1;this.wb=2;this.vb=4;this.Za=8;this.ub=64;this.$b=this.wb|this.vb|this.ub;this.ld=0;this.rf=1;this.qf=2;this.sf=
3;this.pf=4;this.Tf=8192;this.Qf=250;this.Rf=100;this.Of=300;this.Ma=[];this.Ma["break"]=this.Hc;this.Ma.esc=this.Ic;this.Ma["ctrl-c"]=this.re;this.Ma["ctrl-o"]=this.se;this.j=[];this.j[49]=30464;this.j[33]=30464+this.n;this.j[50]=30208;this.j[34]=30208+this.n;this.j[51]=29952;this.j[35]=29952+this.n;this.j[52]=29696;this.j[36]=29696+this.n;this.j[53]=29440;this.j[37]=29440+this.n;this.j[54]=29184;this.j[38]=29184+this.n;this.j[55]=28928;this.j[39]=28928+this.n;this.j[56]=26368;this.j[40]=26368+this.n;
this.j[57]=26112;this.j[41]=26112+this.n;this.j[48]=25856;this.j[58]=25600;this.j[42]=25600+this.n;this.j[45]=25344;this.j[61]=25344+this.n;this.j[46]=22272;this.j[62]=22272+this.n;this.j[108]=22016;this.j[76]=22016+this.n;this.j[92]=22016+this.n;this.j[111]=21760;this.j[79]=21760+this.n;this.j[this.te]=21760+this.n;this.j[this.ue]=21504;this.j[this.qe]=21248;this.j[119]=18176;this.j[87]=18176+this.n;this.j[101]=17920;this.j[69]=17920+this.n;this.j[114]=17664;this.j[82]=17664+this.n;this.j[116]=17408;
this.j[84]=17408+this.n;this.j[121]=17152;this.j[89]=17152+this.n;this.j[117]=16896;this.j[85]=16896+this.n;this.j[105]=16640;this.j[73]=16640+this.n;this.j[115]=14080;this.j[83]=14080+this.n;this.j[100]=13824;this.j[68]=13824+this.n;this.j[102]=13568;this.j[70]=13568+this.n;this.j[103]=13312;this.j[71]=13312+this.n;this.j[104]=13056;this.j[72]=13056+this.n;this.j[106]=12800;this.j[74]=12800+this.n;this.j[107]=12544;this.j[75]=12544+this.n;this.j[91]=12544+this.n;this.j[120]=9984;this.j[88]=9984+
this.n;this.j[99]=9728;this.j[67]=9728+this.n;this.j[118]=9472;this.j[86]=9472+this.n;this.j[98]=9216;this.j[66]=9216+this.n;this.j[110]=8960;this.j[78]=8960+this.n;this.j[94]=8960+this.n;this.j[109]=8704;this.j[77]=8704+this.n;this.j[93]=8704+this.n;this.j[44]=8448;this.j[60]=8448+this.n;this.j[113]=5888;this.j[81]=5888+this.n;this.j[97]=5632;this.j[65]=5632+this.n;this.j[122]=5376;this.j[90]=5376+this.n;this.j[32]=5120;this.j[47]=4864;this.j[63]=4864+this.n;this.j[59]=4608;this.j[43]=4608+this.n;
this.j[112]=4352;this.j[80]=4352+this.n;this.j[64]=4352+this.n;this.j[this.yb]=1536;this.j[this.Ic]=1280;this.j[this.n]=512;this.j[this.ac]=256;this.j[this.Jc]=0;this.reset()}B(La);f=La.prototype;f.reset=function(){this.tb(this.vc);this.w=this.xb;this.vd=0;this.L=[this.xb,0,0,0,0,0,0,0];this.ic=[];if(this.ca)for(var a in this.ca)isNaN(a)||this.ca[a]&&clearTimeout(this.ca[a]);this.ca=[];this.de=this.wa=0;this.wd=-1;this.ud=this.L;this.Hd=this.Ac=0;this.Ia=""};
f.H=function(a,b,c,d){if(void 0===this.q[c])switch(c){case "keyDown":return this.q[c]=d,d.onkeydown=function(a){return function(b){return Ma(a,b,!0)}}(this),!0;case "keyPress":return this.q[c]=d,d.onkeypress=function(a){return function(b){var c=!0;b=b||window.event;b=b.which||b.keyCode;a.Ia="";a.w&a.Za?a.w&=~a.Za:c=!Na(a,b);a.l&&T(a.l,a.l.ya)&&a.l.message("keyPress("+h(b)+"): "+(c?"pass":"consume"));return c}}(this),!0;case "keyUp":return this.q[c]=d,d.onkeyup=function(a){return function(b){return Ma(a,
b,!1)}}(this),!0;case "break":return this.q[c]=d,d.onclick=function(a){return function(){a.M&&a.M.reset(!0)}}(this),!0;default:if(void 0!==this.Ma[c])return this.q[c]=d,d.onclick=function(a,b,c){return function(){a.k&&a.k.V();return!Na(a,c)}}(this,c,this.Ma[c]),!0}return!1};f.U=function(a,b,c,d){this.a=a;this.Md=b;this.Bf=c-b+1;this.Xf=this.Md+this.Bf;d&&(this.k=d,N(d,b,c,this,this.N));this.O()};f.tb=function(a){this.qb=a;this.oc=255;600!=this.qb&&(this.oc=0,G(this,"updated keyboard model: "+this.qb))};
f.aa=function(a,b){a&&!this.B&&(this.B=!0,this.M=b,this.l=L(b,"debugger"))};f.O=function(){this.sc=(this.Jf=v("iOS"))||v("Android");this.l&&T(this.l,this.l.ya)&&this.l.message("mobile keyboard support: "+(this.sc?"true":"false")+" ("+window.navigator.userAgent+")");z.prototype.O.call(this)};function Oa(a,b){var c=b?a.Rf:a.Qf;a.k&&a.k.ta&&(c/=a.k.ta);return c}
function Pa(a,b){!a.wa||void 0!==b&&b==a.wa||(a.l&&T(a.l,a.l.ya)&&a.l.message("autoClear("+h(a.wa)+")"),clearTimeout(a.ca[a.wa]),U(a,a.wa,!1,a.pf))}function V(a,b,c){a.Ia=b;Qa(a,c||a.Of)}function Qa(a,b){if(0<a.Ia.length){var c=a.Ia.charCodeAt(0);10==c&&(c=13);65<=c&&90>=c&&(c+=32);a.Ia=a.Ia.substr(1);Na(a,c)}0<a.Ia.length&&setTimeout(function(a){return function(){Qa(a,b)}}(a),b)}
function Ma(a,b,c){var d,e=!c;b=b.keyCode;c&&(a.de=b);b==a.n-a.R?(a.w&=~a.vb,c&&(a.w|=a.vb),b+=a.R,e=!1):b==a.ac-a.R?(a.w&=~a.wb,c&&(a.w|=a.wb),b+=a.R,e=!1):b==a.yb-a.R?(a.w&=~a.ub,c&&(a.w|=a.ub),b+=a.R,e=!1):b==a.Jc-a.R?(c=!c,a.w&=~a.xb,c&&(a.w|=a.xb),b+=a.R,e=!1):b==a.ye?(a.w&=~a.Za,c&&(a.w|=a.Za),e=!1,d=!0):d=b==a.De?e=!1:b==a.Oc||b==a.Nc?c?!Na(a,b):!1:!0;e&&(a.w&=~a.Za,a.sc||b!=a.de||Pa(a));void 0===d&&(d=!U(a,b,c,a.qf));a.l&&T(a.l,a.l.ya)&&a.l.message("key"+(c?"Down":"Up")+"("+h(b)+"): "+(d?
"pass":"consume"));return d}function Na(a,b){var c=!1;b==a.Hc?a.M&&(a.M.reset(!0),c=!0):(a.sc&&65<=b&&90>=b&&(b+=32),Pa(a,b),U(a,b,!0,a.ld)&&(a.k.speed==a.k.La?U(a,b,!1,a.rf):(c=!1,a.ca[b]&&(clearTimeout(a.ca[b]),c=!0),c=Oa(a,c),a.ca[a.wa=b]=setTimeout(function(a){return function(){U(a,b,!1,a.sf)}}(a),c),a.l&&T(a.l,a.l.ya)&&a.l.message("keyPressSimulate("+h(b)+"): setTimeout()")),c=!0));a.l&&T(a.l,a.l.ya)&&a.l.message("keyPressSimulate("+h(b)+"): "+(c?"true":"false"));return c}
function U(a,b,c,d){var e=!1;c||(a.ca[b]=null,a.wa==b&&(a.wa=0));var g=0,k=a.j[b];void 0===k&&(1<=b&&26>=b&&(b+=64,g=a.yb),k=a.j[b]);void 0!==k&&(b=k>>12,e=k>>8&15,g||(g=k&255),c?(a.L[b]|=1<<e,a.L[0]=g==a.yb?a.L[0]|a.ub:g==a.n?a.L[0]|a.vb:g==a.ac?a.L[0]|a.wb:a.L[0]&~a.$b):(a.L[b]&=~(1<<e),a.L[0]&=~a.$b,a.L[0]|=a.w&a.$b),c=d==a.ld&&!a.ic.length,a.ic.push(a.L.slice()),a.Zb(c),e=!0);return e}f.G=function(){};f.N=function(a){var b=this.k.G(a);this.vd=b^this.oc;this.Ac++;this.Zb(!1,a,b)};
f.Zb=function(a,b){var c=Ga(this.k);if(!a)if(this.k.speed==this.k.La)a=void 0!==b&&32<=this.Ac;else{var d=c-this.Hd;a=0>d||d>=this.Tf}a&&(d=this.ic.shift(),void 0!==d&&(this.ud=d),this.Ac=0,this.Hd=c);for(d=c=0;8>d;d++)this.vd&1<<d&&(c|=this.ud[d]);c^=this.oc;if(void 0!==b)this.a[b]=c;else if(b=this.Md,c!=this.wd)for(d=b;d<this.Xf;d++)this.a[d]=c;this.wd=c};x(function(){for(var a=F(window.document,"c1pjs","keyboard"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new La(d);E(d,c)}});
function Ra(a,b,c,d){z.call(this,"C1PVideo",a);this.vc=a.model;this.Id=a.charCols;this.Jd=a.charRows;this.Gf=a.screenWidth;this.Hf=a.screenHeight;this.Nb=a.charWidth;this.Ob=a.charHeight;Sa(this);this.Pb=b;this.Ef=c;this.kb=d;this.hb=56832}B(Ra);f=Ra.prototype;f.reset=function(a){this.tb(this.vc);if(this.a)for(var b=this.Wb;b<this.Ec;b++)this.a[b]=a?Math.floor(256*Math.random()):32};
f.H=function(a,b,c,d){switch(c){case "refresh":return this.q[c]=d,d.onclick=function(a){return function(){Ta(a);ua(a)}}(this),!0}return!1};f.U=function(a,b,c,d){this.a=a;this.Wb=b;this.Df=c-b+1;this.Ec=this.Wb+this.Df;d&&(this.k=d,void 0!==this.hb&&(va(d,this.hb,this.hb,this,this.G),N(d,this.hb,this.hb,this,this.N)));this.reset(!0)};
function Sa(a,b,c,d,e){a.Ub=void 0!==b?b:a.Id;a.Uf=void 0!==c?c:a.Jd;a.Qa=a.Ub*a.Uf;a.Ec=a.Wb+a.Qa;a.Bd=void 0!==d?d:0;a.Kd=void 0!==e?e:c;a.xd=Math.floor(a.Gf/a.Ub);a.yd=Math.floor(a.Hf/a.Kd)}f.V=function(){this.Pb.focus()};f.tb=function(a){this.qb=a;600==this.qb?(Sa(this,this.Id,this.Jd,4,24),1024==this.Qa&&this.k&&(this.Jb=this.Ec+this.Qa-1,N(this.k,this.Jb,this.Jb,this,this.ie))):(G(this,"updated video model: "+this.qb),Sa(this,64,32));Ta(this);ua(this)};
f.aa=function(a,b){if(a&&!this.B&&J(this)){if(this.B=!0,this.l=L(b,"debugger"),this.F=L(b,"keyboard"))this.F.H("input","canvas","keyDown",this.Pb),this.F.H("input","canvas","keyPress",this.Pb),this.F.H("input","canvas","keyUp",this.Pb)}else!a&&this.B&&(this.B=!1)};f.O=function(){this.Nb||(this.Nb=Math.floor(this.kb.width/16));this.Ob||(this.Ob=Math.floor(this.kb.height/16));z.prototype.O.call(this)};
f.G=function(a,b){var c=this.k.G(a);void 0!==b&&this.l&&S(this.l,this,a,b,this.l.zb);this.k.N(a,c&127|(Math.floor(Ga(this.k)/8333)&1?128:0))};f.N=function(a,b){void 0!==b&&this.l&&S(this.l,this,a,b,this.l.zb)};
f.ie=function(a,b){if(void 0!==b){this.l&&S(this.l,this,a,b,this.l.zb,!0);this.tb(540);this.F&&this.F.tb(542);var c=this.k,d=c.ra,e=[],g=wa(d,this.Jb,this.Jb,this,this.ie);if(0<=g){e.push(d[g][0]);e.push(d[g][1]);d.splice(g,1);for(var k=65536,n=0,g=0;g<d.length;g++)k>d[g][0]&&(k=d[g][0]),n<d[g][1]&&(n=d[g][1]);e.push(k);e.push(n)}4==e.length&&(c.Kb=e[2],c.Lb=e[3])}};function Ta(a){a.jc=Array(a.Qa);for(var b=0;b<=a.Qa;b++)a.jc[b]=-1}
function ua(a){var b=0;if(a.B)for(;b<a.Qa;){var c=a.a[a.Wb+b];if(a.jc[b]!=c){var d=Math.floor(b/a.Ub);if(d>=a.Bd&&(d-=a.Bd,d<a.Kd)){var e=c*a.Nb;a.Ef.drawImage(a.kb,e%a.kb.width,Math.floor(e/a.kb.width)*a.Ob,a.Nb,a.Ob,b%a.Ub*a.xd,d*a.yd,a.xd,a.yd)}a.jc[b]=c}b++}}
x(function(){for(var a=F(window.document,"c1pjs","video"),b=0;b<a.length;b++){var c=a[b],d=D(c),e=window.document.createElement("canvas");if(void 0===e){c.innerHTML="<br/>Missing &lt;canvas&gt; support; try a new web browser.";break}e.setAttribute("class","c1pjs-canvas");e.setAttribute("width",d.screenWidth);e.setAttribute("height",d.screenHeight);e.setAttribute("contenteditable","true");e.setAttribute("autocapitalize","off");e.setAttribute("autocorrect","off");e.style.backgroundColor=d.screenColor;
e.style.height="auto";0<=(window?window.navigator.userAgent:"").indexOf("MSIE")&&(e.style.height=(c.clientWidth*d.screenHeight/d.screenWidth|0)+"px",c.onresize=function(a,b,c,d){return function(){b.style.height=(a.clientWidth*d/c|0)+"px"}}(c,e,d.screenWidth,d.screenHeight));c.appendChild(e);var g=new Image,k=e.getContext("2d"),e=new Ra(d,e,k,g);g.onload=function(a){return function(){a.O()}}(e,d.charSet);g.src=d.charSet;E(e,c)}});
function Ua(a){z.call(this,"C1PSerialPort",a);this.B=!1;this.Ad=a.demo;this.vf=0;this.uf=1;this.reset()}B(Ua);f=Ua.prototype;f.reset=function(){2!=this.Ea&&(this.Mb=this.nc=0,this.Ya='10 PRINT "HELLO OSI #'+ia(this)+'"\n',this.Ea=this.Tb=0)};f.start=function(){this.F&&this.Ad&&(V(this.F," C\n\n",3E3),setTimeout(function(a){return function(){a.Ea=1;V(a.F,"LOAD\n")}}(this),12E3));this.Ad=!1};
f.H=function(a,b,c,d){switch(c){case "listSerial":return this.q[c]=d,!0;case "loadSerial":return this.q[c]=d,d.onclick=function(a){return function(){a.q.listSerial&&s(a.q.listSerial.value,!0,null,a,a.Mf)}}(this),!0}return!1};f.U=function(a,b,c,d){this.a=a;this.Cc=b;this.Cf=c-b+1;this.Nd=this.Cc+this.Cf;if(this.k=d)va(d,b,c,this,this.G),N(d,b,c,this,this.N);this.O()};f.aa=function(a,b){a&&!this.B&&(this.B=!0,this.M=b,this.F=L(b,"keyboard"),this.l=L(b,"debugger"))};
f.Mf=function(a,b,c){b?(this.Ya=b,this.Ea=this.Tb=0,this.M&&this.F&&this.k.fa?(G(this,"auto-loading "+a),this.k.V(),"."!=this.Ya.charAt(0)?(this.Ea=1,V(this.F,"NEW\nLOAD\n")):(this.Ea=2,this.M.reset(!0),V(this.F,"ML"))):G(this,a+" ready to load")):G(this,a+" load error ("+c+")")};f.G=function(a,b){void 0!==b&&(a&1?Va(this):this.Ya&&!this.Tb&&Va(this))};f.N=function(a,b){void 0!==b&&this.l&&S(this.l,this,a,b,this.l.Pc,!0)};
function Va(a){if(void 0!==a.Ya){a.nc=0;a.Mb=0;if(a.Tb<a.Ya.length){var b=a.Ya.charCodeAt(a.Tb++);10==b&&(b=13);a.nc=b;a.Mb=1}else 1==a.Ea&&a.F&&V(a.F," \nRUN\n"),a.Ea=0;a.Zb()}}f.Zb=function(){var a;for(a=this.Cc+0;a<this.Nd;a+=2)this.a[a]=this.Mb?this.uf:this.vf;for(a=this.Cc+1;a<this.Nd;a+=2)this.a[a]=this.Mb?this.nc:0};x(function(){for(var a=F(window.document,"c1pjs","serial"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new Ua(d);E(d,c)}});
function Wa(a){z.call(this,"C1PDiskController",a);this.B=!1;this.mf=this.jd=0;this.fd=1;this.nf=this.kd=2;this.gd=3;this.Kc=128;this.Lc=64;this.Ja=4;this.gf=1;this.bd=2;this.ff=4;this.jf=8;this.hf=16;this.cd=32;this.ad=64;this.hc=128;this.ed=4;this.dd=8;this.kf=32;this.of=this.lf=16;this.hd=17;this.Mc=3;this.qd=1;this.rd=2;this.pd=4;this.od=8;this.ve=0;this.Ee=40;this.reset(!0)}B(Wa);f=Wa.prototype;
f.reset=function(a){Xa(this);this.J=-1;a&&(this.T=[],this.T[0]={Vi:this.ve,Ld:this.Ee,If:!0,Va:20,ga:0,Ta:-1,Ib:[]})};
function Xa(a){a.ee={r:a.ad,$:function(){},update:function(a){return function(c){void 0!==c&&(this.r=c);a.Xb.r&a.Ja||W(a,a.mf,this)}}(a)};a.Ga={r:255,$:function(){this.update()},update:function(a){return function(c){void 0===c?c=a.Ga.r:Ya(a,c,a.rb.r);c=c|a.hc|a.cd|a.jf|a.ff|a.bd|a.hf;c&=~a.gf;if(0<=a.J&&a.T[a.J].Ib.length){var d=a.T[a.J];d.If&&(c&=~a.cd);d.ga||(c&=~a.bd);10>=--d.Va&&(0<d.Va?(c&=~a.hc,Za(a)):(d.Va=100,0<=a.J&&(a.T[a.J].Ta=0,$a(a))))}this.r=c;a.Xb.r&a.Ja&&W(a,a.jd,this)}}(a)};a.Xb=
{r:0,$:function(){},update:function(a){return function(c){void 0!==c&&(this.r=c&~(a.Kc|a.Lc));W(a,a.fd,this);a.Ga.update();a.ee.update()}}(a)};a.fe={r:255,$:function(){},update:function(a){return function(c){void 0!==c&&(this.r=c);a.Yb.r&a.Ja||W(a,a.nf,this)}}(a)};a.rb={r:255,$:function(){},update:function(a){return function(c){void 0===c?c=a.rb.r:Ya(a,a.Ga.r,c);if(0<=a.J&&a.J<a.T.length){var d=a.T[a.J];d.Ib.length&&a.rb.r&a.dd&&!(c&a.dd)&&(c&a.ed?d.ga--:d.ga++,a.l&&T(a.l,a.l.Ka)&&a.l.message("stepping "+
(c&a.ed?"down":"up")+" to track "+d.ga),d.ga>=d.Ld&&(d.ga=d.Ld),0>d.ga&&(d.ga=0),d.Va=20,a.Ga.update(a.Ga.r|a.hc),Za(a))}this.r=c;a.Yb.r&a.Ja&&W(a,a.kd,this)}}(a)};a.Yb={r:0,$:function(){},update:function(a){return function(c){void 0!==c&&(this.r=c&~(a.Kc|a.Lc));W(a,a.gd,this);a.rb.update();a.fe.update()}}(a)};a.Si={r:0,$:function(){},update:function(a){return function(c){void 0!==c&&((c&a.Mc)==a.Mc&&(a.Ha.r=a.rd|a.pd|a.od),this.r=c);a.Ha.update()}}(a)};a.Ha={r:a.rd|a.pd|a.od,$:function(){},update:function(a){return function(c){void 0===
c&&(c=a.Ha.r);c&=~a.qd;0<=a.J&&0<=a.T[a.J].Ta&&(c|=a.qd);this.r=c;W(a,a.of,this)}}(a)};a.Gc={r:0,$:function(a){return function(){$a(a)}}(a),update:function(a){return function(c){void 0!==c&&(this.r=c);W(a,a.hd,this)}}(a)};a.Ti={r:0,$:function(){},update:function(){return function(){}}(a)}}
f.H=function(a,b,c,d){switch(c){case "listDisk":return this.q[c]=d,!0;case "loadDisk":return this.q[c]=d,d.onclick=function(a){return function(){if(a.q.listDisk){var b=a.q.listDisk.value,c=b;".json"!=b.substr(b.length-5)&&(c="http://"+window.location.host+"/api/v1/dump?disk="+b);G(a,"loading  "+ba(b)+"...");s(c,!0,null,a,a.Lf)}}}(this),!0}return!1};f.U=function(a,b,c,d){this.a=a;this.kc=b;if(this.k=d)va(d,b,c,this,this.G),N(d,b,c,this,this.N);this.O()};
f.aa=function(a,b){a&&!this.B&&(this.B=!0,this.l=L(b,"debugger"))};
f.Lf=function(a,b,c){if(c)G(this,"disk load error ("+c+")");else{c=[];G(this,"mounting "+a+"...");try{if(c=eval("("+b+")"),c.length)if(c[0].length){var d=c[0];if(void 0===d[0].trackNum)G(this,"data error: "+d[0]);else if(this.T[0]){for(b=0;b<d.length;b++){var e,g=d[b],k=g.sectors;if(void 0===(e=g.trackNum)||void 0===k)throw"track "+b+" missing data";e!=b&&u("track "+e+" out of order (expected "+b+")");c=[];var n,m,l;if(e){ab(c,g,"trackSig");bb(c,g);X(c,g,"trackType");for(var q=0;q<k.length;q++){n=
k[q];m=n.sectorData;X(c,n,"sectorSig");X(c,n,"sectorNum");X(c,n,"sectorPages");for(l=0;l<m.length;l++)c.push(m[l]);ab(c,n,"sectorEndSig")}}else for(n=k[0],m=n.sectorData,X(c,g,"trackLoad",2),X(c,n,"sectorPages"),l=0;l<m.length;l++)c.push(m[l]);d[e].he=c;this.l&&T(this.l,this.l.Ka)&&this.l.message("track "+e+": "+c.length+" bytes")}this.T[0].Ib=d;G(this,"mount of "+a+" complete")}else G(this,"no available drives")}else G(this,"no tracks: "+a);else G(this,"no data: "+a)}catch(t){G(this,"disk data error: "+
(t.message||t))}}};function bb(a,b){var c=b.trackNum;if(void 0===c)throw"missing bcd value: trackNum";a.push(Math.floor(c/10)<<4|c%10)}function X(a,b,c,d){b=b[c];if(void 0===b)throw"missing binary value: "+c;2==d&&a.push(b>>8&255);a.push(b&255)}function ab(a,b,c){b=b[c];if(void 0===b)throw"missing signature: "+c;for(c=0;c<b.length;c++)a.push(b.charCodeAt(c))}
function cb(a,b,c){b&=63;16>b?b&=3:32>b&&(b&=17);switch(b){case a.jd:a=a.Xb.r&a.Ja?a.Ga:a.ee;break;case a.fd:a=a.Xb;break;case a.kd:a=a.Yb.r&a.Ja?a.rb:a.fe;break;case a.gd:a=a.Yb;break;case a.lf:a=c?a.Si:a.Ha;break;case a.hd:a=a.Gc;break;default:a=a.Ti}return a}f.G=function(a,b){if(void 0!==b){var c=cb(this,a-this.kc,!1);this.l&&S(this.l,this,a,b,this.l.Ka,!1,c.ge);c.$()}};
f.N=function(a,b){if(void 0!==b){var c=this.k.G(a),d=cb(this,a-this.kc,!0);if(this.l&&T(this.l,this.l.Ka|this.l.bc)&&(S(this.l,this,a,b,this.l.Ka,!0,d.ge),d.xf))for(var e=128,g=d.r^c;g&&e;)g&e&&this.l.message("  changed "+d.ge+"."+d.xf[e]+" to "+(c&e?"1":"0")),e>>=1;d.update(c)}};function Ya(a,b,c){var d=-1;void 0!==b&&void 0!==c&&(d=0,c&a.kf||(d|=2),a.Ga.r&a.ad||(d|=1));a.J!=d&&(a.J=d,a.Ha.update())}function Za(a){0<=a.J&&(a.T[a.J].Ta=-1,a.Gc.update(255),a.Ha.update())}
function $a(a){var b=null;if(0<=a.J){var b=a.T[a.J],c=b.Ib[b.ga];void 0!==c&&(0<=b.Ta&&b.Ta<c.he.length?(b.Va=100,b=c.he[b.Ta++],a.Gc.update(b),a.Ha.update()):(b.Va=10,Za(a)))}}function W(a,b,c){a.k.N(b+a.kc,c.r)}x(function(){for(var a=F(window.document,"c1pjs","disk"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new Wa(d);E(d,c)}});
function db(a){z.call(this,"C1PDebugger",a);this.Oa=-1;this.va=0;this.Fc=null;this.Rb=!1;this.Y=0;this.qa=[];this.Aa=[];this.Da=[];this.jb=0;this.Ca=[];this.ea=[];this.bc=1;this.ya=16;this.zb=32;this.Ka=64;this.Pc=128;this.Fa=this.Fe=0;this.Hb={port:this.bc,kbd:this.ya,video:this.zb,disk:this.Ka,serial:this.Pc};this.ja=0;this.ka=1;this.$a=2;this.Sc=3;this.Tc=4;this.Uc=5;this.Vc=6;this.Wc=7;this.Xc=8;this.Yc=9;this.Ge=10;this.Zc=11;this.$c=12;this.He=13;this.Ie=14;this.Je=15;this.Ke=16;this.la=17;
this.cc=18;this.dc=19;this.Cb=20;this.Me=21;this.Ne=22;this.ma=23;this.Db=24;this.Oe=25;this.Pe=26;this.Eb=27;this.Fb=28;this.na=29;this.ab=30;this.bb=31;this.cb=32;this.Qe=33;this.oa=34;this.Re=35;this.Se=36;this.Te=37;this.Ue=38;this.eb=39;this.fb=40;this.Ve=41;this.We=42;this.pa=43;this.Xe=44;this.Ye=45;this.Ze=46;this.za=47;this.fc=48;this.gc=49;this.$e=50;this.af=51;this.bf=52;this.cf=53;this.df=54;this.ef=55;this.ec=56;this.Le=57;this.gb="ADC AND ASL BCC BCS BEQ BIT BMI BNE BPL BRK BVC BVS CLC CLD CLI CLV CMP CPX CPY DEC DEX DEY EOR INC INX INY JMP JSR LDA LDX LDY LSR NOP ORA PHA PHP PLA PLP ROL ROR RTI RTS SBC SEC SED SEI STA STX STY TAX TAY TSX TXA TXS TYA SIM .DB".split(" ");
this.sd=["HLT","MSG"];eb(this,!0);this.X=[[this.Ge],[this.oa,1,this.ha],[this.ec,1],[],[],[this.oa,1,this.C],[this.$a,1,this.C],[],[this.Se],[this.oa,1,this.Q],[this.$a,0,this.Ab],[],[],[this.oa,2,this.A],[this.$a,2,this.A],[],[this.Yc,1,this.W],[this.oa,1,this.ia],[],[],[],[this.oa,1,this.I],[this.$a,1,this.I],[],[this.He],[this.oa,2,this.ba],[],[],[],[this.oa,2,this.K],[this.$a,2,this.K],[],[this.Fb,2,this.Bb],[this.ka,1,this.ha],[],[],[this.Vc,1,this.C],[this.ka,1,this.C],[this.eb,1,this.C],[],
[this.Ue],[this.ka,1,this.Q],[this.eb,0,this.Ab],[],[this.Vc,2,this.A],[this.ka,2,this.A],[this.eb,2,this.A],[],[this.Wc,1,this.W],[this.ka,1,this.ia],[],[],[],[this.ka,1,this.I],[this.eb,1,this.I],[],[this.Xe],[this.ka,2,this.ba],[],[],[],[this.ka,2,this.K],[this.eb,2,this.K],[],[this.Ve],[this.ma,1,this.ha],[],[],[],[this.ma,1,this.C],[this.cb,1,this.C],[],[this.Re],[this.ma,1,this.Q],[this.cb,0,this.Ab],[],[this.Eb,2,this.Bb],[this.ma,2,this.A],[this.cb,2,this.A],[],[this.Zc,1,this.W],[this.ma,
1,this.ia],[],[],[],[this.ma,1,this.I],[this.cb,1,this.I],[],[this.Je],[this.ma,2,this.ba],[],[],[],[this.ma,2,this.K],[this.cb,2,this.K],[],[this.We],[this.ja,1,this.ha],[],[],[],[this.ja,1,this.C],[this.fb,1,this.C],[],[this.Te],[this.ja,1,this.Q],[this.fb,0,this.Ab],[],[this.Eb,2,this.Qc],[this.ja,2,this.A],[this.fb,2,this.A],[],[this.$c,1,this.W],[this.ja,1,this.ia],[],[],[],[this.ja,1,this.I],[this.fb,1,this.I],[],[this.Ze],[this.ja,2,this.ba],[],[],[],[this.ja,2,this.K],[this.fb,2,this.K],[],
[],[this.za,1,this.ha],[],[],[this.gc,1,this.C],[this.za,1,this.C],[this.fc,1,this.C],[],[this.Ne],[],[this.cf],[],[this.gc,2,this.A],[this.za,2,this.A],[this.fc,2,this.A],[],[this.Sc,1,this.W],[this.za,1,this.ia],[],[],[this.gc,1,this.I],[this.za,1,this.I],[this.fc,1,this.Rc],[],[this.ef],[this.za,2,this.ba],[this.df],[],[],[this.za,2,this.K],[],[],[this.bb,1,this.Q],[this.na,1,this.ha],[this.ab,1,this.Q],[],[this.bb,1,this.C],[this.na,1,this.C],[this.ab,1,this.C],[],[this.af],[this.na,1,this.Q],
[this.$e],[],[this.bb,2,this.A],[this.na,2,this.A],[this.ab,2,this.A],[],[this.Tc,1,this.W],[this.na,1,this.ia],[],[],[this.bb,1,this.I],[this.na,1,this.I],[this.ab,1,this.Rc],[],[this.Ke],[this.na,2,this.ba],[this.bf],[],[this.bb,2,this.K],[this.na,2,this.K],[this.ab,2,this.ba],[],[this.dc,1,this.Q],[this.la,1,this.ha],[],[],[this.dc,1,this.C],[this.la,1,this.C],[this.Cb,1,this.C],[],[this.Pe],[this.la,1,this.Q],[this.Me],[],[this.dc,2,this.A],[this.la,2,this.A],[this.Cb,2,this.A],[],[this.Xc,1,
this.W],[this.la,1,this.ia],[],[],[],[this.la,1,this.I],[this.Cb,1,this.I],[],[this.Ie],[this.la,2,this.ba],[],[],[],[this.la,2,this.K],[this.Cb,2,this.K],[],[this.cc,1,this.Q],[this.pa,1,this.ha],[],[],[this.cc,1,this.C],[this.pa,1,this.C],[this.Db,1,this.C],[],[this.Oe],[this.pa,1,this.Q],[this.Qe],[],[this.cc,2,this.A],[this.pa,2,this.A],[this.Db,2,this.A],[],[this.Uc,1,this.W],[this.pa,1,this.ia],[],[],[],[this.pa,1,this.I],[this.Db,1,this.I],[],[this.Ye],[this.pa,2,this.ba],[],[],[],[this.pa,
2,this.K],[this.Db,2,this.K],[]]}B(db);f=db.prototype;f.H=function(a,b,c,d){var e=this;switch(c){case "debugInput":return this.Qb=this.q[c]=d,this.Qb.focus(),d.onkeypress=function(a,b){return function(d){13==d.keyCode&&(c=b.value,b.value="",fb(a,c))}}(this,d),!0;case "debugEnter":return this.q[c]=d,fa(d,function(){return e.Qb?(c=e.Qb.value,fb(e,c),!0):!1}),!0;case "step":return this.q[c]=d,fa(d,function(a){var b=!1;I(e,!0)||(H(e,!0),b=e.step(a?1:0),H(e,!1));return b}),!0}return!1};
f.U=function(a,b,c){this.a=a;this.Z=b;this.pc=c-b+1;this.Xa=this.Z+this.pc;this.O()};f.aa=function(a,b){a&&!this.B&&(this.B=!0,this.k=L(b,"cpu"))};f.V=function(){this.Qb.focus()};
function eb(a,b){a.Ab=0;a.Q=1;a.K=2;a.ba=3;a.Bb=4;a.Qc=5;a.I=6;a.Rc=7;a.ha=8;a.ia=9;a.A=10;a.C=11;a.W=a.Bb;var c="",d,e;if(b)for(a.da="A #$nn $nnnn,X $nnnn,Y $nnnn ($nnnn) $nn,X $nn,Y ($nn,X) ($nn),Y $nnnn $nn".split(" "),d=0;d<a.da.length;d++)e=a.da[d],c+="("+e.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/nnnn/g,"[0-9A-F][0-9A-F][0-9A-F][0-9A-F]?").replace(/nn/g,"[0-9A-F][0-9A-F]?").replace(/\$/g,"\\$")+"|)";else for(a.da="A nn [nnnn+X] [nnnn+Y] nnnn [nnnn] [nn+X] [nn+Y] [[nn+X]] [[nn]+Y] [nnnn] [nn]".split(" "),
d=0;d<a.da.length;d++)e=a.da[d],c+="("+e.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/nnnn/g,"[0-9A-F][0-9A-F][0-9A-F][0-9A-F]?").replace(/nn/g,"[0-9A-F][0-9A-F]?").replace(/\+/g,"\\+")+"|)";a.Ui=new RegExp(c);a.yf=[a.Eb,a.Fb,a.Yc,a.Wc,a.Zc,a.$c,a.Sc,a.Tc,a.Xc,a.Uc]}f.S=function(){this.k.S()};function T(a,b){return(a.Fa&b)===b}function S(a,b,c,d,e,g,k){(a.Fa&e)==e&&(e=a.k.G(c),a.message(b.id+"."+(g?"setByte":"getByte")+"("+p(c)+")"+(void 0!==d?" @"+p(d):"")+": "+(k?k+"=":"")+h(e)))}
f.message=function(a){G(this,a);Fa(this.k)};f.Kf=function(){G(this,"Type ? for list of debugger commands\n")};f.xa=function(){if(!gb(this))return!1;this.k.xa();return!0};f.step=function(a){if(!gb(this))return!1;var b;try{b=this.k.step(a)}catch(c){b=void 0,K(this.k,c.message||c)}void 0!==b&&this.Oa++;this.k.update(!0);this.update(!0);return b};f.update=function(a){this.va=this.k.d;a||this.Sa?hb(this):ib(this)};
function gb(a){a.k&&J(a.k)&&!I(a.k)?(a=a.k,a.ib?(G(a,a.toString()+" error"),a=!0):a=!1,a=!a):a=!1;return a}f.reset=function(){var a;this.Ca.length||(this.Ca=Array(1E3));for(a=0;a<this.Ca.length;a++)this.Ca[a]=-1;this.ea.length||(this.ea=Array(256));for(a=0;a<this.ea.length;a++)this.ea[a]=[a,0];this.Oa&&this.update();this.Oa=0};f.start=function(){this.Sa||G(this,"running")};
f.stop=function(a,b){if(!this.Sa&&(G(this,"stopped"),b)){var c=r();G(this,c-a+"ms ("+b+" cycles)")}this.update();this.V();this.Sa||(this.Oa=0);jb(this,this.k.d)};function kb(a,b){return a+(b<<24>>24)}f.G=function(a){var b;a>=this.Z&&a<this.Xa&&(xa(this.k,a),b=this.a[this.Z+a],b&=255);return b};f.N=function(a,b){a<this.Z||a>=this.Xa?G(this,"invalid address: "+p(a)):(this.a[this.Z+a]=b&255,za(this.k,a),this.k.update())};function lb(a,b){Y(a.qa,b,void 0)||a.qa.push(b);return!0}
function Y(a,b,c){for(var d=!1,e=0;e<a.length;e++)if(a[e]==b){c&&a.splice(e,1);d=!0;break}return d}function mb(a,b){void 0!==b&&(jb(a,a.Na),lb(a,b)&&(a.Na=b))}function jb(a,b){void 0!==a.Na&&b==a.Na&&Y(a.qa,a.Na,!0)&&(a.Na=void 0);a.Sa=!1}function Ea(a,b,c,d){for(var e=!1,g=0;g<c.length;g++)if(c[g]==b){b!=a.Na&&G(a,"breakpoint hit: "+p(b)+" ("+d+")");e=!0;break}return e}
function nb(a,b,c){var d=p(b),e=a.G(b++),g=a.X[e],k=void 0===e?0:e,n=[],m=void 0===g[1]?0:g[1];do{d+=" "+h(k);if(!m--)break;k=a.G(b++);if(void 0===k)break;n.push(k)}while(1);void 0===g[0]&&(g=[a.Le,1,a.Q],n.push(e));var d=(d+"        ").substr(0,15),d=d+a.gb[g[0]],l=null;if(void 0!==g[2]){m=g[2];l=a.da[m];if(1==g[1]&&m==a.W)l=l.replace(/nnnn/,p(kb(b,k=n.pop())));else for(;n.length;)l=l.replace(/nn/,h(k=n.pop()));m==a.Q&&1==g[1]&&32<=k&&128>k&&(l+=" ;'"+String.fromCharCode(k)+"'")}if(e==a.k.ec&&(k<
a.sd.length&&(l=a.sd[k]),k==a.k.md)){m=0;for(l='"';k=a.G(b++);)16>m?l+=String.fromCharCode(k):16==m&&(l+="\u2026"),m++;l+='"'}l&&(d+=" "+l);c&&(d=(d+"               ").substr(0,30),d+=";"+c.toString());a.Wf=b;return d}
function Z(a,b){var c=a.va;if(void 0!==b){var d=16;"$"==b.charAt(0)?b=b.substr(1):"0x"==b.substr(0,2)?b=b.substr(2):"."==b.charAt(b.length-1)&&(d=10,b=b.substr(0,b.length-1));c=parseInt(b,d);isNaN(c)&&(G(a,"invalid base-"+d+" address: "+b),c=void 0)}void 0!==c&&(c<a.Z||c>=a.Xa)&&(G(a,"address out of range: "+aa(c)),c=void 0);return c}
function ob(a,b){if("?"==b)G(a,"\nfrequency commands:"),G(a,"clear\tclear all frequency counts");else{var c=0,d;if(a.ea)if("clear"==b){for(d=0;d<a.ea.length;d++)a.ea[d]=[d,0];G(a,"frequency data cleared");c++}else if(void 0!==b)G(a,"unknown frequency command: "+b),c++;else{var e=a.ea.slice();e.sort(function(a,b){return b[1]-a[1]});for(d=0;d<e.length;d++){var g=e[d][0],k=e[d][1];k&&(G(a,a.gb[a.X[g][0]]+" ("+h(g)+"): "+k+" times"),c++)}}c||G(a,"no frequency data available")}}
function hb(a,b,c,d){var e=Z(a,b);if(void 0!==e){void 0===d&&(d=1);b=a.Xa;if(void 0!==c){b=Z(a,c);if(void 0===b||b<e)return;if(256<b-e){G(a,"range too large");return}b++;d=-1}for(e!=a.va&&G(a);d--&&e<b;)c=nb(a,e,I(a,!1)||a.Sa?a.Oa:0),G(a,c),a.va=e=a.Wf}}
function ib(a,b){if(b&&"?"==b[1])G(a,"\nregister commands:"),G(a,"r to display all"),G(a,"r [target=value] to modify"),G(a,"supported targets:"),G(a,"A,X,Y,S,PC and flags C,Z,D,V,N");else{var c=!0;if(void 0!==b&&1<b.length){var c=!1,d=b[1],e=null,g=d.indexOf("=");if(0<g)e=d.substr(g+1),d=d.substr(0,g);else if(2<b.length)e=b[2];else{G(a,"missing value for "+b[1]);return}g=parseInt(e,16);if(isNaN(g)){G(a,"invalid value: "+e);return}switch(d.toUpperCase()){case "A":a.k.e=g&255;break;case "X":a.k.m=g&
255;break;case "Y":a.k.o=g&255;break;case "C":a.k.c=g?256:0;break;case "Z":a.k.g=g?0:1;break;case "D":g?Ha(a.k):Ia(a.k);break;case "V":g?(d=a.k,d.t=0,d.u=128):(d=a.k,d.t=0,d.u=0);break;case "N":a.k.f=g?128:0;break;case "S":if(256!=(g&-256)){G(a,"invalid stack pointer: "+e);return}a.k.p=g;break;case "PC":c=!0;a.k.d=g&65535;a.va=a.k.d;break;default:G(a,"unknown register: "+d);return}a.k.update()}G(a,"A="+h(a.k.e)+" X="+h(a.k.m)+" Y="+h(a.k.o)+" P="+h(Ca(a.k))+" S="+p(a.k.p)+" PC="+p(a.k.d));c&&hb(a,
p(a.va=a.k.d))}}function pb(a,b){var c=void 0===b?1:parseInt(b,10),d=1==c?0:1;ea(c,function(a){return function(){return H(a,!0)&&a.step(d)}}(a),function(a){return function(){H(a,!1)}}(a))}
function fb(a,b){b.length||(a.Rb?(G(a,"ended assemble @"+p(a.Y)),a.va=a.Y,a.Rb=!1):a.Fc&&(b=a.Fc));if(J(a)&&!I(a,!0)&&0<b.length){a.Rb?b="a "+p(a.Y)+" "+b:1<b.length&&1!=b.indexOf(" ")&&(b=b.charAt(0).toLowerCase()+" "+b.substr(1));var c=b.split(" ");a.Fc=c[0];switch(c[0].toLowerCase()){case "a":var d=Z(a,c[1]);if(void 0!==d)if(a.Y=d,void 0===c[2])G(a,"begin assemble @"+p(a.Y)),a.Rb=!0,a.k.update();else{var e,g=c[2],k=c[3],c=a.Y,d=[];if(void 0!==g){var n,g=g.toUpperCase();"?"==g.charAt(g.length-1)&&
(k="?",g=g.substr(0,g.length-1));for(n=0;n<a.gb.length&&g!=a.gb[n];n++);n==a.gb.length&&(G(a,"unknown operation: "+g),n=-1);var m="",l;if(0<=n&&void 0!==k)if(m=k.toUpperCase(),"?"==m){for(k=l=0;k<a.X.length;k++)a.X[k][0]===n&&(l||G(a,"supported opcodes:"),G(a,"     "+h(k)+": "+g+(void 0!==a.X[k][2]?" "+a.da[a.X[k][2]]:"")),l++);n=-1}else if(l=m.match(a.Ui),null!==l&&l[0]==m){for(k=1;k<l.length;k++)if(l[k]==m)if(void 0===e)e=k-1;else{G(a,"too many operand matches (both "+a.da[e]+" and "+a.da[k-1]+
")");n=-1;break}e==a.Bb&&0>a.yf.indexOf(n)&&(e=a.A);e==a.Qc&&n!=a.Eb&&(e=a.A)}else G(a,"unknown operand: "+m),n=-1;if(0<=n){l=-1;for(k=0;k<a.X.length;k++)if(a.X[k][0]===n&&a.X[k][2]===e)if(0>l)l=k;else{G(a,"too many instruction matches (both "+h(l)+" and "+h(k)+")");l=-2;break}if(0<=l){if(d.push(l),void 0!==e)if(g=a.X[l][1],m=m.match(/[0-9A-F]+/),null!==m)for(m=parseInt(m[0],16),1==g&&e==a.W&&(m-=c+2,-128>m||127<m)&&(G(a,"branch out of range ("+m+")"),d=[],g=0),k=0;k<g;k++)d.push(m&255),m>>>=8;else g&&
G(a,"instruction missing "+g+" bytes")}else G(a,"unknown instruction: "+g+" "+m+"")}}e=d;if(e.length){for(c=0;c<e.length;c++)a.N(a.Y+c,e[c]);G(a,nb(a,a.Y));a.Y+=e.length}}break;case "b":e=c[1];c=c[2];if(void 0===e||"?"==e)G(a,"\nbreakpoint commands:"),G(a,"bp [a]\tset exec breakpoint at [a]"),G(a,"br [a]\tset read breakpoint at [a]"),G(a,"bw [a]\tset write breakpoint at [a]"),G(a,"bc [a]\tclear breakpoint at [a]"),G(a,"bl\tlist all breakpoints");else if(void 0===c&&1<e.length&&(c=e.substr(1),e=e.substr(0,
1)),"l"==e){e=0;d=a.qa;for(c=0;c<d.length;c++)G(a,"breakpoint enabled: "+p(d[c])+" (exec)"),e++;d=a.Aa;for(c=0;c<d.length;c++)G(a,"breakpoint enabled: "+p(d[c])+" (read)"),e++;d=a.Da;for(c=0;c<d.length;c++)G(a,"breakpoint enabled: "+p(d[c])+" (write)"),e++;e||G(a,"no breakpoints")}else void 0===c?G(a,"missing breakpoint address"):"c"==e&&"*"==c?(a.qa=[],a.Aa=[],a.Da=[],G(a,"all breakpoints cleared")):(c=Z(a,c),void 0!==c&&("p"==e?lb(a,c)?G(a,"breakpoint enabled: "+p(c)+" (exec)"):G(a,"breakpoint not set: "+
p(c)):"c"==e?Y(a.qa,c,!0)?G(a,"breakpoint cleared: "+p(c)+" (exec)"):Y(a.Aa,c,!0)?G(a,"breakpoint cleared: "+p(c)+" (read)"):Y(a.Da,c,!0)?G(a,"breakpoint cleared: "+p(c)+" (write)"):G(a,"breakpoint missing: "+p(c)):"r"==e?(Y(a.Aa,c,void 0)||a.Aa.push(c),G(a,"breakpoint enabled: "+p(c)+" (read)")):"w"==e?(Y(a.Da,c,void 0)||a.Da.push(c),G(a,"breakpoint enabled: "+p(c)+" (write)")):G(a,"unknown breakpoint command: "+e)));break;case "d":e=c[1];d=c[2];if("?"==e)G(a,"\ndump commands:"),G(a,"d [a] [#]    dump # lines of memory");
else if(e=Z(a,e),void 0!==e){c=0;void 0!==d&&("l"==d.charAt(0)&&(d=d.substr(1)),c=parseInt(d,10));c||(c=1);for(d=0;d<c;d++){m=g="";k=e;for(n=0;8>n&&e<a.Xa;n++)l=a.G(e),void 0===l&&(l=0),g+=h(l)+" ",m+=32<=l&&128>l?String.fromCharCode(l):".",e++;G(a,p(k)+" "+g+m)}a.va=e}break;case "e":e=c[1];if(void 0===e)G(a,"missing address");else if(e=Z(a,e),void 0!==e)for(d=2;d<c.length;d++)g=parseInt(c[d],16),a.N(e++,g);break;case "f":ob(a,c[1]);break;case "g":e=c[1];void 0!==e&&mb(a,Z(a,e));a.xa()||a.k.V();break;
case "h":a.S();break;case "o":if(void 0===c[1]||"?"==c[1])G(a,"\noption commands:"),G(a,"max\trun at maximum speed"),G(a,"fast\trun faster (up to "+a.k.lb+"Mhz)"),G(a,"slow\trun at normal speed (1Mhz)"),G(a,"classic\tuse classic operand syntax"),G(a,"modern\tuse modern operand syntax"),G(a,"msg\tenable message categories");else switch(e=c[1],e){case "slow":M(a.k,a.k.Gb);break;case "fast":M(a.k,a.k.nd);break;case "max":M(a.k,a.k.La);break;case "classic":eb(a,!0);G(a,"classic syntax enabled");break;
case "modern":eb(a,!1);G(a,"modern syntax enabled");break;case "msg":e=0;void 0!==c[2]&&("all"==c[2]?e=255:void 0!==a.Hb[c[2]]&&(e=a.Hb[c[2]]),e&&("on"==c[3]?a.Fa|=e:"off"==c[3]&&(a.Fa&=~e)));for(d in a.Hb)if(void 0===c[2]||"all"==c[2]||c[2]==d)e=a.Hb[d],G(a,d+" messages: "+(a.Fa&e?"on":"off"));break;default:G(a,"unknown option: "+e)}break;case "p":m=c[1];e=10;c=a.jb;d=a.Ca;if(void 0!==d){g=void 0===m?a.Vf:parseInt(m,10);void 0===g&&(g=10);g>d.length&&(G(a,"note: only "+d.length+" available"),g=d.length);
void 0!==m&&(a.wc=0,G(a,g+" instructions earlier:"));m=a.wc?a.wc:1;c-=g;for(0>c&&(c=d.length-1);e&&c!=a.jb;){k=d[c];if(0>k)break;G(a,nb(a,k,m++));++c==d.length&&(c=0);e--;g--}a.Vf=g;a.wc=m}10==e&&G(a,"no history available");break;case "r":ib(a,c);break;case "s":a.G(a.k.d)==a.k.Fb?(mb(a,a.k.d+3),a.Sa=!0,a.xa()||a.k.V()):pb(a);break;case "t":pb(a,c[1]);break;case "u":hb(a,c[1],c[2],8);break;case "?":case "help":G(a,"\ncommands:\n?\thelp\na [#]\tassemble\nb [#]\tbreakpoint\nd [#]\tdump memory\ne [#]\tedit memory\nf\tdump frequencies\ng [#]\trun to [#]\nh\thalt\no\toptions\np [#]\tdump history\nr\tdump/edit registers\ns\tstep over instruction\nt [#]\tstep instruction(s)\nu [#]\tunassemble");
G(a,"note: frequency and history commands operate only when breakpoints are set");break;default:G(a,"unknown command: "+b)}}}x(function(){for(var a=F(window.document,"c1pjs","debugger"),b=0;b<a.length;b++){var c=a[b],d=D(c),d=new db(d);E(d,c)}});function $(a,b){z.call(this,"C1PComputer",a);this.P=b}B($);$.prototype.reset=function(a){var b=null,c;for(c in this.P)for(var d=0;d<this.P[c].length;d++){var e=this.P[c][d];e&&e.reset&&(e.reset(),"cpu"==c&&(b=e))}b&&(b.update(),a&&b.xa())};
$.prototype.start=function(){for(var a in this.P)if("cpu"!=a)for(var b=0;b<this.P[a].length;b++){var c=this.P[a][b];c&&c.start&&c.start()}};$.prototype.stop=function(a,b){for(var c in this.P)if("cpu"!=c)for(var d=0;d<this.P[c].length;d++){var e=this.P[c][d];e&&e.stop&&e.stop(a,b)}};$.prototype.H=function(a,b,c,d){switch(c){case "reset":return this.q[c]=d,d.onclick=function(a){return function(){a.reset()}}(this),!0}return!1};function L(a,b){return a.P[b]?a.P[b][0]:null}
function qb(a){var b=null,c;for(c in a.P)for(var d=0;d<a.P[c].length;d++){var e=a.P[c][d];if(e){if(!J(e)){J(e,function(a){return function(){qb(a)}}(a));return}"cpu"==c?b=e:e.aa&&e.aa(!0,a)}}a.O();G(a,"C1Pjs v1.15.3\nCopyright \u00a9 2012-2014 Jeff Parsons <Jeff@pcjs.org>");b&&b.aa(!0,a)}
x(function(){for(var a=F(window.document,"c1pjs","computer"),b=0;b<a.length;b++){for(var c=a[b],d=D(c),e,g={},k,n=0,m=0,l=0;l<d.modules.length;l++){var q=d.modules[l];if(!l){if("cpu"!=q.type)break;n=q.start;m=q.end;k=Array(m+1-n);for(e=n;e<k.length;e++)k[e]=0}if(e=C(q.refID,d.id)){var t=q.type;void 0===g[t]&&(g[t]=[]);g[t].push(e);e.U&&void 0!==q.start&&e.U(k,q.start,q.end,g.cpu[0])}else{u('no component for <module refid="'+q.refID+'">');return}}if(void 0===k){u('<module type="cpu"> definition must appear first in the <computer> specification');
break}if(e=C("debugger",d.id))g["debugger"]=[e],e.U&&e.U(k,n,m,g.cpu[0]);(e=C("panel",d.id))&&(g.panel=[e]);d=new $(d,g);E(d,c);qb(d)}});function rb(a,b,c,d){var e=s(a);if(e[0])throw Error(e[1]);return sb(e[1],a,b,c,d)}
function sb(a,b,c,d,e){var g=null;if(a){if(e)for(var k=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g;g=k.exec(a);){var n=g[2],m=s(n),l=m[1];if(m[0]||!l)throw c="unable to resolve XML reference: "+g[0]+" ("+m[0]+")",Error(c);if(m=g[3]){var q=l.match(new RegExp("<"+g[1]+"[^>]*>"));if(q){for(var n=q[0],t,ya=/( [a-z]+=)(['"])(.*?)\2/g;t=ya.exec(m);)n=0>n.indexOf(t[1])?n.replace(">",t[0]+">"):n.replace(new RegExp(t[1]+"(['\"])(.*?)\\1"),t[0]);q[0]!=n&&(l=l.replace(q[0],n))}else throw c="missing <"+g[1]+"> in "+n,
Error(c);}l=l.replace(/<\?xml[^>]*>[\r\n]*/,"");a=a.replace(g[0],l);k.lastIndex=0}c&&(b&&0>b.indexOf("/")&&(b=window.location.pathname+b),a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(d?" state=$2"+d+"$2":"")+(b?" url=$2"+b+"$2":"")));if(0===a.indexOf("<"))window.ActiveXObject||"ActiveXObject"in window?(e||(a=a.replace(/<!DOCTYPE(.|[\r\n])*\]>\s*/g,"")),g=new window.ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(a)):g=(new window.DOMParser).parseFromString(a,"text/xml");else throw Error("unrecognized XML: "+
(255<a.length?a.substr(0,255)+"...":a));}return[a,g]}
window.embedC1P=function(a,b,c){var d=c,e=c="",g=null;try{if(g=window.document.getElementById(a)){d||(d="/versions/c1pjs/1.15.3/components.xsl");var k="<"==b.substr(0,1)?sb(b,null,a,void 0,!1):rb(b,a,void 0,!0);c=k[0];var n=k[1];if(n){var k=rb(d),m=k[1];if(m)if(window.ActiveXObject||"ActiveXObject"in window){var l=n.transformNode(m);l?g.outerHTML=l:e="transformNodeToObject failed"}else if(window.document.implementation&&window.document.implementation.createDocument){var q=new XSLTProcessor;q.importStylesheet(m);
var t=q.transformToFragment(n,window.document);t?g.parentNode.replaceChild(t,g):e="transformToFragment failed"}else e="unable to transform XML: unsupported browser";else e="failed to load XSL file: "+d}else e="failed to load XML file: "+b}else e="failed to find machine element: "+a}catch(ya){e=ya.message}e&&g&&(a=F(g,"machine-warning"),a[0]&&(a[0].innerHTML="Error: "+da(e)));return e||c};window.enableEvents=function(a){ga=a};window.sendEvent=function(a){w[a]&&y(w[a])};})();//@ sourceMappingURL=/tmp/c1pjs/1.15.3/c1p-dbg.map
